"use strict";const se=require("react");function cf(a){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(a){for(const n in a)if(n!=="default"){const i=Object.getOwnPropertyDescriptor(a,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}return e.default=a,Object.freeze(e)}const ft=cf(se);var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var O0={exports:{}},ps={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=se,ff=Symbol.for("react.element"),gf=Symbol.for("react.fragment"),pf=Object.prototype.hasOwnProperty,vf=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mf={key:!0,ref:!0,__self:!0,__source:!0};function I0(a,e,n){var i,o={},u=null,h=null;n!==void 0&&(u=""+n),e.key!==void 0&&(u=""+e.key),e.ref!==void 0&&(h=e.ref);for(i in e)pf.call(e,i)&&!mf.hasOwnProperty(i)&&(o[i]=e[i]);if(a&&a.defaultProps)for(i in e=a.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:ff,type:a,key:u,ref:h,props:o,_owner:vf.current}}ps.Fragment=gf;ps.jsx=I0;ps.jsxs=I0;O0.exports=ps;var He=O0.exports,L0={exports:{}},vs={},os={},_e={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a._registerNode=a.Konva=a.glob=void 0;var e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}a.glob=typeof kc<"u"?kc:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},a.Konva={_global:a.glob,version:"9.2.0",isBrowser:n(),isUnminified:/param/.test((function(o){}).toString()),dblClickWindow:400,getAngle(o){return a.Konva.angleDeg?o*e:o},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return a.Konva.DD.isDragging},isDragReady(){return!!a.Konva.DD.node},releaseCanvasOnDestroy:!0,document:a.glob.document,_injectGlobal(o){a.glob.Konva=o}};const i=o=>{a.Konva[o.prototype.getClassName()]=o};a._registerNode=i,a.Konva._injectGlobal(a.Konva)})(_e);var $e={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Util=a.Transform=void 0;const e=_e;class n{constructor(w=[1,0,0,1,0,0]){this.dirty=!1,this.m=w&&w.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(w){w.m[0]=this.m[0],w.m[1]=this.m[1],w.m[2]=this.m[2],w.m[3]=this.m[3],w.m[4]=this.m[4],w.m[5]=this.m[5]}point(w){var k=this.m;return{x:k[0]*w.x+k[2]*w.y+k[4],y:k[1]*w.x+k[3]*w.y+k[5]}}translate(w,k){return this.m[4]+=this.m[0]*w+this.m[2]*k,this.m[5]+=this.m[1]*w+this.m[3]*k,this}scale(w,k){return this.m[0]*=w,this.m[1]*=w,this.m[2]*=k,this.m[3]*=k,this}rotate(w){var k=Math.cos(w),b=Math.sin(w),I=this.m[0]*k+this.m[2]*b,T=this.m[1]*k+this.m[3]*b,z=this.m[0]*-b+this.m[2]*k,O=this.m[1]*-b+this.m[3]*k;return this.m[0]=I,this.m[1]=T,this.m[2]=z,this.m[3]=O,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(w,k){var b=this.m[0]+this.m[2]*k,I=this.m[1]+this.m[3]*k,T=this.m[2]+this.m[0]*w,z=this.m[3]+this.m[1]*w;return this.m[0]=b,this.m[1]=I,this.m[2]=T,this.m[3]=z,this}multiply(w){var k=this.m[0]*w.m[0]+this.m[2]*w.m[1],b=this.m[1]*w.m[0]+this.m[3]*w.m[1],I=this.m[0]*w.m[2]+this.m[2]*w.m[3],T=this.m[1]*w.m[2]+this.m[3]*w.m[3],z=this.m[0]*w.m[4]+this.m[2]*w.m[5]+this.m[4],O=this.m[1]*w.m[4]+this.m[3]*w.m[5]+this.m[5];return this.m[0]=k,this.m[1]=b,this.m[2]=I,this.m[3]=T,this.m[4]=z,this.m[5]=O,this}invert(){var w=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),k=this.m[3]*w,b=-this.m[1]*w,I=-this.m[2]*w,T=this.m[0]*w,z=w*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),O=w*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=k,this.m[1]=b,this.m[2]=I,this.m[3]=T,this.m[4]=z,this.m[5]=O,this}getMatrix(){return this.m}decompose(){var w=this.m[0],k=this.m[1],b=this.m[2],I=this.m[3],T=this.m[4],z=this.m[5],O=w*I-k*b;let G={x:T,y:z,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(w!=0||k!=0){var Y=Math.sqrt(w*w+k*k);G.rotation=k>0?Math.acos(w/Y):-Math.acos(w/Y),G.scaleX=Y,G.scaleY=O/Y,G.skewX=(w*b+k*I)/O,G.skewY=0}else if(b!=0||I!=0){var H=Math.sqrt(b*b+I*I);G.rotation=Math.PI/2-(I>0?Math.acos(-b/H):-Math.acos(b/H)),G.scaleX=O/H,G.scaleY=H,G.skewX=0,G.skewY=(w*b+k*I)/O}return G.rotation=a.Util._getRotation(G.rotation),G}}a.Transform=n;var i="[object Array]",o="[object Number]",u="[object String]",h="[object Boolean]",d=Math.PI/180,f=180/Math.PI,p="#",y="",C="0",x="Konva warning: ",_="Konva error: ",m="rgb(",P={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},E=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,R=[];const N=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(v){setTimeout(v,60)};a.Util={_isElement(v){return!!(v&&v.nodeType==1)},_isFunction(v){return!!(v&&v.constructor&&v.call&&v.apply)},_isPlainObject(v){return!!v&&v.constructor===Object},_isArray(v){return Object.prototype.toString.call(v)===i},_isNumber(v){return Object.prototype.toString.call(v)===o&&!isNaN(v)&&isFinite(v)},_isString(v){return Object.prototype.toString.call(v)===u},_isBoolean(v){return Object.prototype.toString.call(v)===h},isObject(v){return v instanceof Object},isValidSelector(v){if(typeof v!="string")return!1;var w=v[0];return w==="#"||w==="."||w===w.toUpperCase()},_sign(v){return v===0||v>0?1:-1},requestAnimFrame(v){R.push(v),R.length===1&&N(function(){const w=R;R=[],w.forEach(function(k){k()})})},createCanvasElement(){var v=document.createElement("canvas");try{v.style=v.style||{}}catch{}return v},createImageElement(){return document.createElement("img")},_isInDocument(v){for(;v=v.parentNode;)if(v==document)return!0;return!1},_urlToImage(v,w){var k=a.Util.createImageElement();k.onload=function(){w(k)},k.src=v},_rgbToHex(v,w,k){return((1<<24)+(v<<16)+(w<<8)+k).toString(16).slice(1)},_hexToRgb(v){v=v.replace(p,y);var w=parseInt(v,16);return{r:w>>16&255,g:w>>8&255,b:w&255}},getRandomColor(){for(var v=(Math.random()*16777215<<0).toString(16);v.length<6;)v=C+v;return p+v},getRGB(v){var w;return v in P?(w=P[v],{r:w[0],g:w[1],b:w[2]}):v[0]===p?this._hexToRgb(v.substring(1)):v.substr(0,4)===m?(w=E.exec(v.replace(/ /g,"")),{r:parseInt(w[1],10),g:parseInt(w[2],10),b:parseInt(w[3],10)}):{r:0,g:0,b:0}},colorToRGBA(v){return v=v||"black",a.Util._namedColorToRBA(v)||a.Util._hex3ColorToRGBA(v)||a.Util._hex4ColorToRGBA(v)||a.Util._hex6ColorToRGBA(v)||a.Util._hex8ColorToRGBA(v)||a.Util._rgbColorToRGBA(v)||a.Util._rgbaColorToRGBA(v)||a.Util._hslColorToRGBA(v)},_namedColorToRBA(v){var w=P[v.toLowerCase()];return w?{r:w[0],g:w[1],b:w[2],a:1}:null},_rgbColorToRGBA(v){if(v.indexOf("rgb(")===0){v=v.match(/rgb\(([^)]+)\)/)[1];var w=v.split(/ *, */).map(Number);return{r:w[0],g:w[1],b:w[2],a:1}}},_rgbaColorToRGBA(v){if(v.indexOf("rgba(")===0){v=v.match(/rgba\(([^)]+)\)/)[1];var w=v.split(/ *, */).map((k,b)=>k.slice(-1)==="%"?b===3?parseInt(k)/100:parseInt(k)/100*255:Number(k));return{r:w[0],g:w[1],b:w[2],a:w[3]}}},_hex8ColorToRGBA(v){if(v[0]==="#"&&v.length===9)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:parseInt(v.slice(7,9),16)/255}},_hex6ColorToRGBA(v){if(v[0]==="#"&&v.length===7)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:1}},_hex4ColorToRGBA(v){if(v[0]==="#"&&v.length===5)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:parseInt(v[4]+v[4],16)/255}},_hex3ColorToRGBA(v){if(v[0]==="#"&&v.length===4)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:1}},_hslColorToRGBA(v){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(v)){const[w,...k]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(v),b=Number(k[0])/360,I=Number(k[1])/100,T=Number(k[2])/100;let z,O,G;if(I===0)return G=T*255,{r:Math.round(G),g:Math.round(G),b:Math.round(G),a:1};T<.5?z=T*(1+I):z=T+I-T*I;const Y=2*T-z,H=[0,0,0];for(let q=0;q<3;q++)O=b+1/3*-(q-1),O<0&&O++,O>1&&O--,6*O<1?G=Y+(z-Y)*6*O:2*O<1?G=z:3*O<2?G=Y+(z-Y)*(2/3-O)*6:G=Y,H[q]=G*255;return{r:Math.round(H[0]),g:Math.round(H[1]),b:Math.round(H[2]),a:1}}},haveIntersection(v,w){return!(w.x>v.x+v.width||w.x+w.width<v.x||w.y>v.y+v.height||w.y+w.height<v.y)},cloneObject(v){var w={};for(var k in v)this._isPlainObject(v[k])?w[k]=this.cloneObject(v[k]):this._isArray(v[k])?w[k]=this.cloneArray(v[k]):w[k]=v[k];return w},cloneArray(v){return v.slice(0)},degToRad(v){return v*d},radToDeg(v){return v*f},_degToRad(v){return a.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),a.Util.degToRad(v)},_radToDeg(v){return a.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),a.Util.radToDeg(v)},_getRotation(v){return e.Konva.angleDeg?a.Util.radToDeg(v):v},_capitalize(v){return v.charAt(0).toUpperCase()+v.slice(1)},throw(v){throw new Error(_+v)},error(v){console.error(_+v)},warn(v){e.Konva.showWarnings&&console.warn(x+v)},each(v,w){for(var k in v)w(k,v[k])},_inRange(v,w,k){return w<=v&&v<k},_getProjectionToSegment(v,w,k,b,I,T){var z,O,G,Y=(v-k)*(v-k)+(w-b)*(w-b);if(Y==0)z=v,O=w,G=(I-k)*(I-k)+(T-b)*(T-b);else{var H=((I-v)*(k-v)+(T-w)*(b-w))/Y;H<0?(z=v,O=w,G=(v-I)*(v-I)+(w-T)*(w-T)):H>1?(z=k,O=b,G=(k-I)*(k-I)+(b-T)*(b-T)):(z=v+H*(k-v),O=w+H*(b-w),G=(z-I)*(z-I)+(O-T)*(O-T))}return[z,O,G]},_getProjectionToLine(v,w,k){var b=a.Util.cloneObject(v),I=Number.MAX_VALUE;return w.forEach(function(T,z){if(!(!k&&z===w.length-1)){var O=w[(z+1)%w.length],G=a.Util._getProjectionToSegment(T.x,T.y,O.x,O.y,v.x,v.y),Y=G[0],H=G[1],q=G[2];q<I&&(b.x=Y,b.y=H,I=q)}}),b},_prepareArrayForTween(v,w,k){var b,I=[],T=[];if(v.length>w.length){var z=w;w=v,v=z}for(b=0;b<v.length;b+=2)I.push({x:v[b],y:v[b+1]});for(b=0;b<w.length;b+=2)T.push({x:w[b],y:w[b+1]});var O=[];return T.forEach(function(G){var Y=a.Util._getProjectionToLine(G,I,k);O.push(Y.x),O.push(Y.y)}),O},_prepareToStringify(v){var w;v.visitedByCircularReferenceRemoval=!0;for(var k in v)if(v.hasOwnProperty(k)&&v[k]&&typeof v[k]=="object"){if(w=Object.getOwnPropertyDescriptor(v,k),v[k].visitedByCircularReferenceRemoval||a.Util._isElement(v[k]))if(w.configurable)delete v[k];else return null;else if(a.Util._prepareToStringify(v[k])===null)if(w.configurable)delete v[k];else return null}return delete v.visitedByCircularReferenceRemoval,v},_assign(v,w){for(var k in w)v[k]=w[k];return v},_getFirstPointerId(v){return v.touches?v.changedTouches[0].identifier:v.pointerId||999},releaseCanvas(...v){e.Konva.releaseCanvasOnDestroy&&v.forEach(w=>{w.width=0,w.height=0})},drawRoundedRectPath(v,w,k,b){let I=0,T=0,z=0,O=0;typeof b=="number"?I=T=z=O=Math.min(b,w/2,k/2):(I=Math.min(b[0]||0,w/2,k/2),T=Math.min(b[1]||0,w/2,k/2),O=Math.min(b[2]||0,w/2,k/2),z=Math.min(b[3]||0,w/2,k/2)),v.moveTo(I,0),v.lineTo(w-T,0),v.arc(w-T,T,T,Math.PI*3/2,0,!1),v.lineTo(w,k-O),v.arc(w-O,k-O,O,0,Math.PI/2,!1),v.lineTo(z,k),v.arc(z,k-z,z,Math.PI/2,Math.PI,!1),v.lineTo(0,I),v.arc(I,I,I,Math.PI,Math.PI*3/2,!1)}}})($e);var Ye={},Se={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.getComponentValidator=ne.getBooleanValidator=ne.getNumberArrayValidator=ne.getFunctionValidator=ne.getStringOrGradientValidator=ne.getStringValidator=ne.getNumberOrAutoValidator=ne.getNumberOrArrayOfNumbersValidator=ne.getNumberValidator=ne.alphaComponent=ne.RGBComponent=void 0;const Mr=_e,qe=$e;function Or(a){return qe.Util._isString(a)?'"'+a+'"':Object.prototype.toString.call(a)==="[object Number]"||qe.Util._isBoolean(a)?a:Object.prototype.toString.call(a)}function yf(a){return a>255?255:a<0?0:Math.round(a)}ne.RGBComponent=yf;function _f(a){return a>1?1:a<1e-4?1e-4:a}ne.alphaComponent=_f;function Sf(){if(Mr.Konva.isUnminified)return function(a,e){return qe.Util._isNumber(a)||qe.Util.warn(Or(a)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),a}}ne.getNumberValidator=Sf;function Cf(a){if(Mr.Konva.isUnminified)return function(e,n){let i=qe.Util._isNumber(e),o=qe.Util._isArray(e)&&e.length==a;return!i&&!o&&qe.Util.warn(Or(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+a+")"),e}}ne.getNumberOrArrayOfNumbersValidator=Cf;function wf(){if(Mr.Konva.isUnminified)return function(a,e){var n=qe.Util._isNumber(a),i=a==="auto";return n||i||qe.Util.warn(Or(a)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),a}}ne.getNumberOrAutoValidator=wf;function xf(){if(Mr.Konva.isUnminified)return function(a,e){return qe.Util._isString(a)||qe.Util.warn(Or(a)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),a}}ne.getStringValidator=xf;function Pf(){if(Mr.Konva.isUnminified)return function(a,e){const n=qe.Util._isString(a),i=Object.prototype.toString.call(a)==="[object CanvasGradient]"||a&&a.addColorStop;return n||i||qe.Util.warn(Or(a)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),a}}ne.getStringOrGradientValidator=Pf;function kf(){if(Mr.Konva.isUnminified)return function(a,e){return qe.Util._isFunction(a)||qe.Util.warn(Or(a)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),a}}ne.getFunctionValidator=kf;function Ef(){if(Mr.Konva.isUnminified)return function(a,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&a instanceof n||(qe.Util._isArray(a)?a.forEach(function(i){qe.Util._isNumber(i)||qe.Util.warn('"'+e+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):qe.Util.warn(Or(a)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),a}}ne.getNumberArrayValidator=Ef;function Tf(){if(Mr.Konva.isUnminified)return function(a,e){var n=a===!0||a===!1;return n||qe.Util.warn(Or(a)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),a}}ne.getBooleanValidator=Tf;function Rf(a){if(Mr.Konva.isUnminified)return function(e,n){return e==null||qe.Util.isObject(e)||qe.Util.warn(Or(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+a),e}}ne.getComponentValidator=Rf;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Factory=void 0;const e=$e,n=ne;var i="get",o="set";a.Factory={addGetterSetter(u,h,d,f,p){a.Factory.addGetter(u,h,d),a.Factory.addSetter(u,h,f,p),a.Factory.addOverloadedGetterSetter(u,h)},addGetter(u,h,d){var f=i+e.Util._capitalize(h);u.prototype[f]=u.prototype[f]||function(){var p=this.attrs[h];return p===void 0?d:p}},addSetter(u,h,d,f){var p=o+e.Util._capitalize(h);u.prototype[p]||a.Factory.overWriteSetter(u,h,d,f)},overWriteSetter(u,h,d,f){var p=o+e.Util._capitalize(h);u.prototype[p]=function(y){return d&&y!==void 0&&y!==null&&(y=d.call(this,y,h)),this._setAttr(h,y),f&&f.call(this),this}},addComponentsGetterSetter(u,h,d,f,p){var y=d.length,C=e.Util._capitalize,x=i+C(h),_=o+C(h),m,P;u.prototype[x]=function(){var R={};for(m=0;m<y;m++)P=d[m],R[P]=this.getAttr(h+C(P));return R};var E=(0,n.getComponentValidator)(d);u.prototype[_]=function(R){var N=this.attrs[h],v;f&&(R=f.call(this,R)),E&&E.call(this,R,h);for(v in R)R.hasOwnProperty(v)&&this._setAttr(h+C(v),R[v]);return R||d.forEach(w=>{this._setAttr(h+C(w),void 0)}),this._fireChangeEvent(h,N,R),p&&p.call(this),this},a.Factory.addOverloadedGetterSetter(u,h)},addOverloadedGetterSetter(u,h){var d=e.Util._capitalize(h),f=o+d,p=i+d;u.prototype[h]=function(){return arguments.length?(this[f](arguments[0]),this):this[p]()}},addDeprecatedGetterSetter(u,h,d,f){e.Util.error("Adding deprecated "+h);var p=i+e.Util._capitalize(h),y=h+" property is deprecated and will be removed soon. Look at Konva change log for more information.";u.prototype[p]=function(){e.Util.error(y);var C=this.attrs[h];return C===void 0?d:C},a.Factory.addSetter(u,h,f,function(){e.Util.error(y)}),a.Factory.addOverloadedGetterSetter(u,h)},backCompat(u,h){e.Util.each(h,function(d,f){var p=u.prototype[f],y=i+e.Util._capitalize(d),C=o+e.Util._capitalize(d);function x(){p.apply(this,arguments),e.Util.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+f+'" instead.')}u.prototype[d]=x,u.prototype[y]=x,u.prototype[C]=x})},afterSetFilter(){this._filterUpToDate=!1}}})(Se);var sr={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.HitContext=Fr.SceneContext=Fr.Context=void 0;const D0=$e,bf=_e;function Nf(a){var e=[],n=a.length,i=D0.Util,o,u;for(o=0;o<n;o++)u=a[o],i._isNumber(u)?u=Math.round(u*1e3)/1e3:i._isString(u)||(u=u+""),e.push(u);return e}var Ec=",",Af="(",Ff=")",Mf="([",Of="])",If=";",Lf="()",Df="=",Tc=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Gf=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const Uf=100;class ms{constructor(e){this.canvas=e,bf.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var i=this.traceArr,o=i.length,u="",h,d,f,p;for(h=0;h<o;h++)d=i[h],f=d.method,f?(p=d.args,u+=f,e?u+=Lf:D0.Util._isArray(p[0])?u+=Mf+p.join(Ec)+Of:(n&&(p=p.map(y=>typeof y=="number"?Math.floor(y):y)),u+=Af+p.join(Ec)+Ff)):(u+=d.property,e||(u+=Df+d.val)),u+=If;return u}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr,i;n.push(e),i=n.length,i>=Uf&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,i,o,u,h){this._context.arc(e,n,i,o,u,h)}arcTo(e,n,i,o,u){this._context.arcTo(e,n,i,o,u)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,i,o,u,h){this._context.bezierCurveTo(e,n,i,o,u,h)}clearRect(e,n,i,o){this._context.clearRect(e,n,i,o)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){var i=arguments;if(i.length===2)return this._context.createImageData(e,n);if(i.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,i,o){return this._context.createLinearGradient(e,n,i,o)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,i,o,u,h){return this._context.createRadialGradient(e,n,i,o,u,h)}drawImage(e,n,i,o,u,h,d,f,p){var y=arguments,C=this._context;y.length===3?C.drawImage(e,n,i):y.length===5?C.drawImage(e,n,i,o,u):y.length===9&&C.drawImage(e,n,i,o,u,h,d,f,p)}ellipse(e,n,i,o,u,h,d,f){this._context.ellipse(e,n,i,o,u,h,d,f)}isPointInPath(e,n,i,o){return i?this._context.isPointInPath(i,e,n,o):this._context.isPointInPath(e,n,o)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,i,o){this._context.fillRect(e,n,i,o)}strokeRect(e,n,i,o){this._context.strokeRect(e,n,i,o)}fillText(e,n,i,o){o?this._context.fillText(e,n,i,o):this._context.fillText(e,n,i)}measureText(e){return this._context.measureText(e)}getImageData(e,n,i,o){return this._context.getImageData(e,n,i,o)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,i,o){this._context.rect(e,n,i,o)}putImageData(e,n,i){this._context.putImageData(e,n,i)}quadraticCurveTo(e,n,i,o){this._context.quadraticCurveTo(e,n,i,o)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,i,o,u,h){this._context.setTransform(e,n,i,o,u,h)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,i,o){this._context.strokeText(e,n,i,o)}transform(e,n,i,o,u,h){this._context.transform(e,n,i,o,u,h)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var e=this,n=Tc.length,i=this.setAttr,o,u,h=function(d){var f=e[d],p;e[d]=function(){return u=Nf(Array.prototype.slice.call(arguments,0)),p=f.apply(e,arguments),e._trace({method:d,args:u}),p}};for(o=0;o<n;o++)h(Tc[o]);e.setAttr=function(){i.apply(e,arguments);var d=arguments[0],f=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(f=f/this.canvas.getPixelRatio()),e._trace({property:d,val:f})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;var i=!n||n==="source-over";i||this.setAttr("globalCompositeOperation",n)}}Fr.Context=ms;Gf.forEach(function(a){Object.defineProperty(ms.prototype,a,{get(){return this._context[a]},set(e){this._context[a]=e}})});class zf extends ms{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),i=e.getFillPriority();if(n&&i==="color"){this._fillColor(e);return}const o=e.getFillPatternImage();if(o&&i==="pattern"){this._fillPattern(e);return}const u=e.getFillLinearGradientColorStops();if(u&&i==="linear-gradient"){this._fillLinearGradient(e);return}const h=e.getFillRadialGradientColorStops();if(h&&i==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):o?this._fillPattern(e):u?this._fillLinearGradient(e):h&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),i=e.getStrokeLinearGradientEndPoint(),o=e.getStrokeLinearGradientColorStops(),u=this.createLinearGradient(n.x,n.y,i.x,i.y);if(o){for(var h=0;h<o.length;h+=2)u.addColorStop(o[h],o[h+1]);this.setAttr("strokeStyle",u)}}_stroke(e){var n=e.dash(),i=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!i){this.save();var o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var u=e.getStrokeLinearGradientColorStops();u?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),i||this.restore()}}_applyShadow(e){var n,i,o,u=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",h=(i=e.getShadowBlur())!==null&&i!==void 0?i:5,d=(o=e.getShadowOffset())!==null&&o!==void 0?o:{x:0,y:0},f=e.getAbsoluteScale(),p=this.canvas.getPixelRatio(),y=f.x*p,C=f.y*p;this.setAttr("shadowColor",u),this.setAttr("shadowBlur",h*Math.min(Math.abs(y),Math.abs(C))),this.setAttr("shadowOffsetX",d.x*y),this.setAttr("shadowOffsetY",d.y*C)}}Fr.SceneContext=zf;class Bf extends ms{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const u=e.getStrokeScaleEnabled();if(!u){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var i=e.hitStrokeWidth(),o=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),u||this.restore()}}}Fr.HitContext=Bf;Object.defineProperty(sr,"__esModule",{value:!0});sr.HitCanvas=sr.SceneCanvas=sr.Canvas=void 0;const ls=$e,G0=Fr,U0=_e,Vf=Se,Hf=ne;var Ya;function jf(){if(Ya)return Ya;var a=ls.Util.createCanvasElement(),e=a.getContext("2d");return Ya=function(){var n=U0.Konva._global.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/i}(),ls.Util.releaseCanvas(a),Ya}class ys{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=e||{},i=n.pixelRatio||U0.Konva.pixelRatio||jf();this.pixelRatio=i,this._canvas=ls.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio,i=this.getContext()._context;i.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio,i=this.getContext()._context;i.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(o){return ls.Util.error("Unable to get data URL. "+o.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}sr.Canvas=ys;Vf.Factory.addGetterSetter(ys,"pixelRatio",void 0,(0,Hf.getNumberValidator)());class Wf extends ys{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new G0.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}sr.SceneCanvas=Wf;class Yf extends ys{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new G0.HitContext(this),this.setSize(e.width,e.height)}}sr.HitCanvas=Yf;var _s={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DD=void 0;const e=_e,n=$e;a.DD={get isDragging(){var i=!1;return a.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return a.DD._dragElements.forEach(o=>{i=o.node}),i},_dragElements:new Map,_drag(i){const o=[];a.DD._dragElements.forEach((u,h)=>{const{node:d}=u,f=d.getStage();f.setPointersPositions(i),u.pointerId===void 0&&(u.pointerId=n.Util._getFirstPointerId(i));const p=f._changedPointerPositions.find(x=>x.id===u.pointerId);if(p){if(u.dragStatus!=="dragging"){var y=d.dragDistance(),C=Math.max(Math.abs(p.x-u.startPointerPos.x),Math.abs(p.y-u.startPointerPos.y));if(C<y||(d.startDrag({evt:i}),!d.isDragging()))return}d._setDragPosition(i,u),o.push(d)}}),o.forEach(u=>{u.fire("dragmove",{type:"dragmove",target:u,evt:i},!0)})},_endDragBefore(i){const o=[];a.DD._dragElements.forEach(u=>{const{node:h}=u,d=h.getStage();if(i&&d.setPointersPositions(i),!d._changedPointerPositions.find(y=>y.id===u.pointerId))return;(u.dragStatus==="dragging"||u.dragStatus==="stopped")&&(a.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,u.dragStatus="stopped");const p=u.node.getLayer()||u.node instanceof e.Konva.Stage&&u.node;p&&o.indexOf(p)===-1&&o.push(p)}),o.forEach(u=>{u.draw()})},_endDragAfter(i){a.DD._dragElements.forEach((o,u)=>{o.dragStatus==="stopped"&&o.node.fire("dragend",{type:"dragend",target:o.node,evt:i},!0),o.dragStatus!=="dragging"&&a.DD._dragElements.delete(u)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",a.DD._endDragBefore,!0),window.addEventListener("touchend",a.DD._endDragBefore,!0),window.addEventListener("mousemove",a.DD._drag),window.addEventListener("touchmove",a.DD._drag),window.addEventListener("mouseup",a.DD._endDragAfter,!1),window.addEventListener("touchend",a.DD._endDragAfter,!1))})(_s);Object.defineProperty(Ye,"__esModule",{value:!0});Ye.Node=void 0;const we=$e,Yi=Se,Ka=sr,gn=_e,Xt=_s,Je=ne;var ts="absoluteOpacity",Xa="allEventListeners",Nr="absoluteTransform",Rc="absoluteScale",pn="canvas",Kf="Change",Xf="children",$f="konva",eu="listening",bc="mouseenter",Nc="mouseleave",Ac="set",Fc="Shape",rs=" ",Mc="stage",Kr="transform",qf="Stage",tu="visible",Qf=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(rs);let Jf=1;class de{constructor(e){this._id=Jf++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Kr||e===Nr)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){var i=this._cache.get(e),o=e===Kr||e===Nr,u=i===void 0||o&&i.dirty===!0;return u&&(i=n.call(this),this._cache.set(e,i)),i}_calculate(e,n,i){if(!this._attachedDepsListeners.get(e)){const o=n.map(u=>u+"Change.konva").join(rs);this.on(o,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,i)}_getCanvasCache(){return this._cache.get(pn)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Nr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(pn)){const{scene:e,filter:n,hit:i}=this._cache.get(pn);we.Util.releaseCanvas(e,n,i),this._cache.delete(pn)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},i={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var o=Math.ceil(n.width||i.width),u=Math.ceil(n.height||i.height),h=n.pixelRatio,d=n.x===void 0?Math.floor(i.x):n.x,f=n.y===void 0?Math.floor(i.y):n.y,p=n.offset||0,y=n.drawBorder||!1,C=n.hitCanvasPixelRatio||1;if(!o||!u){we.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}o+=p*2+1,u+=p*2+1,d-=p,f-=p;var x=new Ka.SceneCanvas({pixelRatio:h,width:o,height:u}),_=new Ka.SceneCanvas({pixelRatio:h,width:0,height:0,willReadFrequently:!0}),m=new Ka.HitCanvas({pixelRatio:C,width:o,height:u}),P=x.getContext(),E=m.getContext();return m.isCache=!0,x.isCache=!0,this._cache.delete(pn),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),P.save(),E.save(),P.translate(-d,-f),E.translate(-d,-f),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ts),this._clearSelfAndDescendantCache(Rc),this.drawScene(x,this),this.drawHit(m,this),this._isUnderCache=!1,P.restore(),E.restore(),y&&(P.save(),P.beginPath(),P.rect(0,0,o,u),P.closePath(),P.setAttr("strokeStyle","red"),P.setAttr("lineWidth",5),P.stroke(),P.restore()),this._cache.set(pn,{scene:x,filter:_,hit:m,x:d,y:f}),this._requestDraw(),this}isCached(){return this._cache.has(pn)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],o,u,h,d,f=this.getAbsoluteTransform(n);return i.forEach(function(p){var y=f.point(p);o===void 0&&(o=h=y.x,u=d=y.y),o=Math.min(o,y.x),u=Math.min(u,y.y),h=Math.max(h,y.x),d=Math.max(d,y.y)}),{x:o,y:u,width:h-o,height:d-u}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var i=this._getCachedSceneCanvas(),o=i.pixelRatio;e.drawImage(i._canvas,0,0,i.width/o,i.height/o),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),i=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),n=this._getCanvasCache(),i=n.scene,o=n.filter,u=o.getContext(),h,d,f,p;if(e){if(!this._filterUpToDate){var y=i.pixelRatio;o.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(h=e.length,u.clear(),u.drawImage(i._canvas,0,0,i.getWidth()/y,i.getHeight()/y),d=u.getImageData(0,0,o.getWidth(),o.getHeight()),f=0;f<h;f++){if(p=e[f],typeof p!="function"){we.Util.error("Filter should be type of function, but got "+typeof p+" instead. Please check correct filters");continue}p.call(this,d),u.putImageData(d,0,0)}}catch(C){we.Util.error("Unable to apply filter. "+C.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return o}return i}on(e,n){if(this._cache&&this._cache.delete(Xa),arguments.length===3)return this._delegate.apply(this,arguments);var i=e.split(rs),o=i.length,u,h,d,f,p;for(u=0;u<o;u++)h=i[u],d=h.split("."),f=d[0],p=d[1]||"",this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:p,handler:n});return this}off(e,n){var i=(e||"").split(rs),o=i.length,u,h,d,f,p,y;if(this._cache&&this._cache.delete(Xa),!e)for(h in this.eventListeners)this._off(h);for(u=0;u<o;u++)if(d=i[u],f=d.split("."),p=f[0],y=f[1],p)this.eventListeners[p]&&this._off(p,y,n);else for(h in this.eventListeners)this._off(h,y,n);return this}dispatchEvent(e){var n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(i){n.call(this,i.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,i){var o=this;this.on(e,function(u){for(var h=u.target.findAncestors(n,!0,o),d=0;d<h.length;d++)u=we.Util.cloneObject(u),u.currentTarget=h[d],i.call(h[d],u)})}remove(){return this.isDragging()&&this.stopDrag(),Xt.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Nr),this._clearSelfAndDescendantCache(ts),this._clearSelfAndDescendantCache(Rc),this._clearSelfAndDescendantCache(Mc),this._clearSelfAndDescendantCache(tu),this._clearSelfAndDescendantCache(eu)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var n="get"+we.Util._capitalize(e);return we.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,i;if(!e)return this;for(n in e)n!==Xf&&(i=Ac+we.Util._capitalize(n),we.Util._isFunction(this[i])?this[i](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(eu,this._isListening)}_isListening(e){if(!this.listening())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isListening(e):!0}isVisible(){return this._getCache(tu,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var i=this.getLayer(),o=!1;Xt.DD._dragElements.forEach(h=>{h.dragStatus==="dragging"&&(h.node.nodeType==="Stage"||h.node.getLayer()===i)&&(o=!0)});var u=!n&&!gn.Konva.hitOnDragEnabled&&o;return this.isListening()&&this.isVisible()&&!u}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),n=this,i=0,o,u,h,d;function f(p){for(o=[],u=p.length,h=0;h<u;h++)d=p[h],i++,d.nodeType!==Fc&&(o=o.concat(d.getChildren().slice())),d._id===n._id&&(h=u);o.length>0&&o[0].getDepth()<=e&&f(o)}return n.nodeType!==qf&&f(n.getStage().getChildren()),i}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Kr),this._clearSelfAndDescendantCache(Nr)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(e){let n=!1,i=this.parent;for(;i;){if(i.isCached()){n=!0;break}i=i.parent}n&&!e&&(e=!0);var o=this.getAbsoluteTransform(e).getMatrix(),u=new we.Transform,h=this.offset();return u.m=o.slice(),u.translate(h.x,h.y),u.getTranslation()}setAbsolutePosition(e){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(Kr);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(Kr),this._clearSelfAndDescendantCache(Nr),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,i=e.y,o=this.x(),u=this.y();return n!==void 0&&(o+=n),i!==void 0&&(u+=i),this.setPosition({x:o,y:u}),this}_eachAncestorReverse(e,n){var i=[],o=this.getParent(),u,h;if(!(n&&n._id===this._id)){for(i.unshift(this);o&&(!n||o._id!==n._id);)i.unshift(o),o=o.parent;for(u=i.length,h=0;h<u;h++)e(i[h])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return we.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return we.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return we.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return we.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return we.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&we.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ts,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},n=this.getAttrs(),i,o,u,h,d;e.attrs={};for(i in n)o=n[i],d=we.Util.isObject(o)&&!we.Util._isPlainObject(o)&&!we.Util._isArray(o),!d&&(u=typeof this[i]=="function"&&this[i],delete n[i],h=u?u.call(this):null,n[i]=o,h!==o&&(e.attrs[i]=o));return e.className=this.getClassName(),we.Util._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,i){var o=[];n&&this._isMatch(e)&&o.push(this);for(var u=this.parent;u;){if(u===i)return o;u._isMatch(e)&&o.push(u),u=u.parent}return o}isAncestorOf(e){return!1}findAncestor(e,n,i){return this.findAncestors(e,n,i)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var n=e.replace(/ /g,"").split(","),i=n.length,o,u;for(o=0;o<i;o++)if(u=n[o],we.Util.isValidSelector(u)||(we.Util.warn('Selector "'+u+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),we.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),we.Util.warn("Konva is awesome, right?")),u.charAt(0)==="#"){if(this.id()===u.slice(1))return!0}else if(u.charAt(0)==="."){if(this.hasName(u.slice(1)))return!0}else if(this.className===u||this.nodeType===u)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Mc,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,n={},i){return n.target=n.target||this,i?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Nr,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new we.Transform,this._eachAncestorReverse(function(o){var u=o.transformsEnabled();u==="all"?n.multiply(o.getTransform()):u==="position"&&n.translate(o.x()-o.offsetX(),o.y()-o.offsetY())},e),n;n=this._cache.get(Nr)||new we.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var i=this.transformsEnabled();if(i==="all")n.multiply(this.getTransform());else if(i==="position"){const o=this.attrs.x||0,u=this.attrs.y||0,h=this.attrs.offsetX||0,d=this.attrs.offsetY||0;n.translate(o-h,u-d)}return n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const o=this.getAbsoluteTransform(e).decompose();return{x:o.scaleX,y:o.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Kr,this._getTransform)}_getTransform(){var e,n,i=this._cache.get(Kr)||new we.Transform;i.reset();var o=this.x(),u=this.y(),h=gn.Konva.getAngle(this.rotation()),d=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,f=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,p=this.attrs.skewX||0,y=this.attrs.skewY||0,C=this.attrs.offsetX||0,x=this.attrs.offsetY||0;return(o!==0||u!==0)&&i.translate(o,u),h!==0&&i.rotate(h),(p!==0||y!==0)&&i.skew(p,y),(d!==1||f!==1)&&i.scale(d,f),(C!==0||x!==0)&&i.translate(-1*C,-1*x),i.dirty=!1,i}clone(e){var n=we.Util.cloneObject(this.attrs),i,o,u,h,d;for(i in e)n[i]=e[i];var f=new this.constructor(n);for(i in this.eventListeners)for(o=this.eventListeners[i],u=o.length,h=0;h<u;h++)d=o[h],d.name.indexOf($f)<0&&(f.eventListeners[i]||(f.eventListeners[i]=[]),f.eventListeners[i].push(d));return f}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),i=this.getStage(),o=e.x!==void 0?e.x:Math.floor(n.x),u=e.y!==void 0?e.y:Math.floor(n.y),h=e.pixelRatio||1,d=new Ka.SceneCanvas({width:e.width||Math.ceil(n.width)||(i?i.width():0),height:e.height||Math.ceil(n.height)||(i?i.height():0),pixelRatio:h}),f=d.getContext();return e.imageSmoothingEnabled===!1&&(f._context.imageSmoothingEnabled=!1),f.save(),(o||u)&&f.translate(-1*o,-1*u),this.drawScene(d),f.restore(),d}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var n=e.mimeType||null,i=e.quality||null,o=this._toKonvaCanvas(e).toDataURL(n,i);return e.callback&&e.callback(o),o}toImage(e){return new Promise((n,i)=>{try{const o=e==null?void 0:e.callback;o&&delete e.callback,we.Util._urlToImage(this.toDataURL(e),function(u){n(u),o==null||o(u)})}catch(o){i(o)}})}toBlob(e){return new Promise((n,i)=>{try{const o=e==null?void 0:e.callback;o&&delete e.callback,this.toCanvas(e).toBlob(u=>{n(u),o==null||o(u)})}catch(o){i(o)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():gn.Konva.dragDistance}_off(e,n,i){var o=this.eventListeners[e],u,h,d;for(u=0;u<o.length;u++)if(h=o[u].name,d=o[u].handler,(h!=="konva"||n==="konva")&&(!n||h===n)&&(!i||i===d)){if(o.splice(u,1),o.length===0){delete this.eventListeners[e];break}u--}}_fireChangeEvent(e,n,i){this._fire(e+Kf,{oldVal:n,newVal:i})}addName(e){if(!this.hasName(e)){var n=this.name(),i=n?n+" "+e:e;this.name(i)}return this}hasName(e){if(!e)return!1;const n=this.name();if(!n)return!1;var i=(n||"").split(/\s/g);return i.indexOf(e)!==-1}removeName(e){var n=(this.name()||"").split(/\s/g),i=n.indexOf(e);return i!==-1&&(n.splice(i,1),this.name(n.join(" "))),this}setAttr(e,n){var i=this[Ac+we.Util._capitalize(e)];return we.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(gn.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){var i=this.attrs[e];i===n&&!we.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,i,n),this._requestDraw())}_setComponentAttr(e,n,i){var o;i!==void 0&&(o=this.attrs[e],o||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=i,this._fireChangeEvent(e,o,i))}_fireAndBubble(e,n,i){n&&this.nodeType===Fc&&(n.target=this);var o=(e===bc||e===Nc)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i);if(!o){this._fire(e,n);var u=(e===bc||e===Nc)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!u&&(i&&i.parent?this._fireAndBubble.call(this.parent,e,n,i):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,i,o;const u=(n=this._cache.get(Xa))!==null&&n!==void 0?n:{};let h=u==null?void 0:u[e];if(h===void 0){h=[];let d=Object.getPrototypeOf(this);for(;d;){const f=(o=(i=d.eventListeners)===null||i===void 0?void 0:i[e])!==null&&o!==void 0?o:[];h.push(...f),d=Object.getPrototypeOf(d)}u[e]=h,this._cache.set(Xa,u)}return h}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const i=this._getProtoListeners(e);if(i)for(var o=0;o<i.length;o++)i[o].handler.call(this,n);const u=this.eventListeners[e];if(u)for(var o=0;o<u.length;o++)u[o].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,i=this.getStage(),o=this.getAbsolutePosition(),u=i._getPointerById(n)||i._changedPointerPositions[0]||o;Xt.DD._dragElements.set(this._id,{node:this,startPointerPos:u,offset:{x:u.x-o.x,y:u.y-o.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Xt.DD._dragElements.has(this._id)||this._createDragElement(e);const i=Xt.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const i=this.getStage()._getPointerById(n.pointerId);if(i){var o={x:i.x-n.offset.x,y:i.y-n.offset.y},u=this.dragBoundFunc();if(u!==void 0){const h=u.call(this,o,e);h?o=h:we.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==o.x||this._lastPos.y!==o.y)&&(this.setAbsolutePosition(o),this._requestDraw()),this._lastPos=o}}stopDrag(e){const n=Xt.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Xt.DD._endDragBefore(e),Xt.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Xt.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var n=e.evt.button!==void 0,i=!n||gn.Konva.dragButtons.indexOf(e.evt.button)>=0;if(i&&!this.isDragging()){var o=!1;Xt.DD._dragElements.forEach(u=>{this.isAncestorOf(u.node)&&(o=!0)}),o||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const n=Xt.DD._dragElements.get(this._id),i=n&&n.dragStatus==="dragging",o=n&&n.dragStatus==="ready";i?this.stopDrag():o&&Xt.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const i={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return we.Util.haveIntersection(i,this.getClientRect())}static create(e,n){return we.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var i=de.prototype.getClassName.call(e),o=e.children,u,h,d;n&&(e.attrs.container=n),gn.Konva[i]||(we.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const f=gn.Konva[i];if(u=new f(e.attrs),o)for(h=o.length,d=0;d<h;d++)u.add(de._createNode(o[d]));return u}}Ye.Node=de;de.prototype.nodeType="Node";de.prototype._attrsAffectingSize=[];de.prototype.eventListeners={};de.prototype.on.call(de.prototype,Qf,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Kr),this._clearSelfAndDescendantCache(Nr)});de.prototype.on.call(de.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(tu)});de.prototype.on.call(de.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(eu)});de.prototype.on.call(de.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ts)});const Le=Yi.Factory.addGetterSetter;Le(de,"zIndex");Le(de,"absolutePosition");Le(de,"position");Le(de,"x",0,(0,Je.getNumberValidator)());Le(de,"y",0,(0,Je.getNumberValidator)());Le(de,"globalCompositeOperation","source-over",(0,Je.getStringValidator)());Le(de,"opacity",1,(0,Je.getNumberValidator)());Le(de,"name","",(0,Je.getStringValidator)());Le(de,"id","",(0,Je.getStringValidator)());Le(de,"rotation",0,(0,Je.getNumberValidator)());Yi.Factory.addComponentsGetterSetter(de,"scale",["x","y"]);Le(de,"scaleX",1,(0,Je.getNumberValidator)());Le(de,"scaleY",1,(0,Je.getNumberValidator)());Yi.Factory.addComponentsGetterSetter(de,"skew",["x","y"]);Le(de,"skewX",0,(0,Je.getNumberValidator)());Le(de,"skewY",0,(0,Je.getNumberValidator)());Yi.Factory.addComponentsGetterSetter(de,"offset",["x","y"]);Le(de,"offsetX",0,(0,Je.getNumberValidator)());Le(de,"offsetY",0,(0,Je.getNumberValidator)());Le(de,"dragDistance",null,(0,Je.getNumberValidator)());Le(de,"width",0,(0,Je.getNumberValidator)());Le(de,"height",0,(0,Je.getNumberValidator)());Le(de,"listening",!0,(0,Je.getBooleanValidator)());Le(de,"preventDefault",!0,(0,Je.getBooleanValidator)());Le(de,"filters",null,function(a){return this._filterUpToDate=!1,a});Le(de,"visible",!0,(0,Je.getBooleanValidator)());Le(de,"transformsEnabled","all",(0,Je.getStringValidator)());Le(de,"size");Le(de,"dragBoundFunc");Le(de,"draggable",!1,(0,Je.getBooleanValidator)());Yi.Factory.backCompat(de,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.Container=void 0;const li=Se,Fl=Ye,Ss=ne;class wn extends Fl.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[];var i=[];return n.forEach(function(o){e(o)&&i.push(o)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var n=0;n<e.length;n++)this.add(e[n]);return this}const i=e[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var i=[];return this._descendants(o=>{const u=o._isMatch(e);return u&&i.push(o),!!(u&&n)}),i}_descendants(e){let n=!1;const i=this.getChildren();for(const o of i){if(n=e(o),n)return!0;if(o.hasChildren()&&(n=o._descendants(e),n))return!0}return!1}toObject(){var e=Fl.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=Fl.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(i){n.add(i.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(function(i){i.isVisible()&&i.intersects(e)&&n.push(i)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(i){i._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,i){n.index=i}),this._requestDraw()}drawScene(e,n){var i=this.getLayer(),o=e||i&&i.getCanvas(),u=o&&o.getContext(),h=this._getCanvasCache(),d=h&&h.scene,f=o&&o.isCache;if(!this.isVisible()&&!f)return this;if(d){u.save();var p=this.getAbsoluteTransform(n).getMatrix();u.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",o,n);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var i=this.getLayer(),o=e||i&&i.hitCanvas,u=o&&o.getContext(),h=this._getCanvasCache(),d=h&&h.hit;if(d){u.save();var f=this.getAbsoluteTransform(n).getMatrix();u.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",o,n);return this}_drawChildren(e,n,i){var o,u=n&&n.getContext(),h=this.clipWidth(),d=this.clipHeight(),f=this.clipFunc(),p=h&&d||f;const y=i===this;if(p){u.save();var C=this.getAbsoluteTransform(i),x=C.getMatrix();u.transform(x[0],x[1],x[2],x[3],x[4],x[5]),u.beginPath();let E;if(f)E=f.call(this,u,this);else{var _=this.clipX(),m=this.clipY();u.rect(_,m,h,d)}u.clip.apply(u,E),x=C.copy().invert().getMatrix(),u.transform(x[0],x[1],x[2],x[3],x[4],x[5])}var P=!y&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";P&&(u.save(),u._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(E){E[e](n,i)}),P&&u.restore(),p&&u.restore()}getClientRect(e){var n;e=e||{};var i=e.skipTransform,o=e.relativeTo,u,h,d,f,p={x:1/0,y:1/0,width:0,height:0},y=this;(n=this.children)===null||n===void 0||n.forEach(function(P){if(P.visible()){var E=P.getClientRect({relativeTo:y,skipShadow:e.skipShadow,skipStroke:e.skipStroke});E.width===0&&E.height===0||(u===void 0?(u=E.x,h=E.y,d=E.x+E.width,f=E.y+E.height):(u=Math.min(u,E.x),h=Math.min(h,E.y),d=Math.max(d,E.x+E.width),f=Math.max(f,E.y+E.height)))}});for(var C=this.find("Shape"),x=!1,_=0;_<C.length;_++){var m=C[_];if(m._isVisible(this)){x=!0;break}}return x&&u!==void 0?p={x:u,y:h,width:d-u,height:f-h}:p={x:0,y:0,width:0,height:0},i?p:this._transformedRect(p,o)}}Cn.Container=wn;li.Factory.addComponentsGetterSetter(wn,"clip",["x","y","width","height"]);li.Factory.addGetterSetter(wn,"clipX",void 0,(0,Ss.getNumberValidator)());li.Factory.addGetterSetter(wn,"clipY",void 0,(0,Ss.getNumberValidator)());li.Factory.addGetterSetter(wn,"clipWidth",void 0,(0,Ss.getNumberValidator)());li.Factory.addGetterSetter(wn,"clipHeight",void 0,(0,Ss.getNumberValidator)());li.Factory.addGetterSetter(wn,"clipFunc");var z0={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.releaseCapture=Dt.setPointerCapture=Dt.hasPointerCapture=Dt.createEvent=Dt.getCapturedShape=void 0;const Zf=_e,Vi=new Map,B0=Zf.Konva._global.PointerEvent!==void 0;function e2(a){return Vi.get(a)}Dt.getCapturedShape=e2;function mu(a){return{evt:a,pointerId:a.pointerId}}Dt.createEvent=mu;function t2(a,e){return Vi.get(a)===e}Dt.hasPointerCapture=t2;function r2(a,e){V0(a),e.getStage()&&(Vi.set(a,e),B0&&e._fire("gotpointercapture",mu(new PointerEvent("gotpointercapture"))))}Dt.setPointerCapture=r2;function V0(a,e){const n=Vi.get(a);if(!n)return;const i=n.getStage();i&&i.content,Vi.delete(a),B0&&n._fire("lostpointercapture",mu(new PointerEvent("lostpointercapture")))}Dt.releaseCapture=V0;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Stage=a.stages=void 0;const e=$e,n=Se,i=Cn,o=_e,u=sr,h=_s,d=_e,f=Dt;var p="Stage",y="string",C="px",x="mouseout",_="mouseleave",m="mouseover",P="mouseenter",E="mousemove",R="mousedown",N="mouseup",v="pointermove",w="pointerdown",k="pointerup",b="pointercancel",I="lostpointercapture",T="pointerout",z="pointerleave",O="pointerover",G="pointerenter",Y="contextmenu",H="touchstart",q="touchend",ae="touchmove",ie="touchcancel",le="wheel",B=5,X=[[P,"_pointerenter"],[R,"_pointerdown"],[E,"_pointermove"],[N,"_pointerup"],[_,"_pointerleave"],[H,"_pointerdown"],[ae,"_pointermove"],[q,"_pointerup"],[ie,"_pointercancel"],[m,"_pointerover"],[le,"_wheel"],[Y,"_contextmenu"],[w,"_pointerdown"],[v,"_pointermove"],[k,"_pointerup"],[b,"_pointercancel"],[I,"_lostpointercapture"]];const V={mouse:{[T]:x,[z]:_,[O]:m,[G]:P,[v]:E,[w]:R,[k]:N,[b]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[T]:"touchout",[z]:"touchleave",[O]:"touchover",[G]:"touchenter",[v]:ae,[w]:H,[k]:q,[b]:ie,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[T]:T,[z]:z,[O]:O,[G]:G,[v]:v,[w]:w,[k]:k,[b]:b,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=Pe=>Pe.indexOf("pointer")>=0?"pointer":Pe.indexOf("touch")>=0?"touch":"mouse",$=Pe=>{const A=K(Pe);if(A==="pointer")return o.Konva.pointerEventsEnabled&&V.pointer;if(A==="touch")return V.touch;if(A==="mouse")return V.mouse};function ce(Pe={}){return(Pe.clipFunc||Pe.clipWidth||Pe.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Pe}const ue="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";a.stages=[];class De extends i.Container{constructor(A){super(ce(A)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),a.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ce(this.attrs)}),this._checkVisibility()}_validateAdd(A){const j=A.getType()==="Layer",ee=A.getType()==="FastLayer";j||ee||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const A=this.visible()?"":"none";this.content.style.display=A}setContainer(A){if(typeof A===y){if(A.charAt(0)==="."){var j=A.slice(1);A=document.getElementsByClassName(j)[0]}else{var ee;A.charAt(0)!=="#"?ee=A:ee=A.slice(1),A=document.getElementById(ee)}if(!A)throw"Can not find container in document with id "+ee}return this._setAttr("container",A),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),A.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var A=this.children,j=A.length,ee;for(ee=0;ee<j;ee++)A[ee].clear();return this}clone(A){return A||(A={}),A.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,A)}destroy(){super.destroy();var A=this.content;A&&e.Util._isInDocument(A)&&this.container().removeChild(A);var j=a.stages.indexOf(this);return j>-1&&a.stages.splice(j,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const A=this._pointerPositions[0]||this._changedPointerPositions[0];return A?{x:A.x,y:A.y}:(e.Util.warn(ue),null)}_getPointerById(A){return this._pointerPositions.find(j=>j.id===A)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(A){A=A||{},A.x=A.x||0,A.y=A.y||0,A.width=A.width||this.width(),A.height=A.height||this.height();var j=new u.SceneCanvas({width:A.width,height:A.height,pixelRatio:A.pixelRatio||1}),ee=j.getContext()._context,ge=this.children;return(A.x||A.y)&&ee.translate(-1*A.x,-1*A.y),ge.forEach(function(fe){if(fe.isVisible()){var be=fe._toKonvaCanvas(A);ee.drawImage(be._canvas,A.x,A.y,be.getWidth()/be.getPixelRatio(),be.getHeight()/be.getPixelRatio())}}),j}getIntersection(A){if(!A)return null;var j=this.children,ee=j.length,ge=ee-1,fe;for(fe=ge;fe>=0;fe--){const be=j[fe].getIntersection(A);if(be)return be}return null}_resizeDOM(){var A=this.width(),j=this.height();this.content&&(this.content.style.width=A+C,this.content.style.height=j+C),this.bufferCanvas.setSize(A,j),this.bufferHitCanvas.setSize(A,j),this.children.forEach(ee=>{ee.setSize({width:A,height:j}),ee.draw()})}add(A,...j){if(arguments.length>1){for(var ee=0;ee<arguments.length;ee++)this.add(arguments[ee]);return this}super.add(A);var ge=this.children.length;return ge>B&&e.Util.warn("The stage has "+ge+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),A.setSize({width:this.width(),height:this.height()}),A.draw(),o.Konva.isBrowser&&this.content.appendChild(A.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(A){return f.hasPointerCapture(A,this)}setPointerCapture(A){f.setPointerCapture(A,this)}releaseCapture(A){f.releaseCapture(A,this)}getLayers(){return this.children}_bindContentEvents(){o.Konva.isBrowser&&X.forEach(([A,j])=>{this.content.addEventListener(A,ee=>{this[j](ee)},{passive:!1})})}_pointerenter(A){this.setPointersPositions(A);const j=$(A.type);this._fire(j.pointerenter,{evt:A,target:this,currentTarget:this})}_pointerover(A){this.setPointersPositions(A);const j=$(A.type);this._fire(j.pointerover,{evt:A,target:this,currentTarget:this})}_getTargetShape(A){let j=this[A+"targetShape"];return j&&!j.getStage()&&(j=null),j}_pointerleave(A){const j=$(A.type),ee=K(A.type);if(j){this.setPointersPositions(A);var ge=this._getTargetShape(ee),fe=!h.DD.isDragging||o.Konva.hitOnDragEnabled;ge&&fe?(ge._fireAndBubble(j.pointerout,{evt:A}),ge._fireAndBubble(j.pointerleave,{evt:A}),this._fire(j.pointerleave,{evt:A,target:this,currentTarget:this}),this[ee+"targetShape"]=null):fe&&(this._fire(j.pointerleave,{evt:A,target:this,currentTarget:this}),this._fire(j.pointerout,{evt:A,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(A){const j=$(A.type),ee=K(A.type);if(j){this.setPointersPositions(A);var ge=!1;this._changedPointerPositions.forEach(fe=>{var be=this.getIntersection(fe);if(h.DD.justDragged=!1,o.Konva["_"+ee+"ListenClick"]=!0,!(be&&be.isListening()))return;o.Konva.capturePointerEventsEnabled&&be.setPointerCapture(fe.id),this[ee+"ClickStartShape"]=be,be._fireAndBubble(j.pointerdown,{evt:A,pointerId:fe.id}),ge=!0;const Et=A.type.indexOf("touch")>=0;be.preventDefault()&&A.cancelable&&Et&&A.preventDefault()}),ge||this._fire(j.pointerdown,{evt:A,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(A){const j=$(A.type),ee=K(A.type);if(!j)return;h.DD.isDragging&&h.DD.node.preventDefault()&&A.cancelable&&A.preventDefault(),this.setPointersPositions(A);var ge=!h.DD.isDragging||o.Konva.hitOnDragEnabled;if(!ge)return;var fe={};let be=!1;var Ge=this._getTargetShape(ee);this._changedPointerPositions.forEach(Et=>{const Fe=f.getCapturedShape(Et.id)||this.getIntersection(Et),Qt=Et.id,Q={evt:A,pointerId:Qt};var he=Ge!==Fe;if(he&&Ge&&(Ge._fireAndBubble(j.pointerout,Object.assign({},Q),Fe),Ge._fireAndBubble(j.pointerleave,Object.assign({},Q),Fe)),Fe){if(fe[Fe._id])return;fe[Fe._id]=!0}Fe&&Fe.isListening()?(be=!0,he&&(Fe._fireAndBubble(j.pointerover,Object.assign({},Q),Ge),Fe._fireAndBubble(j.pointerenter,Object.assign({},Q),Ge),this[ee+"targetShape"]=Fe),Fe._fireAndBubble(j.pointermove,Object.assign({},Q))):Ge&&(this._fire(j.pointerover,{evt:A,target:this,currentTarget:this,pointerId:Qt}),this[ee+"targetShape"]=null)}),be||this._fire(j.pointermove,{evt:A,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(A){const j=$(A.type),ee=K(A.type);if(!j)return;this.setPointersPositions(A);const ge=this[ee+"ClickStartShape"],fe=this[ee+"ClickEndShape"];var be={};let Ge=!1;this._changedPointerPositions.forEach(Et=>{const Fe=f.getCapturedShape(Et.id)||this.getIntersection(Et);if(Fe){if(Fe.releaseCapture(Et.id),be[Fe._id])return;be[Fe._id]=!0}const Qt=Et.id,Q={evt:A,pointerId:Qt};let he=!1;o.Konva["_"+ee+"InDblClickWindow"]?(he=!0,clearTimeout(this[ee+"DblTimeout"])):h.DD.justDragged||(o.Konva["_"+ee+"InDblClickWindow"]=!0,clearTimeout(this[ee+"DblTimeout"])),this[ee+"DblTimeout"]=setTimeout(function(){o.Konva["_"+ee+"InDblClickWindow"]=!1},o.Konva.dblClickWindow),Fe&&Fe.isListening()?(Ge=!0,this[ee+"ClickEndShape"]=Fe,Fe._fireAndBubble(j.pointerup,Object.assign({},Q)),o.Konva["_"+ee+"ListenClick"]&&ge&&ge===Fe&&(Fe._fireAndBubble(j.pointerclick,Object.assign({},Q)),he&&fe&&fe===Fe&&Fe._fireAndBubble(j.pointerdblclick,Object.assign({},Q)))):(this[ee+"ClickEndShape"]=null,o.Konva["_"+ee+"ListenClick"]&&this._fire(j.pointerclick,{evt:A,target:this,currentTarget:this,pointerId:Qt}),he&&this._fire(j.pointerdblclick,{evt:A,target:this,currentTarget:this,pointerId:Qt}))}),Ge||this._fire(j.pointerup,{evt:A,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o.Konva["_"+ee+"ListenClick"]=!1,A.cancelable&&ee!=="touch"&&A.preventDefault()}_contextmenu(A){this.setPointersPositions(A);var j=this.getIntersection(this.getPointerPosition());j&&j.isListening()?j._fireAndBubble(Y,{evt:A}):this._fire(Y,{evt:A,target:this,currentTarget:this})}_wheel(A){this.setPointersPositions(A);var j=this.getIntersection(this.getPointerPosition());j&&j.isListening()?j._fireAndBubble(le,{evt:A}):this._fire(le,{evt:A,target:this,currentTarget:this})}_pointercancel(A){this.setPointersPositions(A);const j=f.getCapturedShape(A.pointerId)||this.getIntersection(this.getPointerPosition());j&&j._fireAndBubble(k,f.createEvent(A)),f.releaseCapture(A.pointerId)}_lostpointercapture(A){f.releaseCapture(A.pointerId)}setPointersPositions(A){var j=this._getContentPosition(),ee=null,ge=null;A=A||window.event,A.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(A.touches,fe=>{this._pointerPositions.push({id:fe.identifier,x:(fe.clientX-j.left)/j.scaleX,y:(fe.clientY-j.top)/j.scaleY})}),Array.prototype.forEach.call(A.changedTouches||A.touches,fe=>{this._changedPointerPositions.push({id:fe.identifier,x:(fe.clientX-j.left)/j.scaleX,y:(fe.clientY-j.top)/j.scaleY})})):(ee=(A.clientX-j.left)/j.scaleX,ge=(A.clientY-j.top)/j.scaleY,this.pointerPos={x:ee,y:ge},this._pointerPositions=[{x:ee,y:ge,id:e.Util._getFirstPointerId(A)}],this._changedPointerPositions=[{x:ee,y:ge,id:e.Util._getFirstPointerId(A)}])}_setPointerPosition(A){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(A)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var A=this.content.getBoundingClientRect();return{top:A.top,left:A.left,scaleX:A.width/this.content.clientWidth||1,scaleY:A.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new u.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new u.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!o.Konva.isBrowser){var A=this.container();if(!A)throw"Stage has no container. A container is required.";A.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),A.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(A){A.batchDraw()}),this}}a.Stage=De,De.prototype.nodeType=p,(0,d._registerNode)(De),n.Factory.addGetterSetter(De,"container")})(z0);var Ki={},at={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Shape=a.shapes=void 0;const e=_e,n=$e,i=Se,o=Ye,u=ne,h=_e,d=Dt;var f="hasShadow",p="shadowRGBA",y="patternImage",C="linearGradient",x="radialGradient";let _;function m(){return _||(_=n.Util.createCanvasElement().getContext("2d"),_)}a.shapes={};function P(z){const O=this.attrs.fillRule;O?z.fill(O):z.fill()}function E(z){z.stroke()}function R(z){z.fill()}function N(z){z.stroke()}function v(){this._clearCache(f)}function w(){this._clearCache(p)}function k(){this._clearCache(y)}function b(){this._clearCache(C)}function I(){this._clearCache(x)}class T extends o.Node{constructor(O){super(O);let G;for(;G=n.Util.getRandomColor(),!(G&&!(G in a.shapes)););this.colorKey=G,a.shapes[G]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(f,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(y,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var O=m();const G=O.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(G&&G.setTransform){const Y=new n.Transform;Y.translate(this.fillPatternX(),this.fillPatternY()),Y.rotate(e.Konva.getAngle(this.fillPatternRotation())),Y.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Y.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const H=Y.getMatrix(),q=typeof DOMMatrix>"u"?{a:H[0],b:H[1],c:H[2],d:H[3],e:H[4],f:H[5]}:new DOMMatrix(H);G.setTransform(q)}return G}}_getLinearGradient(){return this._getCache(C,this.__getLinearGradient)}__getLinearGradient(){var O=this.fillLinearGradientColorStops();if(O){for(var G=m(),Y=this.fillLinearGradientStartPoint(),H=this.fillLinearGradientEndPoint(),q=G.createLinearGradient(Y.x,Y.y,H.x,H.y),ae=0;ae<O.length;ae+=2)q.addColorStop(O[ae],O[ae+1]);return q}}_getRadialGradient(){return this._getCache(x,this.__getRadialGradient)}__getRadialGradient(){var O=this.fillRadialGradientColorStops();if(O){for(var G=m(),Y=this.fillRadialGradientStartPoint(),H=this.fillRadialGradientEndPoint(),q=G.createRadialGradient(Y.x,Y.y,this.fillRadialGradientStartRadius(),H.x,H.y,this.fillRadialGradientEndRadius()),ae=0;ae<O.length;ae+=2)q.addColorStop(O[ae],O[ae+1]);return q}}getShadowRGBA(){return this._getCache(p,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var O=n.Util.colorToRGBA(this.shadowColor());if(O)return"rgba("+O.r+","+O.g+","+O.b+","+O.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const O=this.hitStrokeWidth();return O==="auto"?this.hasStroke():this.strokeEnabled()&&!!O}intersects(O){var G=this.getStage(),Y=G.bufferHitCanvas,H;return Y.getContext().clear(),this.drawHit(Y,null,!0),H=Y.context.getImageData(Math.round(O.x),Math.round(O.y),1,1).data,H[3]>0}destroy(){return o.Node.prototype.destroy.call(this),delete a.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(O){var G;if(!this.getStage()||!((G=this.attrs.perfectDrawEnabled)!==null&&G!==void 0?G:!0))return!1;const H=O||this.hasFill(),q=this.hasStroke(),ae=this.getAbsoluteOpacity()!==1;if(H&&q&&ae)return!0;const ie=this.hasShadow(),le=this.shadowForStrokeEnabled();return!!(H&&q&&ie&&le)}setStrokeHitEnabled(O){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),O?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var O=this.size();return{x:this._centroid?-O.width/2:0,y:this._centroid?-O.height/2:0,width:O.width,height:O.height}}getClientRect(O={}){const G=O.skipTransform,Y=O.relativeTo,H=this.getSelfRect(),ae=!O.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,ie=H.width+ae,le=H.height+ae,B=!O.skipShadow&&this.hasShadow(),X=B?this.shadowOffsetX():0,V=B?this.shadowOffsetY():0,K=ie+Math.abs(X),$=le+Math.abs(V),ce=B&&this.shadowBlur()||0,ue=K+ce*2,De=$+ce*2,Pe={width:ue,height:De,x:-(ae/2+ce)+Math.min(X,0)+H.x,y:-(ae/2+ce)+Math.min(V,0)+H.y};return G?Pe:this._transformedRect(Pe,Y)}drawScene(O,G){var Y=this.getLayer(),H=O||Y.getCanvas(),q=H.getContext(),ae=this._getCanvasCache(),ie=this.getSceneFunc(),le=this.hasShadow(),B,X,V,K=H.isCache,$=G===this;if(!this.isVisible()&&!$)return this;if(ae){q.save();var ce=this.getAbsoluteTransform(G).getMatrix();return q.transform(ce[0],ce[1],ce[2],ce[3],ce[4],ce[5]),this._drawCachedSceneCanvas(q),q.restore(),this}if(!ie)return this;if(q.save(),this._useBufferCanvas()&&!K){B=this.getStage(),X=B.bufferCanvas,V=X.getContext(),V.clear(),V.save(),V._applyLineJoin(this);var ue=this.getAbsoluteTransform(G).getMatrix();V.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),ie.call(this,V,this),V.restore();var De=X.pixelRatio;le&&q._applyShadow(this),q._applyOpacity(this),q._applyGlobalCompositeOperation(this),q.drawImage(X._canvas,0,0,X.width/De,X.height/De)}else{if(q._applyLineJoin(this),!$){var ue=this.getAbsoluteTransform(G).getMatrix();q.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),q._applyOpacity(this),q._applyGlobalCompositeOperation(this)}le&&q._applyShadow(this),ie.call(this,q,this)}return q.restore(),this}drawHit(O,G,Y=!1){if(!this.shouldDrawHit(G,Y))return this;var H=this.getLayer(),q=O||H.hitCanvas,ae=q&&q.getContext(),ie=this.hitFunc()||this.sceneFunc(),le=this._getCanvasCache(),B=le&&le.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),B){ae.save();var X=this.getAbsoluteTransform(G).getMatrix();return ae.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(ae),ae.restore(),this}if(!ie)return this;if(ae.save(),ae._applyLineJoin(this),!(this===G)){var K=this.getAbsoluteTransform(G).getMatrix();ae.transform(K[0],K[1],K[2],K[3],K[4],K[5])}return ie.call(this,ae,this),ae.restore(),this}drawHitFromCache(O=0){var G=this._getCanvasCache(),Y=this._getCachedSceneCanvas(),H=G.hit,q=H.getContext(),ae=H.getWidth(),ie=H.getHeight(),le,B,X,V,K,$;q.clear(),q.drawImage(Y._canvas,0,0,ae,ie);try{for(le=q.getImageData(0,0,ae,ie),B=le.data,X=B.length,V=n.Util._hexToRgb(this.colorKey),K=0;K<X;K+=4)$=B[K+3],$>O?(B[K]=V.r,B[K+1]=V.g,B[K+2]=V.b,B[K+3]=255):B[K+3]=0;q.putImageData(le,0,0)}catch(ce){n.Util.error("Unable to draw hit graph from cached scene canvas. "+ce.message)}return this}hasPointerCapture(O){return d.hasPointerCapture(O,this)}setPointerCapture(O){d.setPointerCapture(O,this)}releaseCapture(O){d.releaseCapture(O,this)}}a.Shape=T,T.prototype._fillFunc=P,T.prototype._strokeFunc=E,T.prototype._fillFuncHit=R,T.prototype._strokeFuncHit=N,T.prototype._centroid=!1,T.prototype.nodeType="Shape",(0,h._registerNode)(T),T.prototype.eventListeners={},T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",k),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",b),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",I),i.Factory.addGetterSetter(T,"stroke",void 0,(0,u.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"strokeWidth",2,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(T,"hitStrokeWidth","auto",(0,u.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(T,"strokeHitEnabled",!0,(0,u.getBooleanValidator)()),i.Factory.addGetterSetter(T,"perfectDrawEnabled",!0,(0,u.getBooleanValidator)()),i.Factory.addGetterSetter(T,"shadowForStrokeEnabled",!0,(0,u.getBooleanValidator)()),i.Factory.addGetterSetter(T,"lineJoin"),i.Factory.addGetterSetter(T,"lineCap"),i.Factory.addGetterSetter(T,"sceneFunc"),i.Factory.addGetterSetter(T,"hitFunc"),i.Factory.addGetterSetter(T,"dash"),i.Factory.addGetterSetter(T,"dashOffset",0,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowColor",void 0,(0,u.getStringValidator)()),i.Factory.addGetterSetter(T,"shadowBlur",0,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOpacity",1,(0,u.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(T,"shadowOffsetX",0,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOffsetY",0,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternImage"),i.Factory.addGetterSetter(T,"fill",void 0,(0,u.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"fillPatternX",0,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternY",0,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(T,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(T,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(T,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(T,"fillEnabled",!0),i.Factory.addGetterSetter(T,"strokeEnabled",!0),i.Factory.addGetterSetter(T,"shadowEnabled",!0),i.Factory.addGetterSetter(T,"dashEnabled",!0),i.Factory.addGetterSetter(T,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(T,"fillPriority","color"),i.Factory.addComponentsGetterSetter(T,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternOffsetX",0,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternOffsetY",0,(0,u.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternScaleX",1,(0,u.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternScaleY",1,(0,u.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(T,"fillPatternRotation",0),i.Factory.addGetterSetter(T,"fillRule",void 0,(0,u.getStringValidator)()),i.Factory.backCompat(T,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(at);Object.defineProperty(Ki,"__esModule",{value:!0});Ki.Layer=void 0;const br=$e,Ml=Cn,Xn=Ye,yu=Se,Oc=sr,n2=ne,i2=at,a2=_e;var s2="#",o2="beforeDraw",l2="draw",H0=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],u2=H0.length;let ui=class extends Ml.Container{constructor(e){super(e),this.canvas=new Oc.SceneCanvas,this.hitCanvas=new Oc.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Xn.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=Xn.Node.prototype.moveUp.call(this);if(!e)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Xn.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Xn.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return Xn.Node.prototype.remove.call(this),e&&e.parentNode&&br.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&br.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Xn.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){br.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){br.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,br.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,i=!1;;){for(let o=0;o<u2;o++){const u=H0[o],h=this._getIntersection({x:e.x+u.x*n,y:e.y+u.y*n}),d=h.shape;if(d)return d;if(i=!!h.antialiased,!h.antialiased)break}if(i)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,o=i[3];if(o===255){const u=br.Util._rgbToHex(i[0],i[1],i[2]),h=i2.shapes[s2+u];return h?{shape:h}:{antialiased:!0}}else if(o>0)return{antialiased:!0};return{}}drawScene(e,n){var i=this.getLayer(),o=e||i&&i.getCanvas();return this._fire(o2,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),Ml.Container.prototype.drawScene.call(this,o,n),this._fire(l2,{node:this}),this}drawHit(e,n){var i=this.getLayer(),o=e||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),Ml.Container.prototype.drawHit.call(this,o,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){br.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return br.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return br.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Ki.Layer=ui;ui.prototype.nodeType="Layer";(0,a2._registerNode)(ui);yu.Factory.addGetterSetter(ui,"imageSmoothingEnabled",!0);yu.Factory.addGetterSetter(ui,"clearBeforeDraw",!0);yu.Factory.addGetterSetter(ui,"hitGraphEnabled",!0,(0,n2.getBooleanValidator)());var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.FastLayer=void 0;const h2=$e,c2=Ki,d2=_e;class _u extends c2.Layer{constructor(e){super(e),this.listening(!1),h2.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Cs.FastLayer=_u;_u.prototype.nodeType="FastLayer";(0,d2._registerNode)(_u);var hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.Group=void 0;const f2=$e,g2=Cn,p2=_e;let Su=class extends g2.Container{_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&f2.Util.throw("You may only add groups and shapes to groups.")}};hi.Group=Su;Su.prototype.nodeType="Group";(0,p2._registerNode)(Su);var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.Animation=void 0;const Ol=_e,Ic=$e;var Il=function(){return Ol.glob.performance&&Ol.glob.performance.now?function(){return Ol.glob.performance.now()}:function(){return new Date().getTime()}}();class _r{constructor(e,n){this.id=_r.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Il(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){var n=[];return e?e.length>0?n=e:n=[e]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(e){var n=this.layers,i=n.length,o;for(o=0;o<i;o++)if(n[o]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=_r,n=e.animations,i=n.length,o;for(o=0;o<i;o++)if(n[o].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Il(),_r._addAnimation(this),this}stop(){return _r._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var n=e.id,i=this.animations,o=i.length,u;for(u=0;u<o;u++)if(i[u].id===n){this.animations.splice(u,1);break}}static _runFrames(){var e={},n=this.animations,i,o,u,h,d,f,p,y,C;for(h=0;h<n.length;h++)if(i=n[h],o=i.layers,u=i.func,i._updateFrameObject(Il()),f=o.length,u?C=u.call(i,i.frame)!==!1:C=!0,!!C)for(d=0;d<f;d++)p=o[d],p._id!==void 0&&(e[p._id]=p);for(y in e)e.hasOwnProperty(y)&&e[y].batchDraw()}static _animationLoop(){var e=_r;e.animations.length?(e._runFrames(),Ic.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Ic.Util.requestAnimFrame(this._animationLoop))}}ci.Animation=_r;_r.animations=[];_r.animIdCounter=0;_r.animRunning=!1;var j0={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Easings=a.Tween=void 0;const e=$e,n=ci,i=Ye,o=_e;var u={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=1,d=2,f=3,p=0,y=["fill","stroke","shadowColor"];class C{constructor(m,P,E,R,N,v,w){this.prop=m,this.propFunc=P,this.begin=R,this._pos=R,this.duration=v,this._change=0,this.prevPos=0,this.yoyo=w,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=E,this._change=N-this.begin,this.pause()}fire(m){var P=this[m];P&&P()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=d,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=f,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var m=this.getTimer()-this._startTime;this.state===d?this.setTime(m):this.state===f&&this.setTime(this.duration-m)}pause(){this.state=h,this.fire("onPause")}getTimer(){return new Date().getTime()}}class x{constructor(m){var P=this,E=m.node,R=E._id,N,v=m.easing||a.Easings.Linear,w=!!m.yoyo,k;typeof m.duration>"u"?N=.3:m.duration===0?N=.001:N=m.duration,this.node=E,this._id=p++;var b=E.getLayer()||(E instanceof o.Konva.Stage?E.getLayers():null);b||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){P.tween.onEnterFrame()},b),this.tween=new C(k,function(I){P._tweenFunc(I)},v,0,1,N*1e3,w),this._addListeners(),x.attrs[R]||(x.attrs[R]={}),x.attrs[R][this._id]||(x.attrs[R][this._id]={}),x.tweens[R]||(x.tweens[R]={});for(k in m)u[k]===void 0&&this._addAttr(k,m[k]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,P){var E=this.node,R=E._id,N,v,w,k,b,I,T,z;if(w=x.tweens[R][m],w&&delete x.attrs[R][w][m],N=E.getAttr(m),e.Util._isArray(P))if(v=[],b=Math.max(P.length,N.length),m==="points"&&P.length!==N.length&&(P.length>N.length?(T=N,N=e.Util._prepareArrayForTween(N,P,E.closed())):(I=P,P=e.Util._prepareArrayForTween(P,N,E.closed()))),m.indexOf("fill")===0)for(k=0;k<b;k++)if(k%2===0)v.push(P[k]-N[k]);else{var O=e.Util.colorToRGBA(N[k]);z=e.Util.colorToRGBA(P[k]),N[k]=O,v.push({r:z.r-O.r,g:z.g-O.g,b:z.b-O.b,a:z.a-O.a})}else for(k=0;k<b;k++)v.push(P[k]-N[k]);else y.indexOf(m)!==-1?(N=e.Util.colorToRGBA(N),z=e.Util.colorToRGBA(P),v={r:z.r-N.r,g:z.g-N.g,b:z.b-N.b,a:z.a-N.a}):v=P-N;x.attrs[R][this._id][m]={start:N,diff:v,end:P,trueEnd:I,trueStart:T},x.tweens[R][m]=this._id}_tweenFunc(m){var P=this.node,E=x.attrs[P._id][this._id],R,N,v,w,k,b,I,T;for(R in E){if(N=E[R],v=N.start,w=N.diff,T=N.end,e.Util._isArray(v))if(k=[],I=Math.max(v.length,T.length),R.indexOf("fill")===0)for(b=0;b<I;b++)b%2===0?k.push((v[b]||0)+w[b]*m):k.push("rgba("+Math.round(v[b].r+w[b].r*m)+","+Math.round(v[b].g+w[b].g*m)+","+Math.round(v[b].b+w[b].b*m)+","+(v[b].a+w[b].a*m)+")");else for(b=0;b<I;b++)k.push((v[b]||0)+w[b]*m);else y.indexOf(R)!==-1?k="rgba("+Math.round(v.r+w.r*m)+","+Math.round(v.g+w.g*m)+","+Math.round(v.b+w.b*m)+","+(v.a+w.a*m)+")":k=v+w*m;P.setAttr(R,k)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var m=this.node,P=x.attrs[m._id][this._id];P.points&&P.points.trueEnd&&m.setAttr("points",P.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var m=this.node,P=x.attrs[m._id][this._id];P.points&&P.points.trueStart&&m.points(P.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var m=this.node._id,P=this._id,E=x.tweens[m],R;this.pause();for(R in E)delete x.tweens[m][R];delete x.attrs[m][P]}}a.Tween=x,x.attrs={},x.tweens={},i.Node.prototype.to=function(_){var m=_.onFinish;_.node=this,_.onFinish=function(){this.destroy(),m&&m()};var P=new x(_);P.play()},a.Easings={BackEaseIn(_,m,P,E){var R=1.70158;return P*(_/=E)*_*((R+1)*_-R)+m},BackEaseOut(_,m,P,E){var R=1.70158;return P*((_=_/E-1)*_*((R+1)*_+R)+1)+m},BackEaseInOut(_,m,P,E){var R=1.70158;return(_/=E/2)<1?P/2*(_*_*(((R*=1.525)+1)*_-R))+m:P/2*((_-=2)*_*(((R*=1.525)+1)*_+R)+2)+m},ElasticEaseIn(_,m,P,E,R,N){var v=0;return _===0?m:(_/=E)===1?m+P:(N||(N=E*.3),!R||R<Math.abs(P)?(R=P,v=N/4):v=N/(2*Math.PI)*Math.asin(P/R),-(R*Math.pow(2,10*(_-=1))*Math.sin((_*E-v)*(2*Math.PI)/N))+m)},ElasticEaseOut(_,m,P,E,R,N){var v=0;return _===0?m:(_/=E)===1?m+P:(N||(N=E*.3),!R||R<Math.abs(P)?(R=P,v=N/4):v=N/(2*Math.PI)*Math.asin(P/R),R*Math.pow(2,-10*_)*Math.sin((_*E-v)*(2*Math.PI)/N)+P+m)},ElasticEaseInOut(_,m,P,E,R,N){var v=0;return _===0?m:(_/=E/2)===2?m+P:(N||(N=E*(.3*1.5)),!R||R<Math.abs(P)?(R=P,v=N/4):v=N/(2*Math.PI)*Math.asin(P/R),_<1?-.5*(R*Math.pow(2,10*(_-=1))*Math.sin((_*E-v)*(2*Math.PI)/N))+m:R*Math.pow(2,-10*(_-=1))*Math.sin((_*E-v)*(2*Math.PI)/N)*.5+P+m)},BounceEaseOut(_,m,P,E){return(_/=E)<1/2.75?P*(7.5625*_*_)+m:_<2/2.75?P*(7.5625*(_-=1.5/2.75)*_+.75)+m:_<2.5/2.75?P*(7.5625*(_-=2.25/2.75)*_+.9375)+m:P*(7.5625*(_-=2.625/2.75)*_+.984375)+m},BounceEaseIn(_,m,P,E){return P-a.Easings.BounceEaseOut(E-_,0,P,E)+m},BounceEaseInOut(_,m,P,E){return _<E/2?a.Easings.BounceEaseIn(_*2,0,P,E)*.5+m:a.Easings.BounceEaseOut(_*2-E,0,P,E)*.5+P*.5+m},EaseIn(_,m,P,E){return P*(_/=E)*_+m},EaseOut(_,m,P,E){return-P*(_/=E)*(_-2)+m},EaseInOut(_,m,P,E){return(_/=E/2)<1?P/2*_*_+m:-P/2*(--_*(_-2)-1)+m},StrongEaseIn(_,m,P,E){return P*(_/=E)*_*_*_*_+m},StrongEaseOut(_,m,P,E){return P*((_=_/E-1)*_*_*_*_+1)+m},StrongEaseInOut(_,m,P,E){return(_/=E/2)<1?P/2*_*_*_*_*_+m:P/2*((_-=2)*_*_*_*_+2)+m},Linear(_,m,P,E){return P*_/E+m}}})(j0);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Konva=void 0;const e=_e,n=$e,i=Ye,o=Cn,u=z0,h=Ki,d=Cs,f=hi,p=_s,y=at,C=ci,x=j0,_=Fr,m=sr;a.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:i.Node,Container:o.Container,Stage:u.Stage,stages:u.stages,Layer:h.Layer,FastLayer:d.FastLayer,Group:f.Group,DD:p.DD,Shape:y.Shape,shapes:y.shapes,Animation:C.Animation,Tween:x.Tween,Easings:x.Easings,Context:_.Context,Canvas:m.Canvas}),a.default=a.Konva})(os);var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.Arc=void 0;const xs=Se,v2=at,Lc=_e,Ps=ne,m2=_e;class Ir extends v2.Shape{_sceneFunc(e){var n=Lc.Konva.getAngle(this.angle()),i=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,i),e.arc(0,0,this.innerRadius(),n,0,!i),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),i=this.clockwise(),o=Lc.Konva.getAngle(i?360-this.angle():this.angle()),u=Math.cos(Math.min(o,Math.PI)),h=1,d=Math.sin(Math.min(Math.max(Math.PI,o),3*Math.PI/2)),f=Math.sin(Math.min(o,Math.PI/2)),p=u*(u>0?e:n),y=h*n,C=d*(d>0?e:n),x=f*(f>0?n:e);return{x:p,y:i?-1*x:C,width:y-p,height:x-C}}}ws.Arc=Ir;Ir.prototype._centroid=!0;Ir.prototype.className="Arc";Ir.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,m2._registerNode)(Ir);xs.Factory.addGetterSetter(Ir,"innerRadius",0,(0,Ps.getNumberValidator)());xs.Factory.addGetterSetter(Ir,"outerRadius",0,(0,Ps.getNumberValidator)());xs.Factory.addGetterSetter(Ir,"angle",0,(0,Ps.getNumberValidator)());xs.Factory.addGetterSetter(Ir,"clockwise",!1,(0,Ps.getBooleanValidator)());var ks={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Line=void 0;const Es=Se,y2=at,W0=ne,_2=_e;function ru(a,e,n,i,o,u,h){var d=Math.sqrt(Math.pow(n-a,2)+Math.pow(i-e,2)),f=Math.sqrt(Math.pow(o-n,2)+Math.pow(u-i,2)),p=h*d/(d+f),y=h*f/(d+f),C=n-p*(o-a),x=i-p*(u-e),_=n+y*(o-a),m=i+y*(u-e);return[C,x,_,m]}function Dc(a,e){var n=a.length,i=[],o,u;for(o=2;o<n-2;o+=2)u=ru(a[o-2],a[o-1],a[o],a[o+1],a[o+2],a[o+3],e),!isNaN(u[0])&&(i.push(u[0]),i.push(u[1]),i.push(a[o]),i.push(a[o+1]),i.push(u[2]),i.push(u[3]));return i}class qr extends y2.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var n=this.points(),i=n.length,o=this.tension(),u=this.closed(),h=this.bezier(),d,f,p;if(i){if(e.beginPath(),e.moveTo(n[0],n[1]),o!==0&&i>4){for(d=this.getTensionPoints(),f=d.length,p=u?0:4,u||e.quadraticCurveTo(d[0],d[1],d[2],d[3]);p<f-2;)e.bezierCurveTo(d[p++],d[p++],d[p++],d[p++],d[p++],d[p++]);u||e.quadraticCurveTo(d[f-2],d[f-1],n[i-2],n[i-1])}else if(h)for(p=2;p<i;)e.bezierCurveTo(n[p++],n[p++],n[p++],n[p++],n[p++],n[p++]);else for(p=2;p<i;p+=2)e.lineTo(n[p],n[p+1]);u?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Dc(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,i=this.tension(),o=ru(e[n-2],e[n-1],e[0],e[1],e[2],e[3],i),u=ru(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],i),h=Dc(e,i),d=[o[2],o[3]].concat(h).concat([u[0],u[1],e[n-2],e[n-1],u[2],u[3],o[0],o[1],e[0],e[1]]);return d}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var n=e[0],i=e[0],o=e[1],u=e[1],h,d,f=0;f<e.length/2;f++)h=e[f*2],d=e[f*2+1],n=Math.min(n,h),i=Math.max(i,h),o=Math.min(o,d),u=Math.max(u,d);return{x:n,y:o,width:i-n,height:u-o}}}Xi.Line=qr;qr.prototype.className="Line";qr.prototype._attrsAffectingSize=["points","bezier","tension"];(0,_2._registerNode)(qr);Es.Factory.addGetterSetter(qr,"closed",!1);Es.Factory.addGetterSetter(qr,"bezier",!1);Es.Factory.addGetterSetter(qr,"tension",0,(0,W0.getNumberValidator)());Es.Factory.addGetterSetter(qr,"points",[],(0,W0.getNumberArrayValidator)());var di={},Y0={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.t2length=a.getQuadraticArcLength=a.getCubicArcLength=a.binomialCoefficients=a.cValues=a.tValues=void 0,a.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],a.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],a.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(h,d,f)=>{let p,y,C;p=f/2,y=0;for(let _=0;_<20;_++)C=p*a.tValues[20][_]+p,y+=a.cValues[20][_]*i(h,d,C);return p*y};a.getCubicArcLength=e;const n=(h,d,f)=>{f===void 0&&(f=1);const p=h[0]-2*h[1]+h[2],y=d[0]-2*d[1]+d[2],C=2*h[1]-2*h[0],x=2*d[1]-2*d[0],_=4*(p*p+y*y),m=4*(p*C+y*x),P=C*C+x*x;if(_===0)return f*Math.sqrt(Math.pow(h[2]-h[0],2)+Math.pow(d[2]-d[0],2));const E=m/(2*_),R=P/_,N=f+E,v=R-E*E,w=N*N+v>0?Math.sqrt(N*N+v):0,k=E*E+v>0?Math.sqrt(E*E+v):0,b=E+Math.sqrt(E*E+v)!==0?v*Math.log(Math.abs((N+w)/(E+k))):0;return Math.sqrt(_)/2*(N*w-E*k+b)};a.getQuadraticArcLength=n;function i(h,d,f){const p=o(1,f,h),y=o(1,f,d),C=p*p+y*y;return Math.sqrt(C)}const o=(h,d,f)=>{const p=f.length-1;let y,C;if(p===0)return 0;if(h===0){C=0;for(let x=0;x<=p;x++)C+=a.binomialCoefficients[p][x]*Math.pow(1-d,p-x)*Math.pow(d,x)*f[x];return C}else{y=new Array(p);for(let x=0;x<p;x++)y[x]=p*(f[x+1]-f[x]);return o(h-1,d,y)}},u=(h,d,f)=>{let p=1,y=h/d,C=(h-f(y))/d,x=0;for(;p>.001;){const _=f(y+C),m=Math.abs(h-_)/d;if(m<p)p=m,y+=C;else{const P=f(y-C),E=Math.abs(h-P)/d;E<p?(p=E,y-=C):C/=2}if(x++,x>500)break}return y};a.t2length=u})(Y0);Object.defineProperty(di,"__esModule",{value:!0});di.Path=void 0;const S2=Se,C2=at,w2=_e,$n=Y0;let $i=class Mt extends C2.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Mt.parsePathData(this.data()),this.pathLength=Mt.getPathLength(this.dataArray)}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var i=!1,o=0;o<n.length;o++){var u=n[o].command,h=n[o].points;switch(u){case"L":e.lineTo(h[0],h[1]);break;case"M":e.moveTo(h[0],h[1]);break;case"C":e.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"Q":e.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"A":var d=h[0],f=h[1],p=h[2],y=h[3],C=h[4],x=h[5],_=h[6],m=h[7],P=p>y?p:y,E=p>y?1:p/y,R=p>y?y/p:1;e.translate(d,f),e.rotate(_),e.scale(E,R),e.arc(0,0,P,C,C+x,1-m),e.scale(1/E,1/R),e.rotate(-_),e.translate(-d,-f);break;case"z":i=!0,e.closePath();break}}!i&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(p){if(p.command==="A"){var y=p.points[4],C=p.points[5],x=p.points[4]+C,_=Math.PI/180;if(Math.abs(y-x)<_&&(_=Math.abs(y-x)),C<0)for(let m=y-_;m>x;m-=_){const P=Mt.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],m,0);e.push(P.x,P.y)}else for(let m=y+_;m<x;m+=_){const P=Mt.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],m,0);e.push(P.x,P.y)}}else if(p.command==="C")for(let m=0;m<=1;m+=.01){const P=Mt.getPointOnCubicBezier(m,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);e.push(P.x,P.y)}else e=e.concat(p.points)});for(var n=e[0],i=e[0],o=e[1],u=e[1],h,d,f=0;f<e.length/2;f++)h=e[f*2],d=e[f*2+1],isNaN(h)||(n=Math.min(n,h),i=Math.max(i,h)),isNaN(d)||(o=Math.min(o,d),u=Math.max(u,d));return{x:n,y:o,width:i-n,height:u-o}}getLength(){return this.pathLength}getPointAtLength(e){return Mt.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,i,o){return Math.sqrt((i-e)*(i-e)+(o-n)*(o-n))}static getPathLength(e){let n=0;for(var i=0;i<e.length;++i)n+=e[i].pathLength;return n}static getPointAtLengthOfDataArray(e,n){var i,o=0,u=n.length;if(!u)return null;for(;o<u&&e>n[o].pathLength;)e-=n[o].pathLength,++o;if(o===u)return i=n[o-1].points.slice(-2),{x:i[0],y:i[1]};if(e<.01)return i=n[o].points.slice(0,2),{x:i[0],y:i[1]};var h=n[o],d=h.points;switch(h.command){case"L":return Mt.getPointOnLine(e,h.start.x,h.start.y,d[0],d[1]);case"C":return Mt.getPointOnCubicBezier((0,$n.t2length)(e,Mt.getPathLength(n),P=>(0,$n.getCubicArcLength)([h.start.x,d[0],d[2],d[4]],[h.start.y,d[1],d[3],d[5]],P)),h.start.x,h.start.y,d[0],d[1],d[2],d[3],d[4],d[5]);case"Q":return Mt.getPointOnQuadraticBezier((0,$n.t2length)(e,Mt.getPathLength(n),P=>(0,$n.getQuadraticArcLength)([h.start.x,d[0],d[2]],[h.start.y,d[1],d[3]],P)),h.start.x,h.start.y,d[0],d[1],d[2],d[3]);case"A":var f=d[0],p=d[1],y=d[2],C=d[3],x=d[4],_=d[5],m=d[6];return x+=_*e/h.pathLength,Mt.getPointOnEllipticalArc(f,p,y,C,x,m)}return null}static getPointOnLine(e,n,i,o,u,h,d){h===void 0&&(h=n),d===void 0&&(d=i);var f=(u-i)/(o-n+1e-8),p=Math.sqrt(e*e/(1+f*f));o<n&&(p*=-1);var y=f*p,C;if(o===n)C={x:h,y:d+y};else if((d-i)/(h-n+1e-8)===f)C={x:h+p,y:d+y};else{var x,_,m=this.getLineLength(n,i,o,u),P=(h-n)*(o-n)+(d-i)*(u-i);P=P/(m*m),x=n+P*(o-n),_=i+P*(u-i);var E=this.getLineLength(h,d,x,_),R=Math.sqrt(e*e-E*E);p=Math.sqrt(R*R/(1+f*f)),o<n&&(p*=-1),y=f*p,C={x:x+p,y:_+y}}return C}static getPointOnCubicBezier(e,n,i,o,u,h,d,f,p){function y(E){return E*E*E}function C(E){return 3*E*E*(1-E)}function x(E){return 3*E*(1-E)*(1-E)}function _(E){return(1-E)*(1-E)*(1-E)}var m=f*y(e)+h*C(e)+o*x(e)+n*_(e),P=p*y(e)+d*C(e)+u*x(e)+i*_(e);return{x:m,y:P}}static getPointOnQuadraticBezier(e,n,i,o,u,h,d){function f(_){return _*_}function p(_){return 2*_*(1-_)}function y(_){return(1-_)*(1-_)}var C=h*f(e)+o*p(e)+n*y(e),x=d*f(e)+u*p(e)+i*y(e);return{x:C,y:x}}static getPointOnEllipticalArc(e,n,i,o,u,h){var d=Math.cos(h),f=Math.sin(h),p={x:i*Math.cos(u),y:o*Math.sin(u)};return{x:e+(p.x*d-p.y*f),y:n+(p.x*f+p.y*d)}}static parsePathData(e){if(!e)return[];var n=e,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var o=0;o<i.length;o++)n=n.replace(new RegExp(i[o],"g"),"|"+i[o]);var u=n.split("|"),h=[],d=[],f=0,p=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,C;for(o=1;o<u.length;o++){var x=u[o],_=x.charAt(0);for(x=x.slice(1),d.length=0;C=y.exec(x);)d.push(C[0]);for(var m=[],P=0,E=d.length;P<E;P++){if(d[P]==="00"){m.push(0,0);continue}var R=parseFloat(d[P]);isNaN(R)?m.push(0):m.push(R)}for(;m.length>0&&!isNaN(m[0]);){var N=null,v=[],w=f,k=p,b,I,T,z,O,G,Y,H,q,ae;switch(_){case"l":f+=m.shift(),p+=m.shift(),N="L",v.push(f,p);break;case"L":f=m.shift(),p=m.shift(),v.push(f,p);break;case"m":var ie=m.shift(),le=m.shift();if(f+=ie,p+=le,N="M",h.length>2&&h[h.length-1].command==="z"){for(var B=h.length-2;B>=0;B--)if(h[B].command==="M"){f=h[B].points[0]+ie,p=h[B].points[1]+le;break}}v.push(f,p),_="l";break;case"M":f=m.shift(),p=m.shift(),N="M",v.push(f,p),_="L";break;case"h":f+=m.shift(),N="L",v.push(f,p);break;case"H":f=m.shift(),N="L",v.push(f,p);break;case"v":p+=m.shift(),N="L",v.push(f,p);break;case"V":p=m.shift(),N="L",v.push(f,p);break;case"C":v.push(m.shift(),m.shift(),m.shift(),m.shift()),f=m.shift(),p=m.shift(),v.push(f,p);break;case"c":v.push(f+m.shift(),p+m.shift(),f+m.shift(),p+m.shift()),f+=m.shift(),p+=m.shift(),N="C",v.push(f,p);break;case"S":I=f,T=p,b=h[h.length-1],b.command==="C"&&(I=f+(f-b.points[2]),T=p+(p-b.points[3])),v.push(I,T,m.shift(),m.shift()),f=m.shift(),p=m.shift(),N="C",v.push(f,p);break;case"s":I=f,T=p,b=h[h.length-1],b.command==="C"&&(I=f+(f-b.points[2]),T=p+(p-b.points[3])),v.push(I,T,f+m.shift(),p+m.shift()),f+=m.shift(),p+=m.shift(),N="C",v.push(f,p);break;case"Q":v.push(m.shift(),m.shift()),f=m.shift(),p=m.shift(),v.push(f,p);break;case"q":v.push(f+m.shift(),p+m.shift()),f+=m.shift(),p+=m.shift(),N="Q",v.push(f,p);break;case"T":I=f,T=p,b=h[h.length-1],b.command==="Q"&&(I=f+(f-b.points[0]),T=p+(p-b.points[1])),f=m.shift(),p=m.shift(),N="Q",v.push(I,T,f,p);break;case"t":I=f,T=p,b=h[h.length-1],b.command==="Q"&&(I=f+(f-b.points[0]),T=p+(p-b.points[1])),f+=m.shift(),p+=m.shift(),N="Q",v.push(I,T,f,p);break;case"A":z=m.shift(),O=m.shift(),G=m.shift(),Y=m.shift(),H=m.shift(),q=f,ae=p,f=m.shift(),p=m.shift(),N="A",v=this.convertEndpointToCenterParameterization(q,ae,f,p,Y,H,z,O,G);break;case"a":z=m.shift(),O=m.shift(),G=m.shift(),Y=m.shift(),H=m.shift(),q=f,ae=p,f+=m.shift(),p+=m.shift(),N="A",v=this.convertEndpointToCenterParameterization(q,ae,f,p,Y,H,z,O,G);break}h.push({command:N||_,points:v,start:{x:w,y:k},pathLength:this.calcLength(w,k,N||_,v)})}(_==="z"||_==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(e,n,i,o){var u,h,d,f,p=Mt;switch(i){case"L":return p.getLineLength(e,n,o[0],o[1]);case"C":return(0,$n.getCubicArcLength)([e,o[0],o[2],o[4]],[n,o[1],o[3],o[5]],1);case"Q":return(0,$n.getQuadraticArcLength)([e,o[0],o[2]],[n,o[1],o[3]],1);case"A":u=0;var y=o[4],C=o[5],x=o[4]+C,_=Math.PI/180;if(Math.abs(y-x)<_&&(_=Math.abs(y-x)),h=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],y,0),C<0)for(f=y-_;f>x;f-=_)d=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],f,0),u+=p.getLineLength(h.x,h.y,d.x,d.y),h=d;else for(f=y+_;f<x;f+=_)d=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],f,0),u+=p.getLineLength(h.x,h.y,d.x,d.y),h=d;return d=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],x,0),u+=p.getLineLength(h.x,h.y,d.x,d.y),u}return 0}static convertEndpointToCenterParameterization(e,n,i,o,u,h,d,f,p){var y=p*(Math.PI/180),C=Math.cos(y)*(e-i)/2+Math.sin(y)*(n-o)/2,x=-1*Math.sin(y)*(e-i)/2+Math.cos(y)*(n-o)/2,_=C*C/(d*d)+x*x/(f*f);_>1&&(d*=Math.sqrt(_),f*=Math.sqrt(_));var m=Math.sqrt((d*d*(f*f)-d*d*(x*x)-f*f*(C*C))/(d*d*(x*x)+f*f*(C*C)));u===h&&(m*=-1),isNaN(m)&&(m=0);var P=m*d*x/f,E=m*-f*C/d,R=(e+i)/2+Math.cos(y)*P-Math.sin(y)*E,N=(n+o)/2+Math.sin(y)*P+Math.cos(y)*E,v=function(O){return Math.sqrt(O[0]*O[0]+O[1]*O[1])},w=function(O,G){return(O[0]*G[0]+O[1]*G[1])/(v(O)*v(G))},k=function(O,G){return(O[0]*G[1]<O[1]*G[0]?-1:1)*Math.acos(w(O,G))},b=k([1,0],[(C-P)/d,(x-E)/f]),I=[(C-P)/d,(x-E)/f],T=[(-1*C-P)/d,(-1*x-E)/f],z=k(I,T);return w(I,T)<=-1&&(z=Math.PI),w(I,T)>=1&&(z=0),h===0&&z>0&&(z=z-2*Math.PI),h===1&&z<0&&(z=z+2*Math.PI),[R,N,d,f,b,z,y,h]}};di.Path=$i;$i.prototype.className="Path";$i.prototype._attrsAffectingSize=["data"];(0,w2._registerNode)($i);S2.Factory.addGetterSetter($i,"data");Object.defineProperty(ks,"__esModule",{value:!0});ks.Arrow=void 0;const Ts=Se,x2=Xi,K0=ne,P2=_e,Gc=di;class xn extends x2.Line{_sceneFunc(e){super._sceneFunc(e);var n=Math.PI*2,i=this.points(),o=i,u=this.tension()!==0&&i.length>4;u&&(o=this.getTensionPoints());var h=this.pointerLength(),d=i.length,f,p;if(u){const x=[o[o.length-4],o[o.length-3],o[o.length-2],o[o.length-1],i[d-2],i[d-1]],_=Gc.Path.calcLength(o[o.length-4],o[o.length-3],"C",x),m=Gc.Path.getPointOnQuadraticBezier(Math.min(1,1-h/_),x[0],x[1],x[2],x[3],x[4],x[5]);f=i[d-2]-m.x,p=i[d-1]-m.y}else f=i[d-2]-i[d-4],p=i[d-1]-i[d-3];var y=(Math.atan2(p,f)+n)%n,C=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(i[d-2],i[d-1]),e.rotate(y),e.moveTo(0,0),e.lineTo(-h,C/2),e.lineTo(-h,-C/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(i[0],i[1]),u?(f=(o[0]+o[2])/2-i[0],p=(o[1]+o[3])/2-i[1]):(f=i[2]-i[0],p=i[3]-i[1]),e.rotate((Math.atan2(-p,-f)+n)%n),e.moveTo(0,0),e.lineTo(-h,C/2),e.lineTo(-h,-C/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}}ks.Arrow=xn;xn.prototype.className="Arrow";(0,P2._registerNode)(xn);Ts.Factory.addGetterSetter(xn,"pointerLength",10,(0,K0.getNumberValidator)());Ts.Factory.addGetterSetter(xn,"pointerWidth",10,(0,K0.getNumberValidator)());Ts.Factory.addGetterSetter(xn,"pointerAtBeginning",!1);Ts.Factory.addGetterSetter(xn,"pointerAtEnding",!0);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.Circle=void 0;const k2=Se,E2=at,T2=ne,R2=_e;let fi=class extends E2.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Rs.Circle=fi;fi.prototype._centroid=!0;fi.prototype.className="Circle";fi.prototype._attrsAffectingSize=["radius"];(0,R2._registerNode)(fi);k2.Factory.addGetterSetter(fi,"radius",0,(0,T2.getNumberValidator)());var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.Ellipse=void 0;const Cu=Se,b2=at,X0=ne,N2=_e;class Qr extends b2.Shape{_sceneFunc(e){var n=this.radiusX(),i=this.radiusY();e.beginPath(),e.save(),n!==i&&e.scale(1,i/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}bs.Ellipse=Qr;Qr.prototype.className="Ellipse";Qr.prototype._centroid=!0;Qr.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,N2._registerNode)(Qr);Cu.Factory.addComponentsGetterSetter(Qr,"radius",["x","y"]);Cu.Factory.addGetterSetter(Qr,"radiusX",0,(0,X0.getNumberValidator)());Cu.Factory.addGetterSetter(Qr,"radiusY",0,(0,X0.getNumberValidator)());var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.Image=void 0;const Ll=$e,Pn=Se,A2=at,F2=_e,qi=ne;class qt extends A2.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),i=this.getHeight(),o=this.cornerRadius(),u=this.attrs.image;let h;if(u){const d=this.attrs.cropWidth,f=this.attrs.cropHeight;d&&f?h=[u,this.cropX(),this.cropY(),d,f,0,0,n,i]:h=[u,0,0,n,i]}(this.hasFill()||this.hasStroke()||o)&&(e.beginPath(),o?Ll.Util.drawRoundedRectPath(e,n,i,o):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)),u&&(o&&e.clip(),e.drawImage.apply(e,h))}_hitFunc(e){var n=this.width(),i=this.height(),o=this.cornerRadius();e.beginPath(),o?Ll.Util.drawRoundedRectPath(e,n,i,o):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,i=null){var o=Ll.Util.createImageElement();o.onload=function(){var u=new qt({image:o});n(u)},o.onerror=i,o.crossOrigin="Anonymous",o.src=e}}Ns.Image=qt;qt.prototype.className="Image";(0,F2._registerNode)(qt);Pn.Factory.addGetterSetter(qt,"cornerRadius",0,(0,qi.getNumberOrArrayOfNumbersValidator)(4));Pn.Factory.addGetterSetter(qt,"image");Pn.Factory.addComponentsGetterSetter(qt,"crop",["x","y","width","height"]);Pn.Factory.addGetterSetter(qt,"cropX",0,(0,qi.getNumberValidator)());Pn.Factory.addGetterSetter(qt,"cropY",0,(0,qi.getNumberValidator)());Pn.Factory.addGetterSetter(qt,"cropWidth",0,(0,qi.getNumberValidator)());Pn.Factory.addGetterSetter(qt,"cropHeight",0,(0,qi.getNumberValidator)());var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.Tag=ei.Label=void 0;const As=Se,M2=at,O2=hi,wu=ne,$0=_e;var q0=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],I2="Change.konva",L2="none",nu="up",iu="right",au="down",su="left",D2=q0.length;class xu extends O2.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var n=this,i,o=function(){n._sync()};for(i=0;i<D2;i++)e.on(q0[i]+I2,o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),n=this.getTag(),i,o,u,h,d,f,p;if(e&&n){switch(i=e.width(),o=e.height(),u=n.pointerDirection(),h=n.pointerWidth(),p=n.pointerHeight(),d=0,f=0,u){case nu:d=i/2,f=-1*p;break;case iu:d=i+h,f=o/2;break;case au:d=i/2,f=o+p;break;case su:d=-1*h,f=o/2;break}n.setAttrs({x:-1*d,y:-1*f,width:i,height:o}),e.setAttrs({x:-1*d,y:-1*f})}}}ei.Label=xu;xu.prototype.className="Label";(0,$0._registerNode)(xu);class kn extends M2.Shape{_sceneFunc(e){var n=this.width(),i=this.height(),o=this.pointerDirection(),u=this.pointerWidth(),h=this.pointerHeight(),d=this.cornerRadius();let f=0,p=0,y=0,C=0;typeof d=="number"?f=p=y=C=Math.min(d,n/2,i/2):(f=Math.min(d[0]||0,n/2,i/2),p=Math.min(d[1]||0,n/2,i/2),C=Math.min(d[2]||0,n/2,i/2),y=Math.min(d[3]||0,n/2,i/2)),e.beginPath(),e.moveTo(f,0),o===nu&&(e.lineTo((n-u)/2,0),e.lineTo(n/2,-1*h),e.lineTo((n+u)/2,0)),e.lineTo(n-p,0),e.arc(n-p,p,p,Math.PI*3/2,0,!1),o===iu&&(e.lineTo(n,(i-h)/2),e.lineTo(n+u,i/2),e.lineTo(n,(i+h)/2)),e.lineTo(n,i-C),e.arc(n-C,i-C,C,0,Math.PI/2,!1),o===au&&(e.lineTo((n+u)/2,i),e.lineTo(n/2,i+h),e.lineTo((n-u)/2,i)),e.lineTo(y,i),e.arc(y,i-y,y,Math.PI/2,Math.PI,!1),o===su&&(e.lineTo(0,(i+h)/2),e.lineTo(-1*u,i/2),e.lineTo(0,(i-h)/2)),e.lineTo(0,f),e.arc(f,f,f,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,i=this.pointerWidth(),o=this.pointerHeight(),u=this.pointerDirection(),h=this.width(),d=this.height();return u===nu?(n-=o,d+=o):u===au?d+=o:u===su?(e-=i*1.5,h+=i):u===iu&&(h+=i*1.5),{x:e,y:n,width:h,height:d}}}ei.Tag=kn;kn.prototype.className="Tag";(0,$0._registerNode)(kn);As.Factory.addGetterSetter(kn,"pointerDirection",L2);As.Factory.addGetterSetter(kn,"pointerWidth",0,(0,wu.getNumberValidator)());As.Factory.addGetterSetter(kn,"pointerHeight",0,(0,wu.getNumberValidator)());As.Factory.addGetterSetter(kn,"cornerRadius",0,(0,wu.getNumberOrArrayOfNumbersValidator)(4));var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.Rect=void 0;const G2=Se,U2=at,z2=_e,B2=$e,V2=ne;class Fs extends U2.Shape{_sceneFunc(e){var n=this.cornerRadius(),i=this.width(),o=this.height();e.beginPath(),n?B2.Util.drawRoundedRectPath(e,i,o,n):e.rect(0,0,i,o),e.closePath(),e.fillStrokeShape(this)}}Qi.Rect=Fs;Fs.prototype.className="Rect";(0,z2._registerNode)(Fs);G2.Factory.addGetterSetter(Fs,"cornerRadius",0,(0,V2.getNumberOrArrayOfNumbersValidator)(4));var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.RegularPolygon=void 0;const Q0=Se,H2=at,J0=ne,j2=_e;class En extends H2.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var i=1;i<n.length;i++)e.lineTo(n[i].x,n[i].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,i=[];for(var o=0;o<e;o++)i.push({x:n*Math.sin(o*2*Math.PI/e),y:-1*n*Math.cos(o*2*Math.PI/e)});return i}getSelfRect(){const e=this._getPoints();var n=e[0].x,i=e[0].y,o=e[0].x,u=e[0].y;return e.forEach(h=>{n=Math.min(n,h.x),i=Math.max(i,h.x),o=Math.min(o,h.y),u=Math.max(u,h.y)}),{x:n,y:o,width:i-n,height:u-o}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ms.RegularPolygon=En;En.prototype.className="RegularPolygon";En.prototype._centroid=!0;En.prototype._attrsAffectingSize=["radius"];(0,j2._registerNode)(En);Q0.Factory.addGetterSetter(En,"radius",0,(0,J0.getNumberValidator)());Q0.Factory.addGetterSetter(En,"sides",0,(0,J0.getNumberValidator)());var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.Ring=void 0;const Z0=Se,W2=at,ed=ne,Y2=_e;var Uc=Math.PI*2;class Tn extends W2.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Uc,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Uc,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Os.Ring=Tn;Tn.prototype.className="Ring";Tn.prototype._centroid=!0;Tn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Y2._registerNode)(Tn);Z0.Factory.addGetterSetter(Tn,"innerRadius",0,(0,ed.getNumberValidator)());Z0.Factory.addGetterSetter(Tn,"outerRadius",0,(0,ed.getNumberValidator)());var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.Sprite=void 0;const Rn=Se,K2=at,X2=ci,td=ne,$2=_e;class Sr extends K2.Shape{constructor(e){super(e),this._updated=!0,this.anim=new X2.Animation(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),i=this.frameIndex(),o=i*4,u=this.animations()[n],h=this.frameOffsets(),d=u[o+0],f=u[o+1],p=u[o+2],y=u[o+3],C=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,p,y),e.closePath(),e.fillStrokeShape(this)),C)if(h){var x=h[n],_=i*2;e.drawImage(C,d,f,p,y,x[_+0],x[_+1],p,y)}else e.drawImage(C,d,f,p,y,0,0,p,y)}_hitFunc(e){var n=this.animation(),i=this.frameIndex(),o=i*4,u=this.animations()[n],h=this.frameOffsets(),d=u[o+2],f=u[o+3];if(e.beginPath(),h){var p=h[n],y=i*2;e.rect(p[y+0],p[y+1],d,f)}else e.rect(0,0,d,f);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),i=this.animations(),o=i[n],u=o.length/4;e<u-1?this.frameIndex(e+1):this.frameIndex(0)}}Is.Sprite=Sr;Sr.prototype.className="Sprite";(0,$2._registerNode)(Sr);Rn.Factory.addGetterSetter(Sr,"animation");Rn.Factory.addGetterSetter(Sr,"animations");Rn.Factory.addGetterSetter(Sr,"frameOffsets");Rn.Factory.addGetterSetter(Sr,"image");Rn.Factory.addGetterSetter(Sr,"frameIndex",0,(0,td.getNumberValidator)());Rn.Factory.addGetterSetter(Sr,"frameRate",17,(0,td.getNumberValidator)());Rn.Factory.backCompat(Sr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Star=void 0;const Pu=Se,q2=at,ku=ne,Q2=_e;class Jr extends q2.Shape{_sceneFunc(e){var n=this.innerRadius(),i=this.outerRadius(),o=this.numPoints();e.beginPath(),e.moveTo(0,0-i);for(var u=1;u<o*2;u++){var h=u%2===0?i:n,d=h*Math.sin(u*Math.PI/o),f=-1*h*Math.cos(u*Math.PI/o);e.lineTo(d,f)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ls.Star=Jr;Jr.prototype.className="Star";Jr.prototype._centroid=!0;Jr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Q2._registerNode)(Jr);Pu.Factory.addGetterSetter(Jr,"numPoints",5,(0,ku.getNumberValidator)());Pu.Factory.addGetterSetter(Jr,"innerRadius",0,(0,ku.getNumberValidator)());Pu.Factory.addGetterSetter(Jr,"outerRadius",0,(0,ku.getNumberValidator)());var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Text=Sn.stringToArray=void 0;const ou=$e,kt=Se,J2=at,Zr=ne,Z2=_e;function rd(a){return Array.from(a)}Sn.stringToArray=rd;var qn="auto",eg="center",Li="justify",tg="Change.konva",rg="2d",zc="-",nd="left",ng="text",ig="Text",ag="top",sg="bottom",Bc="middle",id="normal",og="px ",$a=" ",lg="right",ug="word",hg="char",Vc="none",Dl="",ad=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],cg=ad.length;function dg(a){return a.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,i=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!i&&(e=`"${e}"`),e}).join(", ")}var qa;function Gl(){return qa||(qa=ou.Util.createCanvasElement().getContext(rg),qa)}function fg(a){a.fillText(this._partialText,this._partialTextX,this._partialTextY)}function gg(a){a.setAttr("miterLimit",2),a.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function pg(a){return a=a||{},!a.fillLinearGradientColorStops&&!a.fillRadialGradientColorStops&&!a.fillPatternImage&&(a.fill=a.fill||"black"),a}let Ze=class extends J2.Shape{constructor(e){super(pg(e)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<cg;n++)this.on(ad[n]+tg,this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,i=n.length;if(this.text()){var o=this.padding(),u=this.fontSize(),h=this.lineHeight()*u,d=this.verticalAlign(),f=0,p=this.align(),y=this.getWidth(),C=this.letterSpacing(),x=this.fill(),_=this.textDecoration(),m=_.indexOf("underline")!==-1,P=_.indexOf("line-through")!==-1,E,R=0,R=h/2,N=0,v=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Bc),e.setAttr("textAlign",nd),d===Bc?f=(this.getHeight()-i*h-o*2)/2:d===sg&&(f=this.getHeight()-i*h-o*2),e.translate(o,f+o),E=0;E<i;E++){var N=0,v=0,w=n[E],k=w.text,b=w.width,I=w.lastInParagraph,T,z,O;if(e.save(),p===lg?N+=y-b-o*2:p===eg&&(N+=(y-b-o*2)/2),m){e.save(),e.beginPath(),e.moveTo(N,R+v+Math.round(u/2)),T=k.split(" ").length-1,z=T===0,O=p===Li&&!I?y-o*2:b,e.lineTo(N+Math.round(O),R+v+Math.round(u/2)),e.lineWidth=u/15;const ie=this._getLinearGradient();e.strokeStyle=ie||x,e.stroke(),e.restore()}if(P){e.save(),e.beginPath(),e.moveTo(N,R+v),T=k.split(" ").length-1,z=T===0,O=p===Li&&I&&!z?y-o*2:b,e.lineTo(N+Math.round(O),R+v),e.lineWidth=u/15;const ie=this._getLinearGradient();e.strokeStyle=ie||x,e.stroke(),e.restore()}if(C!==0||p===Li){T=k.split(" ").length-1;for(var G=rd(k),Y=0;Y<G.length;Y++){var H=G[Y];H===" "&&!I&&p===Li&&(N+=(y-o*2-b)/T),this._partialTextX=N,this._partialTextY=R+v,this._partialText=H,e.fillStrokeShape(this),N+=this.measureSize(H).width+C}}else this._partialTextX=N,this._partialTextY=R+v,this._partialText=k,e.fillStrokeShape(this);e.restore(),i>1&&(R+=h)}}}_hitFunc(e){var n=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=ou.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(ng,n),this}getWidth(){var e=this.attrs.width===qn||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===qn||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ou.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n=Gl(),i=this.fontSize(),o;return n.save(),n.font=this._getContextFont(),o=n.measureText(e),n.restore(),{width:o.width,height:i}}_getContextFont(){return this.fontStyle()+$a+this.fontVariant()+$a+(this.fontSize()+og)+dg(this.fontFamily())}_addTextLine(e){this.align()===Li&&(e=e.trim());var i=this._getTextWidth(e);return this.textArr.push({text:e,width:i,lastInParagraph:!1})}_getTextWidth(e){var n=this.letterSpacing(),i=e.length;return Gl().measureText(e).width+(i?n*(i-1):0)}_setTextData(){var e=this.text().split(`
`),n=+this.fontSize(),i=0,o=this.lineHeight()*n,u=this.attrs.width,h=this.attrs.height,d=u!==qn&&u!==void 0,f=h!==qn&&h!==void 0,p=this.padding(),y=u-p*2,C=h-p*2,x=0,_=this.wrap(),m=_!==Vc,P=_!==hg&&m,E=this.ellipsis();this.textArr=[],Gl().font=this._getContextFont();for(var R=E?this._getTextWidth(Dl):0,N=0,v=e.length;N<v;++N){var w=e[N],k=this._getTextWidth(w);if(d&&k>y)for(;w.length>0;){for(var b=0,I=w.length,T="",z=0;b<I;){var O=b+I>>>1,G=w.slice(0,O+1),Y=this._getTextWidth(G)+R;Y<=y?(b=O+1,T=G,z=Y):I=O}if(T){if(P){var H,q=w[T.length],ae=q===$a||q===zc;ae&&z<=y?H=T.length:H=Math.max(T.lastIndexOf($a),T.lastIndexOf(zc))+1,H>0&&(b=H,T=T.slice(0,b),z=this._getTextWidth(T))}T=T.trimRight(),this._addTextLine(T),i=Math.max(i,z),x+=o;var ie=this._shouldHandleEllipsis(x);if(ie){this._tryToAddEllipsisToLastLine();break}if(w=w.slice(b),w=w.trimLeft(),w.length>0&&(k=this._getTextWidth(w),k<=y)){this._addTextLine(w),x+=o,i=Math.max(i,k);break}}else break}else this._addTextLine(w),x+=o,i=Math.max(i,k),this._shouldHandleEllipsis(x)&&N<v-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),f&&x+o>C)break}this.textHeight=n,this.textWidth=i}_shouldHandleEllipsis(e){var n=+this.fontSize(),i=this.lineHeight()*n,o=this.attrs.height,u=o!==qn&&o!==void 0,h=this.padding(),d=o-h*2,f=this.wrap(),p=f!==Vc;return!p||u&&e+i>d}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,n=e!==qn&&e!==void 0,i=this.padding(),o=e-i*2,u=this.ellipsis(),h=this.textArr[this.textArr.length-1];if(!(!h||!u)){if(n){var d=this._getTextWidth(h.text+Dl)<o;d||(h.text=h.text.slice(0,h.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(h.text+Dl)}}getStrokeScaleEnabled(){return!0}};Sn.Text=Ze;Ze.prototype._fillFunc=fg;Ze.prototype._strokeFunc=gg;Ze.prototype.className=ig;Ze.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,Z2._registerNode)(Ze);kt.Factory.overWriteSetter(Ze,"width",(0,Zr.getNumberOrAutoValidator)());kt.Factory.overWriteSetter(Ze,"height",(0,Zr.getNumberOrAutoValidator)());kt.Factory.addGetterSetter(Ze,"fontFamily","Arial");kt.Factory.addGetterSetter(Ze,"fontSize",12,(0,Zr.getNumberValidator)());kt.Factory.addGetterSetter(Ze,"fontStyle",id);kt.Factory.addGetterSetter(Ze,"fontVariant",id);kt.Factory.addGetterSetter(Ze,"padding",0,(0,Zr.getNumberValidator)());kt.Factory.addGetterSetter(Ze,"align",nd);kt.Factory.addGetterSetter(Ze,"verticalAlign",ag);kt.Factory.addGetterSetter(Ze,"lineHeight",1,(0,Zr.getNumberValidator)());kt.Factory.addGetterSetter(Ze,"wrap",ug);kt.Factory.addGetterSetter(Ze,"ellipsis",!1,(0,Zr.getBooleanValidator)());kt.Factory.addGetterSetter(Ze,"letterSpacing",0,(0,Zr.getNumberValidator)());kt.Factory.addGetterSetter(Ze,"text","",(0,Zr.getStringValidator)());kt.Factory.addGetterSetter(Ze,"textDecoration","");var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.TextPath=void 0;const Ul=$e,lr=Se,vg=at,Di=di,zl=Sn,sd=ne,mg=_e;var yg="",od="normal";function ld(a){a.fillText(this.partialText,0,0)}function ud(a){a.strokeText(this.partialText,0,0)}class st extends vg.Shape{constructor(e){super(e),this.dummyCanvas=Ul.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Di.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:Di.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Di.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),i=this.fill(),o=this.fontSize(),u=this.glyphInfo;n==="underline"&&e.beginPath();for(var h=0;h<u.length;h++){e.save();var d=u[h].p0;e.translate(d.x,d.y),e.rotate(u[h].rotation),this.partialText=u[h].text,e.fillStrokeShape(this),n==="underline"&&(h===0&&e.moveTo(0,o/2+1),e.lineTo(o,o/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=i,e.lineWidth=o/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var i=n[0].p0;e.moveTo(i.x,i.y)}for(var o=0;o<n.length;o++){var u=n[o].p1;e.lineTo(u.x,u.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Ul.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return zl.Text.prototype.setText.call(this,e)}_getContextFont(){return zl.Text.prototype._getContextFont.call(this)}_getTextSize(e){var n=this.dummyCanvas,i=n.getContext("2d");i.save(),i.font=this._getContextFont();var o=i.measureText(e);return i.restore(),{width:o.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),o=this.align(),u=this.kerningFunc(),h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let d=0;o==="center"&&(d=Math.max(0,this.pathLength/2-h/2)),o==="right"&&(d=Math.max(0,this.pathLength-h));const f=(0,zl.stringToArray)(this.text());let p=d;for(var y=0;y<f.length;y++){const C=this._getPointAtLength(p);if(!C)return;let x=this._getTextSize(f[y]).width+i;if(f[y]===" "&&o==="justify"){const N=this.text().split(" ").length-1;x+=(this.pathLength-h)/N}const _=this._getPointAtLength(p+x);if(!_)return;const m=Di.Path.getLineLength(C.x,C.y,_.x,_.y);let P=0;if(u)try{P=u(f[y-1],f[y])*this.fontSize()}catch{P=0}C.x+=P,_.x+=P,this.textWidth+=P;const E=Di.Path.getPointOnLine(P+m/2,C.x,C.y,_.x,_.y),R=Math.atan2(_.y-C.y,_.x-C.x);this.glyphInfo.push({transposeX:E.x,transposeY:E.y,text:f[y],rotation:R,p0:C,p1:_}),p+=x}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(y){e.push(y.p0.x),e.push(y.p0.y),e.push(y.p1.x),e.push(y.p1.y)});for(var n=e[0]||0,i=e[0]||0,o=e[1]||0,u=e[1]||0,h,d,f=0;f<e.length/2;f++)h=e[f*2],d=e[f*2+1],n=Math.min(n,h),i=Math.max(i,h),o=Math.min(o,d),u=Math.max(u,d);var p=this.fontSize();return{x:n-p/2,y:o-p/2,width:i-n+p,height:u-o+p}}destroy(){return Ul.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Ds.TextPath=st;st.prototype._fillFunc=ld;st.prototype._strokeFunc=ud;st.prototype._fillFuncHit=ld;st.prototype._strokeFuncHit=ud;st.prototype.className="TextPath";st.prototype._attrsAffectingSize=["text","fontSize","data"];(0,mg._registerNode)(st);lr.Factory.addGetterSetter(st,"data");lr.Factory.addGetterSetter(st,"fontFamily","Arial");lr.Factory.addGetterSetter(st,"fontSize",12,(0,sd.getNumberValidator)());lr.Factory.addGetterSetter(st,"fontStyle",od);lr.Factory.addGetterSetter(st,"align","left");lr.Factory.addGetterSetter(st,"letterSpacing",0,(0,sd.getNumberValidator)());lr.Factory.addGetterSetter(st,"textBaseline","middle");lr.Factory.addGetterSetter(st,"fontVariant",od);lr.Factory.addGetterSetter(st,"text",yg);lr.Factory.addGetterSetter(st,"textDecoration",null);lr.Factory.addGetterSetter(st,"kerningFunc",null);var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Transformer=void 0;const Oe=$e,Me=Se,Hc=Ye,_g=at,Sg=Qi,jc=hi,ar=_e,en=ne,Cg=_e;var hd="tr-konva",wg=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(a=>a+`.${hd}`).join(" "),Wc="nodesRect",xg=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Pg={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const kg="ontouchstart"in ar.Konva._global;function Eg(a,e){if(a==="rotater")return"crosshair";e+=Oe.Util.degToRad(Pg[a]||0);var n=(Oe.Util.radToDeg(e)%360+360)%360;return Oe.Util._inRange(n,315+22.5,360)||Oe.Util._inRange(n,0,22.5)?"ns-resize":Oe.Util._inRange(n,45-22.5,45+22.5)?"nesw-resize":Oe.Util._inRange(n,90-22.5,90+22.5)?"ew-resize":Oe.Util._inRange(n,135-22.5,135+22.5)?"nwse-resize":Oe.Util._inRange(n,180-22.5,180+22.5)?"ns-resize":Oe.Util._inRange(n,225-22.5,225+22.5)?"nesw-resize":Oe.Util._inRange(n,270-22.5,270+22.5)?"ew-resize":Oe.Util._inRange(n,315-22.5,315+22.5)?"nwse-resize":(Oe.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var us=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Yc=1e8;function Tg(a){return{x:a.x+a.width/2*Math.cos(a.rotation)+a.height/2*Math.sin(-a.rotation),y:a.y+a.height/2*Math.cos(a.rotation)+a.width/2*Math.sin(a.rotation)}}function cd(a,e,n){const i=n.x+(a.x-n.x)*Math.cos(e)-(a.y-n.y)*Math.sin(e),o=n.y+(a.x-n.x)*Math.sin(e)+(a.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},a),{rotation:a.rotation+e,x:i,y:o})}function Rg(a,e){const n=Tg(a);return cd(a,e,n)}function bg(a,e,n){let i=e;for(let o=0;o<a.length;o++){const u=ar.Konva.getAngle(a[o]),h=Math.abs(u-e)%(Math.PI*2);Math.min(h,Math.PI*2-h)<n&&(i=u)}return i}class Re extends jc.Group{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(wg,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Oe.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return hd+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(o=>o.isAncestorOf(this)?(Oe.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(o=>{const u=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},h=o._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");o.on(h,u),o.on(xg.map(d=>d+`.${this._getEventNamespace()}`).join(" "),u),o.on(`absoluteTransformChange.${this._getEventNamespace()}`,u),this._proxyDrag(o)}),this._resetTransformCache();var i=!!this.findOne(".top-left");return i&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,i=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(i,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!n)return;const o=e.getAbsolutePosition(),u=o.x-n.x,h=o.y-n.y;this.nodes().forEach(d=>{if(d===e||d.isDragging())return;const f=d.getAbsolutePosition();d.setAbsolutePosition({x:f.x+u,y:f.y+h}),d.startDrag(i)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Wc),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Wc,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),i){var o=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),u=e.getAbsoluteScale(i),h=e.getAbsolutePosition(i),d=o.x*u.x-e.offsetX()*u.x,f=o.y*u.y-e.offsetY()*u.y;const p=(ar.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),y={x:h.x+d*Math.cos(p)+f*Math.sin(-p),y:h.y+f*Math.cos(p)+d*Math.sin(p),width:o.width*u.x,height:o.height*u.y,rotation:p};return cd(y,-ar.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-Yc,y:-Yc,width:0,height:0,rotation:0};const n=[];this.nodes().map(p=>{const y=p.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var C=[{x:y.x,y:y.y},{x:y.x+y.width,y:y.y},{x:y.x+y.width,y:y.y+y.height},{x:y.x,y:y.y+y.height}],x=p.getAbsoluteTransform();C.forEach(function(_){var m=x.point(_);n.push(m)})});const i=new Oe.Transform;i.rotate(-ar.Konva.getAngle(this.rotation()));var o,u,h,d;n.forEach(function(p){var y=i.point(p);o===void 0&&(o=h=y.x,u=d=y.y),o=Math.min(o,y.x),u=Math.min(u,y.y),h=Math.max(h,y.x),d=Math.max(d,y.y)}),i.invert();const f=i.point({x:o,y:u});return{x:f.x,y:f.y,width:h-o,height:d-u,rotation:ar.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),us.forEach((function(e){this._createAnchor(e)}).bind(this)),this._createAnchor("rotater")}_createAnchor(e){var n=new Sg.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:kg?10:"auto"}),i=this;n.on("mousedown touchstart",function(o){i._handleMouseDown(o)}),n.on("dragstart",o=>{n.stopDrag(),o.cancelBubble=!0}),n.on("dragend",o=>{o.cancelBubble=!0}),n.on("mouseenter",()=>{var o=ar.Konva.getAngle(this.rotation()),u=Eg(e,o);n.getStage().content&&(n.getStage().content.style.cursor=u),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new _g.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var i=this.getParent(),o=i.padding();n.beginPath(),n.rect(-o,-o,this.width()+o*2,this.height()+o*2),n.moveTo(this.width()/2,-o),i.rotateEnabled()&&n.lineTo(this.width()/2,-i.rotateAnchorOffset()*Oe.Util._sign(this.height())-o),n.fillStrokeShape(this)},hitFunc:(n,i)=>{if(this.shouldOverdrawWholeArea()){var o=this.padding();n.beginPath(),n.rect(-o,-o,i.width()+o*2,i.height()+o*2),n.fillStrokeShape(i)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),i=n.width,o=n.height,u=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));this.sin=Math.abs(o/u),this.cos=Math.abs(i/u),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var h=e.target.getAbsolutePosition(),d=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-h.x,y:d.y-h.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(f=>{f._fire("transformstart",{evt:e.evt,target:f})})}_handleMouseMove(e){var n,i,o,u=this.findOne("."+this._movingAnchorName),h=u.getStage();h.setPointersPositions(e);const d=h.getPointerPosition();let f={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const p=u.getAbsolutePosition();this.anchorDragBoundFunc()&&(f=this.anchorDragBoundFunc()(p,f,e)),u.setAbsolutePosition(f);const y=u.getAbsolutePosition();if(!(p.x===y.x&&p.y===y.y)){if(this._movingAnchorName==="rotater"){var C=this._getNodeRect();n=u.x()-C.width/2,i=-u.y()+C.height/2;let H=Math.atan2(-i,n)+Math.PI/2;C.height<0&&(H-=Math.PI);var x=ar.Konva.getAngle(this.rotation());const q=x+H,ae=ar.Konva.getAngle(this.rotationSnapTolerance()),le=bg(this.rotationSnaps(),q,ae)-C.rotation,B=Rg(C,le);this._fitNodesInto(B,e);return}var _=this.shiftBehavior(),m;_==="inverted"?m=this.keepRatio()&&!e.shiftKey:_==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;var v=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){var P=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};o=Math.sqrt(Math.pow(P.x-u.x(),2)+Math.pow(P.y-u.y(),2));var E=this.findOne(".top-left").x()>P.x?-1:1,R=this.findOne(".top-left").y()>P.y?-1:1;n=o*this.cos*E,i=o*this.sin*R,this.findOne(".top-left").x(P.x-n),this.findOne(".top-left").y(P.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(u.y());else if(this._movingAnchorName==="top-right"){if(m){var P=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};o=Math.sqrt(Math.pow(u.x()-P.x,2)+Math.pow(P.y-u.y(),2));var E=this.findOne(".top-right").x()<P.x?-1:1,R=this.findOne(".top-right").y()>P.y?-1:1;n=o*this.cos*E,i=o*this.sin*R,this.findOne(".top-right").x(P.x+n),this.findOne(".top-right").y(P.y-i)}var N=u.position();this.findOne(".top-left").y(N.y),this.findOne(".bottom-right").x(N.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(u.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(u.x());else if(this._movingAnchorName==="bottom-left"){if(m){var P=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};o=Math.sqrt(Math.pow(P.x-u.x(),2)+Math.pow(u.y()-P.y,2));var E=P.x<u.x()?-1:1,R=u.y()<P.y?-1:1;n=o*this.cos*E,i=o*this.sin*R,u.x(P.x-n),u.y(P.y+i)}N=u.position(),this.findOne(".top-left").x(N.x),this.findOne(".bottom-right").y(N.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(u.y());else if(this._movingAnchorName==="bottom-right"){if(m){var P=v?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};o=Math.sqrt(Math.pow(u.x()-P.x,2)+Math.pow(u.y()-P.y,2));var E=this.findOne(".bottom-right").x()<P.x?-1:1,R=this.findOne(".bottom-right").y()<P.y?-1:1;n=o*this.cos*E,i=o*this.sin*R,this.findOne(".bottom-right").x(P.x+n),this.findOne(".bottom-right").y(P.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var v=this.centeredScaling()||e.altKey;if(v){var w=this.findOne(".top-left"),k=this.findOne(".bottom-right"),b=w.x(),I=w.y(),T=this.getWidth()-k.x(),z=this.getHeight()-k.y();k.move({x:-b,y:-I}),w.move({x:T,y:z})}var O=this.findOne(".top-left").getAbsolutePosition();n=O.x,i=O.y;var G=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),Y=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:i,width:G,height:Y,rotation:ar.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(i=>{i._fire("transformend",{evt:e,target:i})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var i=this._getNodeRect();const o=1;if(Oe.Util._inRange(e.width,-this.padding()*2-o,o)){this.update();return}if(Oe.Util._inRange(e.height,-this.padding()*2-o,o)){this.update();return}const u=this.flipEnabled();var h=new Oe.Transform;if(h.rotate(ar.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const C=h.point({x:-this.padding()*2,y:0});if(e.x+=C.x,e.y+=C.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=C.x,this._anchorDragOffset.y-=C.y,!u){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const C=h.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=C.x,this._anchorDragOffset.y-=C.y,e.width+=this.padding()*2,!u){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const C=h.point({x:0,y:-this.padding()*2});if(e.x+=C.x,e.y+=C.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=C.x,this._anchorDragOffset.y-=C.y,e.height+=this.padding()*2,!u){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const C=h.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=C.x,this._anchorDragOffset.y-=C.y,e.height+=this.padding()*2,!u){this.update();return}}if(this.boundBoxFunc()){const C=this.boundBoxFunc()(i,e);C?e=C:Oe.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const d=1e7,f=new Oe.Transform;f.translate(i.x,i.y),f.rotate(i.rotation),f.scale(i.width/d,i.height/d);const p=new Oe.Transform;p.translate(e.x,e.y),p.rotate(e.rotation),p.scale(e.width/d,e.height/d);const y=p.multiply(f.invert());this._nodes.forEach(C=>{var x;const _=C.getParent().getAbsoluteTransform(),m=C.getTransform().copy();m.translate(C.offsetX(),C.offsetY());const P=new Oe.Transform;P.multiply(_.copy().invert()).multiply(y).multiply(_).multiply(m);const E=P.decompose();C.setAttrs(E),this._fire("transform",{evt:n,target:C}),C._fire("transform",{evt:n,target:C}),(x=C.getLayer())===null||x===void 0||x.batchDraw()}),this.rotation(Oe.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(Oe.Util._getRotation(n.rotation));var i=n.width,o=n.height,u=this.enabledAnchors(),h=this.resizeEnabled(),d=this.padding(),f=this.anchorSize();const p=this.find("._anchor");p.forEach(C=>{C.setAttrs({width:f,height:f,offsetX:f/2,offsetY:f/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:f/2+d,offsetY:f/2+d,visible:h&&u.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:f/2+d,visible:h&&u.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:f/2-d,offsetY:f/2+d,visible:h&&u.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:o/2,offsetX:f/2+d,visible:h&&u.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:o/2,offsetX:f/2-d,visible:h&&u.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:o,offsetX:f/2+d,offsetY:f/2-d,visible:h&&u.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:o,offsetY:f/2-d,visible:h&&u.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:o,offsetX:f/2-d,offsetY:f/2-d,visible:h&&u.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*Oe.Util._sign(o)-d,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:o,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const y=this.anchorStyleFunc();y&&p.forEach(C=>{y(C)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),jc.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Hc.Node.prototype.toObject.call(this)}clone(e){var n=Hc.Node.prototype.clone.call(this,e);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Gs.Transformer=Re;function Ng(a){return a instanceof Array||Oe.Util.warn("enabledAnchors value should be an array"),a instanceof Array&&a.forEach(function(e){us.indexOf(e)===-1&&Oe.Util.warn("Unknown anchor name: "+e+". Available names are: "+us.join(", "))}),a||[]}Re.prototype.className="Transformer";(0,Cg._registerNode)(Re);Me.Factory.addGetterSetter(Re,"enabledAnchors",us,Ng);Me.Factory.addGetterSetter(Re,"flipEnabled",!0,(0,en.getBooleanValidator)());Me.Factory.addGetterSetter(Re,"resizeEnabled",!0);Me.Factory.addGetterSetter(Re,"anchorSize",10,(0,en.getNumberValidator)());Me.Factory.addGetterSetter(Re,"rotateEnabled",!0);Me.Factory.addGetterSetter(Re,"rotationSnaps",[]);Me.Factory.addGetterSetter(Re,"rotateAnchorOffset",50,(0,en.getNumberValidator)());Me.Factory.addGetterSetter(Re,"rotationSnapTolerance",5,(0,en.getNumberValidator)());Me.Factory.addGetterSetter(Re,"borderEnabled",!0);Me.Factory.addGetterSetter(Re,"anchorStroke","rgb(0, 161, 255)");Me.Factory.addGetterSetter(Re,"anchorStrokeWidth",1,(0,en.getNumberValidator)());Me.Factory.addGetterSetter(Re,"anchorFill","white");Me.Factory.addGetterSetter(Re,"anchorCornerRadius",0,(0,en.getNumberValidator)());Me.Factory.addGetterSetter(Re,"borderStroke","rgb(0, 161, 255)");Me.Factory.addGetterSetter(Re,"borderStrokeWidth",1,(0,en.getNumberValidator)());Me.Factory.addGetterSetter(Re,"borderDash");Me.Factory.addGetterSetter(Re,"keepRatio",!0);Me.Factory.addGetterSetter(Re,"shiftBehavior","default");Me.Factory.addGetterSetter(Re,"centeredScaling",!1);Me.Factory.addGetterSetter(Re,"ignoreStroke",!1);Me.Factory.addGetterSetter(Re,"padding",0,(0,en.getNumberValidator)());Me.Factory.addGetterSetter(Re,"node");Me.Factory.addGetterSetter(Re,"nodes");Me.Factory.addGetterSetter(Re,"boundBoxFunc");Me.Factory.addGetterSetter(Re,"anchorDragBoundFunc");Me.Factory.addGetterSetter(Re,"anchorStyleFunc");Me.Factory.addGetterSetter(Re,"shouldOverdrawWholeArea",!1);Me.Factory.addGetterSetter(Re,"useSingleNodeRotation",!0);Me.Factory.backCompat(Re,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.Wedge=void 0;const zs=Se,Ag=at,Fg=_e,dd=ne,Mg=_e;class Lr extends Ag.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Fg.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Us.Wedge=Lr;Lr.prototype.className="Wedge";Lr.prototype._centroid=!0;Lr.prototype._attrsAffectingSize=["radius"];(0,Mg._registerNode)(Lr);zs.Factory.addGetterSetter(Lr,"radius",0,(0,dd.getNumberValidator)());zs.Factory.addGetterSetter(Lr,"angle",0,(0,dd.getNumberValidator)());zs.Factory.addGetterSetter(Lr,"clockwise",!1);zs.Factory.backCompat(Lr,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Blur=void 0;const Kc=Se,Og=Ye,Ig=ne;function Xc(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var Lg=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Dg=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Gg(a,e){var n=a.data,i=a.width,o=a.height,u,h,d,f,p,y,C,x,_,m,P,E,R,N,v,w,k,b,I,T,z,O,G,Y,H=e+e+1,q=i-1,ae=o-1,ie=e+1,le=ie*(ie+1)/2,B=new Xc,X=null,V=B,K=null,$=null,ce=Lg[e],ue=Dg[e];for(d=1;d<H;d++)V=V.next=new Xc,d===ie&&(X=V);for(V.next=B,C=y=0,h=0;h<o;h++){for(w=k=b=I=x=_=m=P=0,E=ie*(T=n[y]),R=ie*(z=n[y+1]),N=ie*(O=n[y+2]),v=ie*(G=n[y+3]),x+=le*T,_+=le*z,m+=le*O,P+=le*G,V=B,d=0;d<ie;d++)V.r=T,V.g=z,V.b=O,V.a=G,V=V.next;for(d=1;d<ie;d++)f=y+((q<d?q:d)<<2),x+=(V.r=T=n[f])*(Y=ie-d),_+=(V.g=z=n[f+1])*Y,m+=(V.b=O=n[f+2])*Y,P+=(V.a=G=n[f+3])*Y,w+=T,k+=z,b+=O,I+=G,V=V.next;for(K=B,$=X,u=0;u<i;u++)n[y+3]=G=P*ce>>ue,G!==0?(G=255/G,n[y]=(x*ce>>ue)*G,n[y+1]=(_*ce>>ue)*G,n[y+2]=(m*ce>>ue)*G):n[y]=n[y+1]=n[y+2]=0,x-=E,_-=R,m-=N,P-=v,E-=K.r,R-=K.g,N-=K.b,v-=K.a,f=C+((f=u+e+1)<q?f:q)<<2,w+=K.r=n[f],k+=K.g=n[f+1],b+=K.b=n[f+2],I+=K.a=n[f+3],x+=w,_+=k,m+=b,P+=I,K=K.next,E+=T=$.r,R+=z=$.g,N+=O=$.b,v+=G=$.a,w-=T,k-=z,b-=O,I-=G,$=$.next,y+=4;C+=i}for(u=0;u<i;u++){for(k=b=I=w=_=m=P=x=0,y=u<<2,E=ie*(T=n[y]),R=ie*(z=n[y+1]),N=ie*(O=n[y+2]),v=ie*(G=n[y+3]),x+=le*T,_+=le*z,m+=le*O,P+=le*G,V=B,d=0;d<ie;d++)V.r=T,V.g=z,V.b=O,V.a=G,V=V.next;for(p=i,d=1;d<=e;d++)y=p+u<<2,x+=(V.r=T=n[y])*(Y=ie-d),_+=(V.g=z=n[y+1])*Y,m+=(V.b=O=n[y+2])*Y,P+=(V.a=G=n[y+3])*Y,w+=T,k+=z,b+=O,I+=G,V=V.next,d<ae&&(p+=i);for(y=u,K=B,$=X,h=0;h<o;h++)f=y<<2,n[f+3]=G=P*ce>>ue,G>0?(G=255/G,n[f]=(x*ce>>ue)*G,n[f+1]=(_*ce>>ue)*G,n[f+2]=(m*ce>>ue)*G):n[f]=n[f+1]=n[f+2]=0,x-=E,_-=R,m-=N,P-=v,E-=K.r,R-=K.g,N-=K.b,v-=K.a,f=u+((f=h+ie)<ae?f:ae)*i<<2,x+=w+=K.r=n[f],_+=k+=K.g=n[f+1],m+=b+=K.b=n[f+2],P+=I+=K.a=n[f+3],K=K.next,E+=T=$.r,R+=z=$.g,N+=O=$.b,v+=G=$.a,w-=T,k-=z,b-=O,I-=G,$=$.next,y+=i}}const Ug=function(e){var n=Math.round(this.blurRadius());n>0&&Gg(e,n)};Bs.Blur=Ug;Kc.Factory.addGetterSetter(Og.Node,"blurRadius",0,(0,Ig.getNumberValidator)(),Kc.Factory.afterSetFilter);var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.Brighten=void 0;const $c=Se,zg=Ye,Bg=ne,Vg=function(a){var e=this.brightness()*255,n=a.data,i=n.length,o;for(o=0;o<i;o+=4)n[o]+=e,n[o+1]+=e,n[o+2]+=e};Vs.Brighten=Vg;$c.Factory.addGetterSetter(zg.Node,"brightness",0,(0,Bg.getNumberValidator)(),$c.Factory.afterSetFilter);var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.Contrast=void 0;const qc=Se,Hg=Ye,jg=ne,Wg=function(a){var e=Math.pow((this.contrast()+100)/100,2),n=a.data,i=n.length,o=150,u=150,h=150,d;for(d=0;d<i;d+=4)o=n[d],u=n[d+1],h=n[d+2],o/=255,o-=.5,o*=e,o+=.5,o*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,h/=255,h-=.5,h*=e,h+=.5,h*=255,o=o<0?0:o>255?255:o,u=u<0?0:u>255?255:u,h=h<0?0:h>255?255:h,n[d]=o,n[d+1]=u,n[d+2]=h};Hs.Contrast=Wg;qc.Factory.addGetterSetter(Hg.Node,"contrast",0,(0,jg.getNumberValidator)(),qc.Factory.afterSetFilter);var js={};Object.defineProperty(js,"__esModule",{value:!0});js.Emboss=void 0;const $r=Se,Ws=Ye,Yg=$e,fd=ne,Kg=function(a){var e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,i=this.embossDirection(),o=this.embossBlend(),u=0,h=0,d=a.data,f=a.width,p=a.height,y=f*4,C=p;switch(i){case"top-left":u=-1,h=-1;break;case"top":u=-1,h=0;break;case"top-right":u=-1,h=1;break;case"right":u=0,h=1;break;case"bottom-right":u=1,h=1;break;case"bottom":u=1,h=0;break;case"bottom-left":u=1,h=-1;break;case"left":u=0,h=-1;break;default:Yg.Util.error("Unknown emboss direction: "+i)}do{var x=(C-1)*y,_=u;C+_<1&&(_=0),C+_>p&&(_=0);var m=(C-1+_)*f*4,P=f;do{var E=x+(P-1)*4,R=h;P+R<1&&(R=0),P+R>f&&(R=0);var N=m+(P-1+R)*4,v=d[E]-d[N],w=d[E+1]-d[N+1],k=d[E+2]-d[N+2],b=v,I=b>0?b:-b,T=w>0?w:-w,z=k>0?k:-k;if(T>I&&(b=w),z>I&&(b=k),b*=e,o){var O=d[E]+b,G=d[E+1]+b,Y=d[E+2]+b;d[E]=O>255?255:O<0?0:O,d[E+1]=G>255?255:G<0?0:G,d[E+2]=Y>255?255:Y<0?0:Y}else{var H=n-b;H<0?H=0:H>255&&(H=255),d[E]=d[E+1]=d[E+2]=H}}while(--P)}while(--C)};js.Emboss=Kg;$r.Factory.addGetterSetter(Ws.Node,"embossStrength",.5,(0,fd.getNumberValidator)(),$r.Factory.afterSetFilter);$r.Factory.addGetterSetter(Ws.Node,"embossWhiteLevel",.5,(0,fd.getNumberValidator)(),$r.Factory.afterSetFilter);$r.Factory.addGetterSetter(Ws.Node,"embossDirection","top-left",null,$r.Factory.afterSetFilter);$r.Factory.addGetterSetter(Ws.Node,"embossBlend",!1,null,$r.Factory.afterSetFilter);var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.Enhance=void 0;const Qc=Se,Xg=Ye,$g=ne;function Bl(a,e,n,i,o){var u=n-e,h=o-i,d;return u===0?i+h/2:h===0?i:(d=(a-e)/u,d=h*d+i,d)}const qg=function(a){var e=a.data,n=e.length,i=e[0],o=i,u,h=e[1],d=h,f,p=e[2],y=p,C,x,_=this.enhance();if(_!==0){for(x=0;x<n;x+=4)u=e[x+0],u<i?i=u:u>o&&(o=u),f=e[x+1],f<h?h=f:f>d&&(d=f),C=e[x+2],C<p?p=C:C>y&&(y=C);o===i&&(o=255,i=0),d===h&&(d=255,h=0),y===p&&(y=255,p=0);var m,P,E,R,N,v,w,k,b;for(_>0?(P=o+_*(255-o),E=i-_*(i-0),N=d+_*(255-d),v=h-_*(h-0),k=y+_*(255-y),b=p-_*(p-0)):(m=(o+i)*.5,P=o+_*(o-m),E=i+_*(i-m),R=(d+h)*.5,N=d+_*(d-R),v=h+_*(h-R),w=(y+p)*.5,k=y+_*(y-w),b=p+_*(p-w)),x=0;x<n;x+=4)e[x+0]=Bl(e[x+0],i,o,E,P),e[x+1]=Bl(e[x+1],h,d,v,N),e[x+2]=Bl(e[x+2],p,y,b,k)}};Ys.Enhance=qg;Qc.Factory.addGetterSetter(Xg.Node,"enhance",0,(0,$g.getNumberValidator)(),Qc.Factory.afterSetFilter);var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.Grayscale=void 0;const Qg=function(a){var e=a.data,n=e.length,i,o;for(i=0;i<n;i+=4)o=.34*e[i]+.5*e[i+1]+.16*e[i+2],e[i]=o,e[i+1]=o,e[i+2]=o};Ks.Grayscale=Qg;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.HSL=void 0;const ti=Se,Eu=Ye,Tu=ne;ti.Factory.addGetterSetter(Eu.Node,"hue",0,(0,Tu.getNumberValidator)(),ti.Factory.afterSetFilter);ti.Factory.addGetterSetter(Eu.Node,"saturation",0,(0,Tu.getNumberValidator)(),ti.Factory.afterSetFilter);ti.Factory.addGetterSetter(Eu.Node,"luminance",0,(0,Tu.getNumberValidator)(),ti.Factory.afterSetFilter);const Jg=function(a){var e=a.data,n=e.length,i=1,o=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=this.luminance()*127,d,f=i*o*Math.cos(u*Math.PI/180),p=i*o*Math.sin(u*Math.PI/180),y=.299*i+.701*f+.167*p,C=.587*i-.587*f+.33*p,x=.114*i-.114*f-.497*p,_=.299*i-.299*f-.328*p,m=.587*i+.413*f+.035*p,P=.114*i-.114*f+.293*p,E=.299*i-.3*f+1.25*p,R=.587*i-.586*f-1.05*p,N=.114*i+.886*f-.2*p,v,w,k,b;for(d=0;d<n;d+=4)v=e[d+0],w=e[d+1],k=e[d+2],b=e[d+3],e[d+0]=y*v+C*w+x*k+h,e[d+1]=_*v+m*w+P*k+h,e[d+2]=E*v+R*w+N*k+h,e[d+3]=b};Xs.HSL=Jg;var $s={};Object.defineProperty($s,"__esModule",{value:!0});$s.HSV=void 0;const ri=Se,Ru=Ye,bu=ne,Zg=function(a){var e=a.data,n=e.length,i=Math.pow(2,this.value()),o=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h,d=i*o*Math.cos(u*Math.PI/180),f=i*o*Math.sin(u*Math.PI/180),p=.299*i+.701*d+.167*f,y=.587*i-.587*d+.33*f,C=.114*i-.114*d-.497*f,x=.299*i-.299*d-.328*f,_=.587*i+.413*d+.035*f,m=.114*i-.114*d+.293*f,P=.299*i-.3*d+1.25*f,E=.587*i-.586*d-1.05*f,R=.114*i+.886*d-.2*f,N,v,w,k;for(h=0;h<n;h+=4)N=e[h+0],v=e[h+1],w=e[h+2],k=e[h+3],e[h+0]=p*N+y*v+C*w,e[h+1]=x*N+_*v+m*w,e[h+2]=P*N+E*v+R*w,e[h+3]=k};$s.HSV=Zg;ri.Factory.addGetterSetter(Ru.Node,"hue",0,(0,bu.getNumberValidator)(),ri.Factory.afterSetFilter);ri.Factory.addGetterSetter(Ru.Node,"saturation",0,(0,bu.getNumberValidator)(),ri.Factory.afterSetFilter);ri.Factory.addGetterSetter(Ru.Node,"value",0,(0,bu.getNumberValidator)(),ri.Factory.afterSetFilter);var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.Invert=void 0;const e5=function(a){var e=a.data,n=e.length,i;for(i=0;i<n;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]};qs.Invert=e5;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Kaleidoscope=void 0;const hs=Se,gd=Ye,Jc=$e,pd=ne;var t5=function(a,e,n){var i=a.data,o=e.data,u=a.width,h=a.height,d=n.polarCenterX||u/2,f=n.polarCenterY||h/2,p,y,C,x=0,_=0,m=0,P=0,E,R=Math.sqrt(d*d+f*f);y=u-d,C=h-f,E=Math.sqrt(y*y+C*C),R=E>R?E:R;var N=h,v=u,w,k,b=360/v*Math.PI/180,I,T;for(k=0;k<v;k+=1)for(I=Math.sin(k*b),T=Math.cos(k*b),w=0;w<N;w+=1)y=Math.floor(d+R*w/N*T),C=Math.floor(f+R*w/N*I),p=(C*u+y)*4,x=i[p+0],_=i[p+1],m=i[p+2],P=i[p+3],p=(k+w*u)*4,o[p+0]=x,o[p+1]=_,o[p+2]=m,o[p+3]=P},r5=function(a,e,n){var i=a.data,o=e.data,u=a.width,h=a.height,d=n.polarCenterX||u/2,f=n.polarCenterY||h/2,p,y,C,x,_,m=0,P=0,E=0,R=0,N,v=Math.sqrt(d*d+f*f);y=u-d,C=h-f,N=Math.sqrt(y*y+C*C),v=N>v?N:v;var w=h,k=u,b,I,T=n.polarRotation||0,z,O;for(y=0;y<u;y+=1)for(C=0;C<h;C+=1)x=y-d,_=C-f,b=Math.sqrt(x*x+_*_)*w/v,I=(Math.atan2(_,x)*180/Math.PI+360+T)%360,I=I*k/360,z=Math.floor(I),O=Math.floor(b),p=(O*u+z)*4,m=i[p+0],P=i[p+1],E=i[p+2],R=i[p+3],p=(C*u+y)*4,o[p+0]=m,o[p+1]=P,o[p+2]=E,o[p+3]=R};const n5=function(a){var e=a.width,n=a.height,i,o,u,h,d,f,p,y,C,x,_=Math.round(this.kaleidoscopePower()),m=Math.round(this.kaleidoscopeAngle()),P=Math.floor(e*(m%360)/360);if(!(_<1)){var E=Jc.Util.createCanvasElement();E.width=e,E.height=n;var R=E.getContext("2d").getImageData(0,0,e,n);Jc.Util.releaseCanvas(E),t5(a,R,{polarCenterX:e/2,polarCenterY:n/2});for(var N=e/Math.pow(2,_);N<=8;)N=N*2,_-=1;N=Math.ceil(N);var v=N,w=0,k=v,b=1;for(P+N>e&&(w=v,k=0,b=-1),o=0;o<n;o+=1)for(i=w;i!==k;i+=b)u=Math.round(i+P)%e,C=(e*o+u)*4,d=R.data[C+0],f=R.data[C+1],p=R.data[C+2],y=R.data[C+3],x=(e*o+i)*4,R.data[x+0]=d,R.data[x+1]=f,R.data[x+2]=p,R.data[x+3]=y;for(o=0;o<n;o+=1)for(v=Math.floor(N),h=0;h<_;h+=1){for(i=0;i<v+1;i+=1)C=(e*o+i)*4,d=R.data[C+0],f=R.data[C+1],p=R.data[C+2],y=R.data[C+3],x=(e*o+v*2-i-1)*4,R.data[x+0]=d,R.data[x+1]=f,R.data[x+2]=p,R.data[x+3]=y;v*=2}r5(R,a,{polarRotation:0})}};Qs.Kaleidoscope=n5;hs.Factory.addGetterSetter(gd.Node,"kaleidoscopePower",2,(0,pd.getNumberValidator)(),hs.Factory.afterSetFilter);hs.Factory.addGetterSetter(gd.Node,"kaleidoscopeAngle",0,(0,pd.getNumberValidator)(),hs.Factory.afterSetFilter);var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.Mask=void 0;const Zc=Se,i5=Ye,a5=ne;function Qa(a,e,n){var i=(n*a.width+e)*4,o=[];return o.push(a.data[i++],a.data[i++],a.data[i++],a.data[i++]),o}function Gi(a,e){return Math.sqrt(Math.pow(a[0]-e[0],2)+Math.pow(a[1]-e[1],2)+Math.pow(a[2]-e[2],2))}function s5(a){for(var e=[0,0,0],n=0;n<a.length;n++)e[0]+=a[n][0],e[1]+=a[n][1],e[2]+=a[n][2];return e[0]/=a.length,e[1]/=a.length,e[2]/=a.length,e}function o5(a,e){var n=Qa(a,0,0),i=Qa(a,a.width-1,0),o=Qa(a,0,a.height-1),u=Qa(a,a.width-1,a.height-1),h=e||10;if(Gi(n,i)<h&&Gi(i,u)<h&&Gi(u,o)<h&&Gi(o,n)<h){for(var d=s5([i,n,u,o]),f=[],p=0;p<a.width*a.height;p++){var y=Gi(d,[a.data[p*4],a.data[p*4+1],a.data[p*4+2]]);f[p]=y<h?0:255}return f}}function l5(a,e){for(var n=0;n<a.width*a.height;n++)a.data[4*n+3]=e[n]}function u5(a,e,n){for(var i=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(i.length)),u=Math.floor(o/2),h=[],d=0;d<n;d++)for(var f=0;f<e;f++){for(var p=d*e+f,y=0,C=0;C<o;C++)for(var x=0;x<o;x++){var _=d+C-u,m=f+x-u;if(_>=0&&_<n&&m>=0&&m<e){var P=_*e+m,E=i[C*o+x];y+=a[P]*E}}h[p]=y===255*8?255:0}return h}function h5(a,e,n){for(var i=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(i.length)),u=Math.floor(o/2),h=[],d=0;d<n;d++)for(var f=0;f<e;f++){for(var p=d*e+f,y=0,C=0;C<o;C++)for(var x=0;x<o;x++){var _=d+C-u,m=f+x-u;if(_>=0&&_<n&&m>=0&&m<e){var P=_*e+m,E=i[C*o+x];y+=a[P]*E}}h[p]=y>=255*4?255:0}return h}function c5(a,e,n){for(var i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],o=Math.round(Math.sqrt(i.length)),u=Math.floor(o/2),h=[],d=0;d<n;d++)for(var f=0;f<e;f++){for(var p=d*e+f,y=0,C=0;C<o;C++)for(var x=0;x<o;x++){var _=d+C-u,m=f+x-u;if(_>=0&&_<n&&m>=0&&m<e){var P=_*e+m,E=i[C*o+x];y+=a[P]*E}}h[p]=y}return h}const d5=function(a){var e=this.threshold(),n=o5(a,e);return n&&(n=u5(n,a.width,a.height),n=h5(n,a.width,a.height),n=c5(n,a.width,a.height),l5(a,n)),a};Js.Mask=d5;Zc.Factory.addGetterSetter(i5.Node,"threshold",0,(0,a5.getNumberValidator)(),Zc.Factory.afterSetFilter);var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Noise=void 0;const e0=Se,f5=Ye,g5=ne,p5=function(a){var e=this.noise()*255,n=a.data,i=n.length,o=e/2,u;for(u=0;u<i;u+=4)n[u+0]+=o-2*o*Math.random(),n[u+1]+=o-2*o*Math.random(),n[u+2]+=o-2*o*Math.random()};Zs.Noise=p5;e0.Factory.addGetterSetter(f5.Node,"noise",.2,(0,g5.getNumberValidator)(),e0.Factory.afterSetFilter);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.Pixelate=void 0;const t0=Se,v5=$e,m5=Ye,y5=ne,_5=function(a){var e=Math.ceil(this.pixelSize()),n=a.width,i=a.height,o,u,h,d,f,p,y,C=Math.ceil(n/e),x=Math.ceil(i/e),_,m,P,E,R,N,v,w=a.data;if(e<=0){v5.Util.error("pixelSize value can not be <= 0");return}for(R=0;R<C;R+=1)for(N=0;N<x;N+=1){for(d=0,f=0,p=0,y=0,_=R*e,m=_+e,P=N*e,E=P+e,v=0,o=_;o<m;o+=1)if(!(o>=n))for(u=P;u<E;u+=1)u>=i||(h=(n*u+o)*4,d+=w[h+0],f+=w[h+1],p+=w[h+2],y+=w[h+3],v+=1);for(d=d/v,f=f/v,p=p/v,y=y/v,o=_;o<m;o+=1)if(!(o>=n))for(u=P;u<E;u+=1)u>=i||(h=(n*u+o)*4,w[h+0]=d,w[h+1]=f,w[h+2]=p,w[h+3]=y)}};eo.Pixelate=_5;t0.Factory.addGetterSetter(m5.Node,"pixelSize",8,(0,y5.getNumberValidator)(),t0.Factory.afterSetFilter);var to={};Object.defineProperty(to,"__esModule",{value:!0});to.Posterize=void 0;const r0=Se,S5=Ye,C5=ne,w5=function(a){var e=Math.round(this.levels()*254)+1,n=a.data,i=n.length,o=255/e,u;for(u=0;u<i;u+=1)n[u]=Math.floor(n[u]/o)*o};to.Posterize=w5;r0.Factory.addGetterSetter(S5.Node,"levels",.5,(0,C5.getNumberValidator)(),r0.Factory.afterSetFilter);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.RGB=void 0;const cs=Se,Nu=Ye,x5=ne,P5=function(a){var e=a.data,n=e.length,i=this.red(),o=this.green(),u=this.blue(),h,d;for(h=0;h<n;h+=4)d=(.34*e[h]+.5*e[h+1]+.16*e[h+2])/255,e[h]=d*i,e[h+1]=d*o,e[h+2]=d*u,e[h+3]=e[h+3]};ro.RGB=P5;cs.Factory.addGetterSetter(Nu.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)});cs.Factory.addGetterSetter(Nu.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)});cs.Factory.addGetterSetter(Nu.Node,"blue",0,x5.RGBComponent,cs.Factory.afterSetFilter);var no={};Object.defineProperty(no,"__esModule",{value:!0});no.RGBA=void 0;const Hi=Se,io=Ye,k5=ne,E5=function(a){var e=a.data,n=e.length,i=this.red(),o=this.green(),u=this.blue(),h=this.alpha(),d,f;for(d=0;d<n;d+=4)f=1-h,e[d]=i*h+e[d]*f,e[d+1]=o*h+e[d+1]*f,e[d+2]=u*h+e[d+2]*f};no.RGBA=E5;Hi.Factory.addGetterSetter(io.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)});Hi.Factory.addGetterSetter(io.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)});Hi.Factory.addGetterSetter(io.Node,"blue",0,k5.RGBComponent,Hi.Factory.afterSetFilter);Hi.Factory.addGetterSetter(io.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a});var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.Sepia=void 0;const T5=function(a){var e=a.data,n=e.length,i,o,u,h;for(i=0;i<n;i+=4)o=e[i+0],u=e[i+1],h=e[i+2],e[i+0]=Math.min(255,o*.393+u*.769+h*.189),e[i+1]=Math.min(255,o*.349+u*.686+h*.168),e[i+2]=Math.min(255,o*.272+u*.534+h*.131)};ao.Sepia=T5;var so={};Object.defineProperty(so,"__esModule",{value:!0});so.Solarize=void 0;const R5=function(a){var e=a.data,n=a.width,i=a.height,o=n*4,u=i;do{var h=(u-1)*o,d=n;do{var f=h+(d-1)*4,p=e[f],y=e[f+1],C=e[f+2];p>127&&(p=255-p),y>127&&(y=255-y),C>127&&(C=255-C),e[f]=p,e[f+1]=y,e[f+2]=C}while(--d)}while(--u)};so.Solarize=R5;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.Threshold=void 0;const n0=Se,b5=Ye,N5=ne,A5=function(a){var e=this.threshold()*255,n=a.data,i=n.length,o;for(o=0;o<i;o+=1)n[o]=n[o]<e?0:255};oo.Threshold=A5;n0.Factory.addGetterSetter(b5.Node,"threshold",.5,(0,N5.getNumberValidator)(),n0.Factory.afterSetFilter);Object.defineProperty(vs,"__esModule",{value:!0});vs.Konva=void 0;const i0=os,F5=ws,M5=ks,O5=Rs,I5=bs,L5=Ns,a0=ei,D5=Xi,G5=di,U5=Qi,z5=Ms,B5=Os,V5=Is,H5=Ls,j5=Sn,W5=Ds,Y5=Gs,K5=Us,X5=Bs,$5=Vs,q5=Hs,Q5=js,J5=Ys,Z5=Ks,e3=Xs,t3=$s,r3=qs,n3=Qs,i3=Js,a3=Zs,s3=eo,o3=to,l3=ro,u3=no,h3=ao,c3=so,d3=oo;vs.Konva=i0.Konva.Util._assign(i0.Konva,{Arc:F5.Arc,Arrow:M5.Arrow,Circle:O5.Circle,Ellipse:I5.Ellipse,Image:L5.Image,Label:a0.Label,Tag:a0.Tag,Line:D5.Line,Path:G5.Path,Rect:U5.Rect,RegularPolygon:z5.RegularPolygon,Ring:B5.Ring,Sprite:V5.Sprite,Star:H5.Star,Text:j5.Text,TextPath:W5.TextPath,Transformer:Y5.Transformer,Wedge:K5.Wedge,Filters:{Blur:X5.Blur,Brighten:$5.Brighten,Contrast:q5.Contrast,Emboss:Q5.Emboss,Enhance:J5.Enhance,Grayscale:Z5.Grayscale,HSL:e3.HSL,HSV:t3.HSV,Invert:r3.Invert,Kaleidoscope:n3.Kaleidoscope,Mask:i3.Mask,Noise:a3.Noise,Pixelate:s3.Pixelate,Posterize:o3.Posterize,RGB:l3.RGB,RGBA:u3.RGBA,Sepia:h3.Sepia,Solarize:c3.Solarize,Threshold:d3.Threshold}});var f3=L0.exports;Object.defineProperty(f3,"__esModule",{value:!0});const g3=vs;L0.exports=g3.Konva;var lu={exports:{}};(function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=os;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const i=os;a.exports=i.Konva})(lu,lu.exports);var p3=lu.exports;const ji=M0(p3);var vd={exports:{}},Vl={exports:{}},Hl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function v3(){return s0||(s0=1,function(a){function e(B,X){var V=B.length;B.push(X);e:for(;0<V;){var K=V-1>>>1,$=B[K];if(0<o($,X))B[K]=X,B[V]=$,V=K;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],V=B.pop();if(V!==X){B[0]=V;e:for(var K=0,$=B.length,ce=$>>>1;K<ce;){var ue=2*(K+1)-1,De=B[ue],Pe=ue+1,A=B[Pe];if(0>o(De,V))Pe<$&&0>o(A,De)?(B[K]=A,B[Pe]=V,K=Pe):(B[K]=De,B[ue]=V,K=ue);else if(Pe<$&&0>o(A,V))B[K]=A,B[Pe]=V,K=Pe;else break e}}return X}function o(B,X){var V=B.sortIndex-X.sortIndex;return V!==0?V:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();a.unstable_now=function(){return h.now()-d}}var f=[],p=[],y=1,C=null,x=3,_=!1,m=!1,P=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var X=n(p);X!==null;){if(X.callback===null)i(p);else if(X.startTime<=B)i(p),X.sortIndex=X.expirationTime,e(f,X);else break;X=n(p)}}function w(B){if(P=!1,v(B),!m)if(n(f)!==null)m=!0,ie(k);else{var X=n(p);X!==null&&le(w,X.startTime-B)}}function k(B,X){m=!1,P&&(P=!1,R(T),T=-1),_=!0;var V=x;try{for(v(X),C=n(f);C!==null&&(!(C.expirationTime>X)||B&&!G());){var K=C.callback;if(typeof K=="function"){C.callback=null,x=C.priorityLevel;var $=K(C.expirationTime<=X);X=a.unstable_now(),typeof $=="function"?C.callback=$:C===n(f)&&i(f),v(X)}else i(f);C=n(f)}if(C!==null)var ce=!0;else{var ue=n(p);ue!==null&&le(w,ue.startTime-X),ce=!1}return ce}finally{C=null,x=V,_=!1}}var b=!1,I=null,T=-1,z=5,O=-1;function G(){return!(a.unstable_now()-O<z)}function Y(){if(I!==null){var B=a.unstable_now();O=B;var X=!0;try{X=I(!0,B)}finally{X?H():(b=!1,I=null)}}else b=!1}var H;if(typeof N=="function")H=function(){N(Y)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ae=q.port2;q.port1.onmessage=Y,H=function(){ae.postMessage(null)}}else H=function(){E(Y,0)};function ie(B){I=B,b||(b=!0,H())}function le(B,X){T=E(function(){B(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_continueExecution=function(){m||_||(m=!0,ie(k))},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_getFirstCallbackNode=function(){return n(f)},a.unstable_next=function(B){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var V=x;x=X;try{return B()}finally{x=V}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=x;x=B;try{return X()}finally{x=V}},a.unstable_scheduleCallback=function(B,X,V){var K=a.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=V+$,B={id:y++,callback:X,priorityLevel:B,startTime:V,expirationTime:$,sortIndex:-1},V>K?(B.sortIndex=V,e(p,B),n(f)===null&&B===n(p)&&(P?(R(T),T=-1):P=!0,le(w,V-K))):(B.sortIndex=$,e(f,B),m||_||(m=!0,ie(k))),B},a.unstable_shouldYield=G,a.unstable_wrapCallback=function(B){var X=x;return function(){var V=x;x=X;try{return B.apply(this,arguments)}finally{x=V}}}}(Hl)),Hl}var o0;function md(){return o0||(o0=1,Vl.exports=v3()),Vl.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3=function(e){var n={},i=se,o=md(),u=Object.assign;function h(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,f=Symbol.for("react.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),m=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),k=Symbol.iterator;function b(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}function I(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y:return"Fragment";case p:return"Portal";case x:return"Profiler";case C:return"StrictMode";case E:return"Suspense";case R:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m:return(t.displayName||"Context")+".Consumer";case _:return(t._context.displayName||"Context")+".Provider";case P:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:I(t.type)||"Memo";case v:r=t._payload,t=t._init;try{return I(t(r))}catch{}}return null}function T(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(r);case 8:return r===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function z(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function O(t){if(z(t)!==t)throw Error(h(188))}function G(t){var r=t.alternate;if(!r){if(r=z(t),r===null)throw Error(h(188));return r!==t?null:t}for(var s=t,l=r;;){var c=s.return;if(c===null)break;var g=c.alternate;if(g===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===g.child){for(g=c.child;g;){if(g===s)return O(c),t;if(g===l)return O(c),r;g=g.sibling}throw Error(h(188))}if(s.return!==l.return)s=c,l=g;else{for(var S=!1,F=c.child;F;){if(F===s){S=!0,s=c,l=g;break}if(F===l){S=!0,l=c,s=g;break}F=F.sibling}if(!S){for(F=g.child;F;){if(F===s){S=!0,s=g,l=c;break}if(F===l){S=!0,l=g,s=c;break}F=F.sibling}if(!S)throw Error(h(189))}}if(s.alternate!==l)throw Error(h(190))}if(s.tag!==3)throw Error(h(188));return s.stateNode.current===s?t:r}function Y(t){return t=G(t),t!==null?H(t):null}function H(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=H(t);if(r!==null)return r;t=t.sibling}return null}function q(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){if(t.tag!==4){var r=q(t);if(r!==null)return r}t=t.sibling}return null}var ae=Array.isArray,ie=e.getPublicInstance,le=e.getRootHostContext,B=e.getChildHostContext,X=e.prepareForCommit,V=e.resetAfterCommit,K=e.createInstance,$=e.appendInitialChild,ce=e.finalizeInitialChildren,ue=e.prepareUpdate,De=e.shouldSetTextContent,Pe=e.createTextInstance,A=e.scheduleTimeout,j=e.cancelTimeout,ee=e.noTimeout,ge=e.isPrimaryRenderer,fe=e.supportsMutation,be=e.supportsPersistence,Ge=e.supportsHydration,Et=e.getInstanceFromNode,Fe=e.preparePortalMount,Qt=e.getCurrentEventPriority,Q=e.detachDeletedInstance,he=e.supportsMicrotasks,Ne=e.scheduleMicrotask,xe=e.supportsTestSelectors,xt=e.findFiberRoot,ot=e.getBoundingRect,Gt=e.getTextContent,Ut=e.isHiddenSubtree,ur=e.matchAccessibilityRole,Cr=e.setFocusIfFocusable,gt=e.setupIntersectionObserver,Jt=e.appendChild,Nn=e.appendChildToContainer,rn=e.commitTextUpdate,An=e.commitMount,Fn=e.commitUpdate,pi=e.insertBefore,po=e.insertInContainerBefore,vo=e.removeChild,Mn=e.removeChildFromContainer,vi=e.resetTextContent,mo=e.hideInstance,Zi=e.hideTextInstance,Xd=e.unhideInstance,$d=e.unhideTextInstance,qd=e.clearContainer,Qd=e.cloneInstance,Gu=e.createContainerChildSet,Uu=e.appendChildToContainerChildSet,Jd=e.finalizeContainerChildren,yo=e.replaceContainerChildren,zu=e.cloneHiddenInstance,Bu=e.cloneHiddenTextInstance,Zd=e.canHydrateInstance,e1=e.canHydrateTextInstance,t1=e.canHydrateSuspenseInstance,Vu=e.isSuspenseInstancePending,_o=e.isSuspenseInstanceFallback,r1=e.getSuspenseInstanceFallbackErrorDetails,n1=e.registerSuspenseInstanceRetry,ea=e.getNextHydratableSibling,i1=e.getFirstHydratableChild,a1=e.getFirstHydratableChildWithinContainer,s1=e.getFirstHydratableChildWithinSuspenseInstance,o1=e.hydrateInstance,l1=e.hydrateTextInstance,u1=e.hydrateSuspenseInstance,h1=e.getNextHydratableInstanceAfterSuspenseInstance,c1=e.commitHydratedContainer,d1=e.commitHydratedSuspenseInstance,f1=e.clearSuspenseBoundary,g1=e.clearSuspenseBoundaryFromContainer,p1=e.shouldDeleteUnhydratedTailInstances,v1=e.didNotMatchHydratedContainerTextInstance,m1=e.didNotMatchHydratedTextInstance,So;function mi(t){if(So===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);So=r&&r[1]||""}return`
`+So+t}var Co=!1;function wo(t,r){if(!t||Co)return"";Co=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(W){var l=W}Reflect.construct(t,[],r)}else{try{r.call()}catch(W){l=W}t.call(r.prototype)}else{try{throw Error()}catch(W){l=W}t()}}catch(W){if(W&&l&&typeof W.stack=="string"){for(var c=W.stack.split(`
`),g=l.stack.split(`
`),S=c.length-1,F=g.length-1;1<=S&&0<=F&&c[S]!==g[F];)F--;for(;1<=S&&0<=F;S--,F--)if(c[S]!==g[F]){if(S!==1||F!==1)do if(S--,F--,0>F||c[S]!==g[F]){var D=`
`+c[S].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=S&&0<=F);break}}}finally{Co=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?mi(t):""}var y1=Object.prototype.hasOwnProperty,xo=[],On=-1;function Dr(t){return{current:t}}function ze(t){0>On||(t.current=xo[On],xo[On]=null,On--)}function Ue(t,r){On++,xo[On]=t.current,t.current=r}var Gr={},yt=Dr(Gr),Tt=Dr(!1),nn=Gr;function In(t,r){var s=t.type.contextTypes;if(!s)return Gr;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var c={},g;for(g in s)c[g]=r[g];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=c),c}function Rt(t){return t=t.childContextTypes,t!=null}function ta(){ze(Tt),ze(yt)}function Hu(t,r,s){if(yt.current!==Gr)throw Error(h(168));Ue(yt,r),Ue(Tt,s)}function ju(t,r,s){var l=t.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var c in l)if(!(c in r))throw Error(h(108,T(t)||"Unknown",c));return u({},s,l)}function ra(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,nn=yt.current,Ue(yt,t),Ue(Tt,Tt.current),!0}function Wu(t,r,s){var l=t.stateNode;if(!l)throw Error(h(169));s?(t=ju(t,r,nn),l.__reactInternalMemoizedMergedChildContext=t,ze(Tt),ze(yt),Ue(yt,t)):ze(Tt),Ue(Tt,s)}var Zt=Math.clz32?Math.clz32:C1,_1=Math.log,S1=Math.LN2;function C1(t){return t>>>=0,t===0?32:31-(_1(t)/S1|0)|0}var na=64,ia=4194304;function yi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function aa(t,r){var s=t.pendingLanes;if(s===0)return 0;var l=0,c=t.suspendedLanes,g=t.pingedLanes,S=s&268435455;if(S!==0){var F=S&~c;F!==0?l=yi(F):(g&=S,g!==0&&(l=yi(g)))}else S=s&~c,S!==0?l=yi(S):g!==0&&(l=yi(g));if(l===0)return 0;if(r!==0&&r!==l&&!(r&c)&&(c=l&-l,g=r&-r,c>=g||c===16&&(g&4194240)!==0))return r;if(l&4&&(l|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=l;0<r;)s=31-Zt(r),c=1<<s,l|=t[s],r&=~c;return l}function w1(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x1(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,g=t.pendingLanes;0<g;){var S=31-Zt(g),F=1<<S,D=c[S];D===-1?(!(F&s)||F&l)&&(c[S]=w1(F,r)):D<=r&&(t.expiredLanes|=F),g&=~F}}function Po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yu(){var t=na;return na<<=1,!(na&4194240)&&(na=64),t}function ko(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function _i(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Zt(r),t[r]=s}function P1(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<s;){var c=31-Zt(s),g=1<<c;r[c]=0,l[c]=-1,t[c]=-1,s&=~g}}function Eo(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Zt(s),c=1<<l;c&r|t[l]&r&&(t[l]|=r),s&=~c}}var ke=0;function Ku(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var To=o.unstable_scheduleCallback,Xu=o.unstable_cancelCallback,k1=o.unstable_shouldYield,E1=o.unstable_requestPaint,lt=o.unstable_now,Ro=o.unstable_ImmediatePriority,T1=o.unstable_UserBlockingPriority,bo=o.unstable_NormalPriority,R1=o.unstable_IdlePriority,sa=null,hr=null;function b1(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(sa,t,void 0,(t.current.flags&128)===128)}catch{}}function N1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var er=typeof Object.is=="function"?Object.is:N1,wr=null,oa=!1,No=!1;function $u(t){wr===null?wr=[t]:wr.push(t)}function A1(t){oa=!0,$u(t)}function cr(){if(!No&&wr!==null){No=!0;var t=0,r=ke;try{var s=wr;for(ke=1;t<s.length;t++){var l=s[t];do l=l(!0);while(l!==null)}wr=null,oa=!1}catch(c){throw wr!==null&&(wr=wr.slice(t+1)),To(Ro,cr),c}finally{ke=r,No=!1}}return null}var Ln=[],Dn=0,la=null,ua=0,zt=[],Bt=0,an=null,xr=1,Pr="";function sn(t,r){Ln[Dn++]=ua,Ln[Dn++]=la,la=t,ua=r}function qu(t,r,s){zt[Bt++]=xr,zt[Bt++]=Pr,zt[Bt++]=an,an=t;var l=xr;t=Pr;var c=32-Zt(l)-1;l&=~(1<<c),s+=1;var g=32-Zt(r)+c;if(30<g){var S=c-c%5;g=(l&(1<<S)-1).toString(32),l>>=S,c-=S,xr=1<<32-Zt(r)+c|s<<c|l,Pr=g+t}else xr=1<<g|s<<c|l,Pr=t}function Ao(t){t.return!==null&&(sn(t,1),qu(t,1,0))}function Fo(t){for(;t===la;)la=Ln[--Dn],Ln[Dn]=null,ua=Ln[--Dn],Ln[Dn]=null;for(;t===an;)an=zt[--Bt],zt[Bt]=null,Pr=zt[--Bt],zt[Bt]=null,xr=zt[--Bt],zt[Bt]=null}var It=null,Vt=null,je=!1,Si=!1,tr=null;function Qu(t,r){var s=Kt(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function Ju(t,r){switch(t.tag){case 5:return r=Zd(r,t.type,t.pendingProps),r!==null?(t.stateNode=r,It=t,Vt=i1(r),!0):!1;case 6:return r=e1(r,t.pendingProps),r!==null?(t.stateNode=r,It=t,Vt=null,!0):!1;case 13:if(r=t1(r),r!==null){var s=an!==null?{id:xr,overflow:Pr}:null;return t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Kt(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,It=t,Vt=null,!0}return!1;default:return!1}}function Mo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oo(t){if(je){var r=Vt;if(r){var s=r;if(!Ju(t,r)){if(Mo(t))throw Error(h(418));r=ea(s);var l=It;r&&Ju(t,r)?Qu(l,s):(t.flags=t.flags&-4097|2,je=!1,It=t)}}else{if(Mo(t))throw Error(h(418));t.flags=t.flags&-4097|2,je=!1,It=t}}}function Zu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function ha(t){if(!Ge||t!==It)return!1;if(!je)return Zu(t),je=!0,!1;if(t.tag!==3&&(t.tag!==5||p1(t.type)&&!De(t.type,t.memoizedProps))){var r=Vt;if(r){if(Mo(t))throw eh(),Error(h(418));for(;r;)Qu(t,r),r=ea(r)}}if(Zu(t),t.tag===13){if(!Ge)throw Error(h(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(h(317));Vt=h1(t)}else Vt=It?ea(t.stateNode):null;return!0}function eh(){for(var t=Vt;t;)t=ea(t)}function Gn(){Ge&&(Vt=It=null,Si=je=!1)}function Io(t){tr===null?tr=[t]:tr.push(t)}var F1=d.ReactCurrentBatchConfig;function ca(t,r){if(er(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!y1.call(r,c)||!er(t[c],r[c]))return!1}return!0}function M1(t){switch(t.tag){case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return t=wo(t.type,!1),t;case 11:return t=wo(t.type.render,!1),t;case 1:return t=wo(t.type,!0),t;default:return""}}function rr(t,r){if(t&&t.defaultProps){r=u({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}var da=Dr(null),fa=null,Un=null,Lo=null;function Do(){Lo=Un=fa=null}function th(t,r,s){ge?(Ue(da,r._currentValue),r._currentValue=s):(Ue(da,r._currentValue2),r._currentValue2=s)}function Go(t){var r=da.current;ze(da),ge?t._currentValue=r:t._currentValue2=r}function Uo(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function zn(t,r){fa=t,Lo=Un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(bt=!0),t.firstContext=null)}function Ht(t){var r=ge?t._currentValue:t._currentValue2;if(Lo!==t)if(t={context:t,memoizedValue:r,next:null},Un===null){if(fa===null)throw Error(h(308));Un=t,fa.dependencies={lanes:0,firstContext:t}}else Un=Un.next=t;return r}var on=null;function zo(t){on===null?on=[t]:on.push(t)}function rh(t,r,s,l){var c=r.interleaved;return c===null?(s.next=s,zo(r)):(s.next=c.next,c.next=s),r.interleaved=s,dr(t,l)}function dr(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Ur=!1;function Bo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Ce&2){var c=l.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),l.pending=r,dr(t,s)}return c=l.interleaved,c===null?(r.next=r,zo(l)):(r.next=c.next,c.next=r),l.interleaved=r,dr(t,s)}function ga(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Eo(t,s)}}function ih(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var S={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};g===null?c=g=S:g=g.next=S,s=s.next}while(s!==null);g===null?c=g=r:g=g.next=r}else c=g=r;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:g,shared:l.shared,effects:l.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function pa(t,r,s,l){var c=t.updateQueue;Ur=!1;var g=c.firstBaseUpdate,S=c.lastBaseUpdate,F=c.shared.pending;if(F!==null){c.shared.pending=null;var D=F,W=D.next;D.next=null,S===null?g=W:S.next=W,S=D;var re=t.alternate;re!==null&&(re=re.updateQueue,F=re.lastBaseUpdate,F!==S&&(F===null?re.firstBaseUpdate=W:F.next=W,re.lastBaseUpdate=D))}if(g!==null){var pe=c.baseState;S=0,re=W=D=null,F=g;do{var J=F.lane,Be=F.eventTime;if((l&J)===J){re!==null&&(re=re.next={eventTime:Be,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Ie=t,Ft=F;switch(J=r,Be=s,Ft.tag){case 1:if(Ie=Ft.payload,typeof Ie=="function"){pe=Ie.call(Be,pe,J);break e}pe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ft.payload,J=typeof Ie=="function"?Ie.call(Be,pe,J):Ie,J==null)break e;pe=u({},pe,J);break e;case 2:Ur=!0}}F.callback!==null&&F.lane!==0&&(t.flags|=64,J=c.effects,J===null?c.effects=[F]:J.push(F))}else Be={eventTime:Be,lane:J,tag:F.tag,payload:F.payload,callback:F.callback,next:null},re===null?(W=re=Be,D=pe):re=re.next=Be,S|=J;if(F=F.next,F===null){if(F=c.shared.pending,F===null)break;J=F,F=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(1);if(re===null&&(D=pe),c.baseState=D,c.firstBaseUpdate=W,c.lastBaseUpdate=re,r=c.shared.interleaved,r!==null){c=r;do S|=c.lane,c=c.next;while(c!==r)}else g===null&&(c.shared.lanes=0);un|=S,t.lanes=S,t.memoizedState=pe}}function ah(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var l=t[r],c=l.callback;if(c!==null){if(l.callback=null,l=s,typeof c!="function")throw Error(h(191,c));c.call(l)}}}var sh=new i.Component().refs;function Vo(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:u({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var va={isMounted:function(t){return(t=t._reactInternals)?z(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var l=wt(),c=Hr(t),g=kr(l,c);g.payload=r,s!=null&&(g.callback=s),r=zr(t,g,c),r!==null&&(Yt(r,t,c,l),ga(r,t,c))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=wt(),c=Hr(t),g=kr(l,c);g.tag=1,g.payload=r,s!=null&&(g.callback=s),r=zr(t,g,c),r!==null&&(Yt(r,t,c,l),ga(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=wt(),l=Hr(t),c=kr(s,l);c.tag=2,r!=null&&(c.callback=r),r=zr(t,c,l),r!==null&&(Yt(r,t,l,s),ga(r,t,l))}};function oh(t,r,s,l,c,g,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,g,S):r.prototype&&r.prototype.isPureReactComponent?!ca(s,l)||!ca(c,g):!0}function lh(t,r,s){var l=!1,c=Gr,g=r.contextType;return typeof g=="object"&&g!==null?g=Ht(g):(c=Rt(r)?nn:yt.current,l=r.contextTypes,g=(l=l!=null)?In(t,c):Gr),r=new r(s,g),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=va,t.stateNode=r,r._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=g),r}function uh(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&va.enqueueReplaceState(r,r.state,null)}function Ho(t,r,s,l){var c=t.stateNode;c.props=s,c.state=t.memoizedState,c.refs=sh,Bo(t);var g=r.contextType;typeof g=="object"&&g!==null?c.context=Ht(g):(g=Rt(r)?nn:yt.current,c.context=In(t,g)),c.state=t.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Vo(t,r,g,s),c.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&va.enqueueReplaceState(c,c.state,null),pa(t,s,c,l),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function Ci(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(h(309));var l=s.stateNode}if(!l)throw Error(h(147,t));var c=l,g=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===g?r.ref:(r=function(S){var F=c.refs;F===sh&&(F=c.refs={}),S===null?delete F[g]:F[g]=S},r._stringRef=g,r)}if(typeof t!="string")throw Error(h(284));if(!s._owner)throw Error(h(290,t))}return t}function ma(t,r){throw t=Object.prototype.toString.call(r),Error(h(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function hh(t){var r=t._init;return r(t._payload)}function ch(t){function r(L,M){if(t){var U=L.deletions;U===null?(L.deletions=[M],L.flags|=16):U.push(M)}}function s(L,M){if(!t)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L,M){for(L=new Map;M!==null;)M.key!==null?L.set(M.key,M):L.set(M.index,M),M=M.sibling;return L}function c(L,M){return L=Wr(L,M),L.index=0,L.sibling=null,L}function g(L,M,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<M?(L.flags|=2,M):U):(L.flags|=2,M)):(L.flags|=1048576,M)}function S(L){return t&&L.alternate===null&&(L.flags|=2),L}function F(L,M,U,Z){return M===null||M.tag!==6?(M=Nl(U,L.mode,Z),M.return=L,M):(M=c(M,U),M.return=L,M)}function D(L,M,U,Z){var oe=U.type;return oe===y?re(L,M,U.props.children,Z,U.key):M!==null&&(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===v&&hh(oe)===M.type)?(Z=c(M,U.props),Z.ref=Ci(L,M,U),Z.return=L,Z):(Z=Ha(U.type,U.key,U.props,null,L.mode,Z),Z.ref=Ci(L,M,U),Z.return=L,Z)}function W(L,M,U,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Al(U,L.mode,Z),M.return=L,M):(M=c(M,U.children||[]),M.return=L,M)}function re(L,M,U,Z,oe){return M===null||M.tag!==7?(M=fn(U,L.mode,Z,oe),M.return=L,M):(M=c(M,U),M.return=L,M)}function pe(L,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Nl(""+M,L.mode,U),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return U=Ha(M.type,M.key,M.props,null,L.mode,U),U.ref=Ci(L,null,M),U.return=L,U;case p:return M=Al(M,L.mode,U),M.return=L,M;case v:var Z=M._init;return pe(L,Z(M._payload),U)}if(ae(M)||b(M))return M=fn(M,L.mode,U,null),M.return=L,M;ma(L,M)}return null}function J(L,M,U,Z){var oe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return oe!==null?null:F(L,M,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case f:return U.key===oe?D(L,M,U,Z):null;case p:return U.key===oe?W(L,M,U,Z):null;case v:return oe=U._init,J(L,M,oe(U._payload),Z)}if(ae(U)||b(U))return oe!==null?null:re(L,M,U,Z,null);ma(L,U)}return null}function Be(L,M,U,Z,oe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return L=L.get(U)||null,F(M,L,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return L=L.get(Z.key===null?U:Z.key)||null,D(M,L,Z,oe);case p:return L=L.get(Z.key===null?U:Z.key)||null,W(M,L,Z,oe);case v:var me=Z._init;return Be(L,M,U,me(Z._payload),oe)}if(ae(Z)||b(Z))return L=L.get(U)||null,re(M,L,Z,oe,null);ma(M,Z)}return null}function Ie(L,M,U,Z){for(var oe=null,me=null,ve=M,Ee=M=0,ct=null;ve!==null&&Ee<U.length;Ee++){ve.index>Ee?(ct=ve,ve=null):ct=ve.sibling;var Te=J(L,ve,U[Ee],Z);if(Te===null){ve===null&&(ve=ct);break}t&&ve&&Te.alternate===null&&r(L,ve),M=g(Te,M,Ee),me===null?oe=Te:me.sibling=Te,me=Te,ve=ct}if(Ee===U.length)return s(L,ve),je&&sn(L,Ee),oe;if(ve===null){for(;Ee<U.length;Ee++)ve=pe(L,U[Ee],Z),ve!==null&&(M=g(ve,M,Ee),me===null?oe=ve:me.sibling=ve,me=ve);return je&&sn(L,Ee),oe}for(ve=l(L,ve);Ee<U.length;Ee++)ct=Be(ve,L,Ee,U[Ee],Z),ct!==null&&(t&&ct.alternate!==null&&ve.delete(ct.key===null?Ee:ct.key),M=g(ct,M,Ee),me===null?oe=ct:me.sibling=ct,me=ct);return t&&ve.forEach(function(Yr){return r(L,Yr)}),je&&sn(L,Ee),oe}function Ft(L,M,U,Z){var oe=b(U);if(typeof oe!="function")throw Error(h(150));if(U=oe.call(U),U==null)throw Error(h(151));for(var me=oe=null,ve=M,Ee=M=0,ct=null,Te=U.next();ve!==null&&!Te.done;Ee++,Te=U.next()){ve.index>Ee?(ct=ve,ve=null):ct=ve.sibling;var Yr=J(L,ve,Te.value,Z);if(Yr===null){ve===null&&(ve=ct);break}t&&ve&&Yr.alternate===null&&r(L,ve),M=g(Yr,M,Ee),me===null?oe=Yr:me.sibling=Yr,me=Yr,ve=ct}if(Te.done)return s(L,ve),je&&sn(L,Ee),oe;if(ve===null){for(;!Te.done;Ee++,Te=U.next())Te=pe(L,Te.value,Z),Te!==null&&(M=g(Te,M,Ee),me===null?oe=Te:me.sibling=Te,me=Te);return je&&sn(L,Ee),oe}for(ve=l(L,ve);!Te.done;Ee++,Te=U.next())Te=Be(ve,L,Ee,Te.value,Z),Te!==null&&(t&&Te.alternate!==null&&ve.delete(Te.key===null?Ee:Te.key),M=g(Te,M,Ee),me===null?oe=Te:me.sibling=Te,me=Te);return t&&ve.forEach(function(hf){return r(L,hf)}),je&&sn(L,Ee),oe}function Rr(L,M,U,Z){if(typeof U=="object"&&U!==null&&U.type===y&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case f:e:{for(var oe=U.key,me=M;me!==null;){if(me.key===oe){if(oe=U.type,oe===y){if(me.tag===7){s(L,me.sibling),M=c(me,U.props.children),M.return=L,L=M;break e}}else if(me.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===v&&hh(oe)===me.type){s(L,me.sibling),M=c(me,U.props),M.ref=Ci(L,me,U),M.return=L,L=M;break e}s(L,me);break}else r(L,me);me=me.sibling}U.type===y?(M=fn(U.props.children,L.mode,Z,U.key),M.return=L,L=M):(Z=Ha(U.type,U.key,U.props,null,L.mode,Z),Z.ref=Ci(L,M,U),Z.return=L,L=Z)}return S(L);case p:e:{for(me=U.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){s(L,M.sibling),M=c(M,U.children||[]),M.return=L,L=M;break e}else{s(L,M);break}else r(L,M);M=M.sibling}M=Al(U,L.mode,Z),M.return=L,L=M}return S(L);case v:return me=U._init,Rr(L,M,me(U._payload),Z)}if(ae(U))return Ie(L,M,U,Z);if(b(U))return Ft(L,M,U,Z);ma(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,M!==null&&M.tag===6?(s(L,M.sibling),M=c(M,U),M.return=L,L=M):(s(L,M),M=Nl(U,L.mode,Z),M.return=L,L=M),S(L)):s(L,M)}return Rr}var Bn=ch(!0),dh=ch(!1),wi={},jt=Dr(wi),xi=Dr(wi),Vn=Dr(wi);function fr(t){if(t===wi)throw Error(h(174));return t}function jo(t,r){Ue(Vn,r),Ue(xi,t),Ue(jt,wi),t=le(r),ze(jt),Ue(jt,t)}function Hn(){ze(jt),ze(xi),ze(Vn)}function fh(t){var r=fr(Vn.current),s=fr(jt.current);r=B(s,t.type,r),s!==r&&(Ue(xi,t),Ue(jt,r))}function Wo(t){xi.current===t&&(ze(jt),ze(xi))}var Ke=Dr(0);function ya(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Vu(s)||_o(s)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Yo=[];function Ko(){for(var t=0;t<Yo.length;t++){var r=Yo[t];ge?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}Yo.length=0}var _a=d.ReactCurrentDispatcher,Xo=d.ReactCurrentBatchConfig,ln=0,Xe=null,nt=null,ut=null,Sa=!1,Pi=!1,ki=0,O1=0;function _t(){throw Error(h(321))}function $o(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!er(t[s],r[s]))return!1;return!0}function qo(t,r,s,l,c,g){if(ln=g,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,_a.current=t===null||t.memoizedState===null?G1:U1,t=s(l,c),Pi){g=0;do{if(Pi=!1,ki=0,25<=g)throw Error(h(301));g+=1,ut=nt=null,r.updateQueue=null,_a.current=z1,t=s(l,c)}while(Pi)}if(_a.current=xa,r=nt!==null&&nt.next!==null,ln=0,ut=nt=Xe=null,Sa=!1,r)throw Error(h(300));return t}function Qo(){var t=ki!==0;return ki=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Xe.memoizedState=ut=t:ut=ut.next=t,ut}function Wt(){if(nt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var r=ut===null?Xe.memoizedState:ut.next;if(r!==null)ut=r,nt=t;else{if(t===null)throw Error(h(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ut===null?Xe.memoizedState=ut=t:ut=ut.next=t}return ut}function Ei(t,r){return typeof r=="function"?r(t):r}function Jo(t){var r=Wt(),s=r.queue;if(s===null)throw Error(h(311));s.lastRenderedReducer=t;var l=nt,c=l.baseQueue,g=s.pending;if(g!==null){if(c!==null){var S=c.next;c.next=g.next,g.next=S}l.baseQueue=c=g,s.pending=null}if(c!==null){g=c.next,l=l.baseState;var F=S=null,D=null,W=g;do{var re=W.lane;if((ln&re)===re)D!==null&&(D=D.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),l=W.hasEagerState?W.eagerState:t(l,W.action);else{var pe={lane:re,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};D===null?(F=D=pe,S=l):D=D.next=pe,Xe.lanes|=re,un|=re}W=W.next}while(W!==null&&W!==g);D===null?S=l:D.next=F,er(l,r.memoizedState)||(bt=!0),r.memoizedState=l,r.baseState=S,r.baseQueue=D,s.lastRenderedState=l}if(t=s.interleaved,t!==null){c=t;do g=c.lane,Xe.lanes|=g,un|=g,c=c.next;while(c!==t)}else c===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Zo(t){var r=Wt(),s=r.queue;if(s===null)throw Error(h(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,g=r.memoizedState;if(c!==null){s.pending=null;var S=c=c.next;do g=t(g,S.action),S=S.next;while(S!==c);er(g,r.memoizedState)||(bt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),s.lastRenderedState=g}return[g,l]}function gh(){}function ph(t,r){var s=Xe,l=Wt(),c=r(),g=!er(l.memoizedState,c);if(g&&(l.memoizedState=c,bt=!0),l=l.queue,el(yh.bind(null,s,l,t),[t]),l.getSnapshot!==r||g||ut!==null&&ut.memoizedState.tag&1){if(s.flags|=2048,Ti(9,mh.bind(null,s,l,c,r),void 0,null),ht===null)throw Error(h(349));ln&30||vh(s,r,c)}return c}function vh(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function mh(t,r,s,l){r.value=s,r.getSnapshot=l,_h(r)&&Sh(t)}function yh(t,r,s){return s(function(){_h(r)&&Sh(t)})}function _h(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!er(t,s)}catch{return!0}}function Sh(t){var r=dr(t,1);r!==null&&Yt(r,t,1,-1)}function Ch(t){var r=gr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},r.queue=t,t=t.dispatch=D1.bind(null,Xe,t),[r.memoizedState,t]}function Ti(t,r,s,l){return t={tag:t,create:r,destroy:s,deps:l,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t)),t}function wh(){return Wt().memoizedState}function Ca(t,r,s,l){var c=gr();Xe.flags|=t,c.memoizedState=Ti(1|r,s,void 0,l===void 0?null:l)}function wa(t,r,s,l){var c=Wt();l=l===void 0?null:l;var g=void 0;if(nt!==null){var S=nt.memoizedState;if(g=S.destroy,l!==null&&$o(l,S.deps)){c.memoizedState=Ti(r,s,g,l);return}}Xe.flags|=t,c.memoizedState=Ti(1|r,s,g,l)}function xh(t,r){return Ca(8390656,8,t,r)}function el(t,r){return wa(2048,8,t,r)}function Ph(t,r){return wa(4,2,t,r)}function kh(t,r){return wa(4,4,t,r)}function Eh(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Th(t,r,s){return s=s!=null?s.concat([t]):null,wa(4,4,Eh.bind(null,r,t),s)}function tl(){}function Rh(t,r){var s=Wt();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&$o(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function bh(t,r){var s=Wt();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&$o(r,l[1])?l[0]:(t=t(),s.memoizedState=[t,r],t)}function Nh(t,r,s){return ln&21?(er(s,r)||(s=Yu(),Xe.lanes|=s,un|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=s)}function I1(t,r){var s=ke;ke=s!==0&&4>s?s:4,t(!0);var l=Xo.transition;Xo.transition={};try{t(!1),r()}finally{ke=s,Xo.transition=l}}function Ah(){return Wt().memoizedState}function L1(t,r,s){var l=Hr(t);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Fh(t))Mh(r,s);else if(s=rh(t,r,s,l),s!==null){var c=wt();Yt(s,t,l,c),Oh(s,r,l)}}function D1(t,r,s){var l=Hr(t),c={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fh(t))Mh(r,c);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var S=r.lastRenderedState,F=g(S,s);if(c.hasEagerState=!0,c.eagerState=F,er(F,S)){var D=r.interleaved;D===null?(c.next=c,zo(r)):(c.next=D.next,D.next=c),r.interleaved=c;return}}catch{}finally{}s=rh(t,r,c,l),s!==null&&(c=wt(),Yt(s,t,l,c),Oh(s,r,l))}}function Fh(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function Mh(t,r){Pi=Sa=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Oh(t,r,s){if(s&4194240){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Eo(t,s)}}var xa={readContext:Ht,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},G1={readContext:Ht,useCallback:function(t,r){return gr().memoizedState=[t,r===void 0?null:r],t},useContext:Ht,useEffect:xh,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,Ca(4194308,4,Eh.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Ca(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ca(4,2,t,r)},useMemo:function(t,r){var s=gr();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var l=gr();return r=s!==void 0?s(r):r,l.memoizedState=l.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=L1.bind(null,Xe,t),[l.memoizedState,t]},useRef:function(t){var r=gr();return t={current:t},r.memoizedState=t},useState:Ch,useDebugValue:tl,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=Ch(!1),r=t[0];return t=I1.bind(null,t[1]),gr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var l=Xe,c=gr();if(je){if(s===void 0)throw Error(h(407));s=s()}else{if(s=r(),ht===null)throw Error(h(349));ln&30||vh(l,r,s)}c.memoizedState=s;var g={value:s,getSnapshot:r};return c.queue=g,xh(yh.bind(null,l,g,t),[t]),l.flags|=2048,Ti(9,mh.bind(null,l,g,s,r),void 0,null),s},useId:function(){var t=gr(),r=ht.identifierPrefix;if(je){var s=Pr,l=xr;s=(l&~(1<<32-Zt(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=ki++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=O1++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},U1={readContext:Ht,useCallback:Rh,useContext:Ht,useEffect:el,useImperativeHandle:Th,useInsertionEffect:Ph,useLayoutEffect:kh,useMemo:bh,useReducer:Jo,useRef:wh,useState:function(){return Jo(Ei)},useDebugValue:tl,useDeferredValue:function(t){var r=Wt();return Nh(r,nt.memoizedState,t)},useTransition:function(){var t=Jo(Ei)[0],r=Wt().memoizedState;return[t,r]},useMutableSource:gh,useSyncExternalStore:ph,useId:Ah,unstable_isNewReconciler:!1},z1={readContext:Ht,useCallback:Rh,useContext:Ht,useEffect:el,useImperativeHandle:Th,useInsertionEffect:Ph,useLayoutEffect:kh,useMemo:bh,useReducer:Zo,useRef:wh,useState:function(){return Zo(Ei)},useDebugValue:tl,useDeferredValue:function(t){var r=Wt();return nt===null?r.memoizedState=t:Nh(r,nt.memoizedState,t)},useTransition:function(){var t=Zo(Ei)[0],r=Wt().memoizedState;return[t,r]},useMutableSource:gh,useSyncExternalStore:ph,useId:Ah,unstable_isNewReconciler:!1};function jn(t,r){try{var s="",l=r;do s+=M1(l),l=l.return;while(l);var c=s}catch(g){c=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:r,stack:c,digest:null}}function rl(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function nl(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var B1=typeof WeakMap=="function"?WeakMap:Map;function Ih(t,r,s){s=kr(-1,s),s.tag=3,s.payload={element:null};var l=r.value;return s.callback=function(){Da||(Da=!0,xl=l),nl(t,r)},s}function Lh(t,r,s){s=kr(-1,s),s.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var c=r.value;s.payload=function(){return l(c)},s.callback=function(){nl(t,r)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(s.callback=function(){nl(t,r),typeof l!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var S=r.stack;this.componentDidCatch(r.value,{componentStack:S!==null?S:""})}),s}function Dh(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new B1;var c=new Set;l.set(r,c)}else c=l.get(r),c===void 0&&(c=new Set,l.set(r,c));c.has(s)||(c.add(s),t=tf.bind(null,t,r,s),r.then(t,t))}function Gh(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Uh(t,r,s,l,c){return t.mode&1?(t.flags|=65536,t.lanes=c,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=kr(-1,1),r.tag=2,zr(s,r,1))),s.lanes|=1),t)}var V1=d.ReactCurrentOwner,bt=!1;function Pt(t,r,s,l){r.child=t===null?dh(r,null,s,l):Bn(r,t.child,s,l)}function zh(t,r,s,l,c){s=s.render;var g=r.ref;return zn(r,c),l=qo(t,r,s,l,g,c),s=Qo(),t!==null&&!bt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,Er(t,r,c)):(je&&s&&Ao(r),r.flags|=1,Pt(t,r,l,c),r.child)}function Bh(t,r,s,l,c){if(t===null){var g=s.type;return typeof g=="function"&&!bl(g)&&g.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=g,Vh(t,r,g,l,c)):(t=Ha(s.type,null,l,r,r.mode,c),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!(t.lanes&c)){var S=g.memoizedProps;if(s=s.compare,s=s!==null?s:ca,s(S,l)&&t.ref===r.ref)return Er(t,r,c)}return r.flags|=1,t=Wr(g,l),t.ref=r.ref,t.return=r,r.child=t}function Vh(t,r,s,l,c){if(t!==null){var g=t.memoizedProps;if(ca(g,l)&&t.ref===r.ref)if(bt=!1,r.pendingProps=l=g,(t.lanes&c)!==0)t.flags&131072&&(bt=!0);else return r.lanes=t.lanes,Er(t,r,c)}return il(t,r,s,l,c)}function Hh(t,r,s){var l=r.pendingProps,c=l.children,g=t!==null?t.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Yn,Lt),Lt|=s;else{if(!(s&1073741824))return t=g!==null?g.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ue(Yn,Lt),Lt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=g!==null?g.baseLanes:s,Ue(Yn,Lt),Lt|=l}else g!==null?(l=g.baseLanes|s,r.memoizedState=null):l=s,Ue(Yn,Lt),Lt|=l;return Pt(t,r,c,s),r.child}function jh(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function il(t,r,s,l,c){var g=Rt(s)?nn:yt.current;return g=In(r,g),zn(r,c),s=qo(t,r,s,l,g,c),l=Qo(),t!==null&&!bt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~c,Er(t,r,c)):(je&&l&&Ao(r),r.flags|=1,Pt(t,r,s,c),r.child)}function Wh(t,r,s,l,c){if(Rt(s)){var g=!0;ra(r)}else g=!1;if(zn(r,c),r.stateNode===null)ka(t,r),lh(r,s,l),Ho(r,s,l,c),l=!0;else if(t===null){var S=r.stateNode,F=r.memoizedProps;S.props=F;var D=S.context,W=s.contextType;typeof W=="object"&&W!==null?W=Ht(W):(W=Rt(s)?nn:yt.current,W=In(r,W));var re=s.getDerivedStateFromProps,pe=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";pe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==l||D!==W)&&uh(r,S,l,W),Ur=!1;var J=r.memoizedState;S.state=J,pa(r,l,S,c),D=r.memoizedState,F!==l||J!==D||Tt.current||Ur?(typeof re=="function"&&(Vo(r,s,re,l),D=r.memoizedState),(F=Ur||oh(r,s,F,l,J,D,W))?(pe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(r.flags|=4194308)):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=D),S.props=l,S.state=D,S.context=W,l=F):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{S=r.stateNode,nh(t,r),F=r.memoizedProps,W=r.type===r.elementType?F:rr(r.type,F),S.props=W,pe=r.pendingProps,J=S.context,D=s.contextType,typeof D=="object"&&D!==null?D=Ht(D):(D=Rt(s)?nn:yt.current,D=In(r,D));var Be=s.getDerivedStateFromProps;(re=typeof Be=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F!==pe||J!==D)&&uh(r,S,l,D),Ur=!1,J=r.memoizedState,S.state=J,pa(r,l,S,c);var Ie=r.memoizedState;F!==pe||J!==Ie||Tt.current||Ur?(typeof Be=="function"&&(Vo(r,s,Be,l),Ie=r.memoizedState),(W=Ur||oh(r,s,W,l,J,Ie,D)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(l,Ie,D),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(l,Ie,D)),typeof S.componentDidUpdate=="function"&&(r.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof S.componentDidUpdate!="function"||F===t.memoizedProps&&J===t.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&J===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Ie),S.props=l,S.state=Ie,S.context=D,l=W):(typeof S.componentDidUpdate!="function"||F===t.memoizedProps&&J===t.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&J===t.memoizedState||(r.flags|=1024),l=!1)}return al(t,r,s,l,g,c)}function al(t,r,s,l,c,g){jh(t,r);var S=(r.flags&128)!==0;if(!l&&!S)return c&&Wu(r,s,!1),Er(t,r,g);l=r.stateNode,V1.current=r;var F=S&&typeof s.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,t!==null&&S?(r.child=Bn(r,t.child,null,g),r.child=Bn(r,null,F,g)):Pt(t,r,F,g),r.memoizedState=l.state,c&&Wu(r,s,!0),r.child}function Yh(t){var r=t.stateNode;r.pendingContext?Hu(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Hu(t,r.context,!1),jo(t,r.containerInfo)}function Kh(t,r,s,l,c){return Gn(),Io(c),r.flags|=256,Pt(t,r,s,l),r.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function ol(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xh(t,r,s){var l=r.pendingProps,c=Ke.current,g=!1,S=(r.flags&128)!==0,F;if((F=S)||(F=t!==null&&t.memoizedState===null?!1:(c&2)!==0),F?(g=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Ue(Ke,c&1),t===null)return Oo(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?_o(t)?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(S=l.children,t=l.fallback,g?(l=r.mode,g=r.child,S={mode:"hidden",children:S},!(l&1)&&g!==null?(g.childLanes=0,g.pendingProps=S):g=ja(S,l,0,null),t=fn(t,l,s,null),g.return=r,t.return=r,g.sibling=t,r.child=g,r.child.memoizedState=ol(s),r.memoizedState=sl,t):ll(r,S));if(c=t.memoizedState,c!==null&&(F=c.dehydrated,F!==null))return H1(t,r,S,l,F,c,s);if(g){g=l.fallback,S=r.mode,c=t.child,F=c.sibling;var D={mode:"hidden",children:l.children};return!(S&1)&&r.child!==c?(l=r.child,l.childLanes=0,l.pendingProps=D,r.deletions=null):(l=Wr(c,D),l.subtreeFlags=c.subtreeFlags&14680064),F!==null?g=Wr(F,g):(g=fn(g,S,s,null),g.flags|=2),g.return=r,l.return=r,l.sibling=g,r.child=l,l=g,g=r.child,S=t.child.memoizedState,S=S===null?ol(s):{baseLanes:S.baseLanes|s,cachePool:null,transitions:S.transitions},g.memoizedState=S,g.childLanes=t.childLanes&~s,r.memoizedState=sl,l}return g=t.child,t=g.sibling,l=Wr(g,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=s),l.return=r,l.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=l,r.memoizedState=null,l}function ll(t,r){return r=ja({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Pa(t,r,s,l){return l!==null&&Io(l),Bn(r,t.child,null,s),t=ll(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function H1(t,r,s,l,c,g,S){if(s)return r.flags&256?(r.flags&=-257,l=rl(Error(h(422))),Pa(t,r,S,l)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(g=l.fallback,c=r.mode,l=ja({mode:"visible",children:l.children},c,0,null),g=fn(g,c,S,null),g.flags|=2,l.return=r,g.return=r,l.sibling=g,r.child=l,r.mode&1&&Bn(r,t.child,null,S),r.child.memoizedState=ol(S),r.memoizedState=sl,g);if(!(r.mode&1))return Pa(t,r,S,null);if(_o(c))return l=r1(c).digest,g=Error(h(419)),l=rl(g,l,void 0),Pa(t,r,S,l);if(s=(S&t.childLanes)!==0,bt||s){if(l=ht,l!==null){switch(S&-S){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(l.suspendedLanes|S)?0:c,c!==0&&c!==g.retryLane&&(g.retryLane=c,dr(t,c),Yt(l,t,c,-1))}return Rl(),l=rl(Error(h(421))),Pa(t,r,S,l)}return Vu(c)?(r.flags|=128,r.child=t.child,r=rf.bind(null,t),n1(c,r),null):(t=g.treeContext,Ge&&(Vt=s1(c),It=r,je=!0,tr=null,Si=!1,t!==null&&(zt[Bt++]=xr,zt[Bt++]=Pr,zt[Bt++]=an,xr=t.id,Pr=t.overflow,an=r)),r=ll(r,l.children),r.flags|=4096,r)}function $h(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Uo(t.return,r,s)}function ul(t,r,s,l,c){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c)}function qh(t,r,s){var l=r.pendingProps,c=l.revealOrder,g=l.tail;if(Pt(t,r,l.children,s),l=Ke.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$h(t,s,r);else if(t.tag===19)$h(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ue(Ke,l),!(r.mode&1))r.memoizedState=null;else switch(c){case"forwards":for(s=r.child,c=null;s!==null;)t=s.alternate,t!==null&&ya(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=r.child,r.child=null):(c=s.sibling,s.sibling=null),ul(r,!1,c,s,g);break;case"backwards":for(s=null,c=r.child,r.child=null;c!==null;){if(t=c.alternate,t!==null&&ya(t)===null){r.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}ul(r,!0,s,null,g);break;case"together":ul(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ka(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Er(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),un|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(h(153));if(r.child!==null){for(t=r.child,s=Wr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Wr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function j1(t,r,s){switch(r.tag){case 3:Yh(r),Gn();break;case 5:fh(r);break;case 1:Rt(r.type)&&ra(r);break;case 4:jo(r,r.stateNode.containerInfo);break;case 10:th(r,r.type._context,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ue(Ke,Ke.current&1),r.flags|=128,null):s&r.child.childLanes?Xh(t,r,s):(Ue(Ke,Ke.current&1),t=Er(t,r,s),t!==null?t.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(l=(s&r.childLanes)!==0,t.flags&128){if(l)return qh(t,r,s);r.flags|=128}var c=r.memoizedState;if(c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ue(Ke,Ke.current),l)break;return null;case 22:case 23:return r.lanes=0,Hh(t,r,s)}return Er(t,r,s)}function pr(t){t.flags|=4}function Qh(t,r){if(t!==null&&t.child===r.child)return!0;if(r.flags&16)return!1;for(t=r.child;t!==null;){if(t.flags&12854||t.subtreeFlags&12854)return!1;t=t.sibling}return!0}var Ri,bi,Ea,Ta;if(fe)Ri=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)$(t,s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},bi=function(){},Ea=function(t,r,s,l,c){if(t=t.memoizedProps,t!==l){var g=r.stateNode,S=fr(jt.current);s=ue(g,s,t,l,c,S),(r.updateQueue=s)&&pr(r)}},Ta=function(t,r,s,l){s!==l&&pr(r)};else if(be){Ri=function(t,r,s,l){for(var c=r.child;c!==null;){if(c.tag===5){var g=c.stateNode;s&&l&&(g=zu(g,c.type,c.memoizedProps,c)),$(t,g)}else if(c.tag===6)g=c.stateNode,s&&l&&(g=Bu(g,c.memoizedProps,c)),$(t,g);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)g=c.child,g!==null&&(g.return=c),Ri(t,c,!0,!0);else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};var Jh=function(t,r,s,l){for(var c=r.child;c!==null;){if(c.tag===5){var g=c.stateNode;s&&l&&(g=zu(g,c.type,c.memoizedProps,c)),Uu(t,g)}else if(c.tag===6)g=c.stateNode,s&&l&&(g=Bu(g,c.memoizedProps,c)),Uu(t,g);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)g=c.child,g!==null&&(g.return=c),Jh(t,c,!0,!0);else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===r)break;for(;c.sibling===null;){if(c.return===null||c.return===r)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};bi=function(t,r){var s=r.stateNode;if(!Qh(t,r)){t=s.containerInfo;var l=Gu(t);Jh(l,r,!1,!1),s.pendingChildren=l,pr(r),Jd(t,l)}},Ea=function(t,r,s,l,c){var g=t.stateNode,S=t.memoizedProps;if((t=Qh(t,r))&&S===l)r.stateNode=g;else{var F=r.stateNode,D=fr(jt.current),W=null;S!==l&&(W=ue(F,s,S,l,c,D)),t&&W===null?r.stateNode=g:(g=Qd(g,W,s,S,l,r,t,F),ce(g,s,l,c,D)&&pr(r),r.stateNode=g,t?pr(r):Ri(g,r,!1,!1))}},Ta=function(t,r,s,l){s!==l?(t=fr(Vn.current),s=fr(jt.current),r.stateNode=Pe(l,t,s,r),pr(r)):r.stateNode=t.stateNode}}else bi=function(){},Ea=function(){},Ta=function(){};function Ni(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&14680064,l|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function W1(t,r,s){var l=r.pendingProps;switch(Fo(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(r),null;case 1:return Rt(r.type)&&ta(),St(r),null;case 3:return s=r.stateNode,Hn(),ze(Tt),ze(yt),Ko(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ha(r)?pr(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,tr!==null&&(El(tr),tr=null))),bi(t,r),St(r),null;case 5:Wo(r),s=fr(Vn.current);var c=r.type;if(t!==null&&r.stateNode!=null)Ea(t,r,c,l,s),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(h(166));return St(r),null}if(t=fr(jt.current),ha(r)){if(!Ge)throw Error(h(175));t=o1(r.stateNode,r.type,r.memoizedProps,s,t,r,!Si),r.updateQueue=t,t!==null&&pr(r)}else{var g=K(c,l,s,t,r);Ri(g,r,!1,!1),r.stateNode=g,ce(g,c,l,s,t)&&pr(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return St(r),null;case 6:if(t&&r.stateNode!=null)Ta(t,r,t.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(h(166));if(t=fr(Vn.current),s=fr(jt.current),ha(r)){if(!Ge)throw Error(h(176));if(t=r.stateNode,s=r.memoizedProps,(l=l1(t,s,r,!Si))&&(c=It,c!==null))switch(c.tag){case 3:v1(c.stateNode.containerInfo,t,s,(c.mode&1)!==0);break;case 5:m1(c.type,c.memoizedProps,c.stateNode,t,s,(c.mode&1)!==0)}l&&pr(r)}else r.stateNode=Pe(l,t,s,r)}return St(r),null;case 13:if(ze(Ke),l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Vt!==null&&r.mode&1&&!(r.flags&128))eh(),Gn(),r.flags|=98560,c=!1;else if(c=ha(r),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(h(318));if(!Ge)throw Error(h(344));if(c=r.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(h(317));u1(c,r)}else Gn(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;St(r),c=!1}else tr!==null&&(El(tr),tr=null),c=!0;if(!c)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(s=l!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(t===null||Ke.current&1?it===0&&(it=3):Rl())),r.updateQueue!==null&&(r.flags|=4),St(r),null);case 4:return Hn(),bi(t,r),t===null&&Fe(r.stateNode.containerInfo),St(r),null;case 10:return Go(r.type._context),St(r),null;case 17:return Rt(r.type)&&ta(),St(r),null;case 19:if(ze(Ke),c=r.memoizedState,c===null)return St(r),null;if(l=(r.flags&128)!==0,g=c.rendering,g===null)if(l)Ni(c,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(g=ya(t),g!==null){for(r.flags|=128,Ni(c,!1),t=g.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),r.subtreeFlags=0,t=s,s=r.child;s!==null;)l=s,c=t,l.flags&=14680066,g=l.alternate,g===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,c=g.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s=s.sibling;return Ue(Ke,Ke.current&1|2),r.child}t=t.sibling}c.tail!==null&&lt()>wl&&(r.flags|=128,l=!0,Ni(c,!1),r.lanes=4194304)}else{if(!l)if(t=ya(g),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),Ni(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!je)return St(r),null}else 2*lt()-c.renderingStartTime>wl&&s!==1073741824&&(r.flags|=128,l=!0,Ni(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(t=c.last,t!==null?t.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=lt(),r.sibling=null,t=Ke.current,Ue(Ke,l?t&1|2:t&1),r):(St(r),null);case 22:case 23:return Tl(),s=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?Lt&1073741824&&(St(r),fe&&r.subtreeFlags&6&&(r.flags|=8192)):St(r),null;case 24:return null;case 25:return null}throw Error(h(156,r.tag))}function Y1(t,r){switch(Fo(r),r.tag){case 1:return Rt(r.type)&&ta(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Hn(),ze(Tt),ze(yt),Ko(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Wo(r),null;case 13:if(ze(Ke),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(h(340));Gn()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ze(Ke),null;case 4:return Hn(),null;case 10:return Go(r.type._context),null;case 22:case 23:return Tl(),null;case 24:return null;default:return null}}var Ra=!1,Ct=!1,K1=typeof WeakSet=="function"?WeakSet:Set,te=null;function Wn(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){We(t,r,l)}else s.current=null}function hl(t,r,s){try{s()}catch(l){We(t,r,l)}}var Zh=!1;function X1(t,r){for(X(t.containerInfo),te=r;te!==null;)if(t=te,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,te=r;else for(;te!==null;){t=te;try{var s=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var l=s.memoizedProps,c=s.memoizedState,g=t.stateNode,S=g.getSnapshotBeforeUpdate(t.elementType===t.type?l:rr(t.type,l),c);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:fe&&qd(t.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(F){We(t,t.return,F)}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}return s=Zh,Zh=!1,s}function Ai(t,r,s){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&t)===t){var g=c.destroy;c.destroy=void 0,g!==void 0&&hl(r,s,g)}c=c.next}while(c!==l)}}function ba(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var l=s.create;s.destroy=l()}s=s.next}while(s!==r)}}function cl(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=ie(s);break;default:t=s}typeof r=="function"?r(t):r.current=t}}function ec(t){var r=t.alternate;r!==null&&(t.alternate=null,ec(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Q(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tc(t){return t.tag===5||t.tag===3||t.tag===4}function rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dl(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?po(s,t,r):Nn(s,t);else if(l!==4&&(t=t.child,t!==null))for(dl(t,r,s),t=t.sibling;t!==null;)dl(t,r,s),t=t.sibling}function fl(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?pi(s,t,r):Jt(s,t);else if(l!==4&&(t=t.child,t!==null))for(fl(t,r,s),t=t.sibling;t!==null;)fl(t,r,s),t=t.sibling}var pt=null,nr=!1;function vr(t,r,s){for(s=s.child;s!==null;)gl(t,r,s),s=s.sibling}function gl(t,r,s){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(sa,s)}catch{}switch(s.tag){case 5:Ct||Wn(s,r);case 6:if(fe){var l=pt,c=nr;pt=null,vr(t,r,s),pt=l,nr=c,pt!==null&&(nr?Mn(pt,s.stateNode):vo(pt,s.stateNode))}else vr(t,r,s);break;case 18:fe&&pt!==null&&(nr?g1(pt,s.stateNode):f1(pt,s.stateNode));break;case 4:fe?(l=pt,c=nr,pt=s.stateNode.containerInfo,nr=!0,vr(t,r,s),pt=l,nr=c):(be&&(l=s.stateNode.containerInfo,c=Gu(l),yo(l,c)),vr(t,r,s));break;case 0:case 11:case 14:case 15:if(!Ct&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){c=l=l.next;do{var g=c,S=g.destroy;g=g.tag,S!==void 0&&(g&2||g&4)&&hl(s,r,S),c=c.next}while(c!==l)}vr(t,r,s);break;case 1:if(!Ct&&(Wn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(F){We(s,r,F)}vr(t,r,s);break;case 21:vr(t,r,s);break;case 22:s.mode&1?(Ct=(l=Ct)||s.memoizedState!==null,vr(t,r,s),Ct=l):vr(t,r,s);break;default:vr(t,r,s)}}function nc(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new K1),r.forEach(function(l){var c=nf.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}}function ir(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];try{var g=t,S=r;if(fe){var F=S;e:for(;F!==null;){switch(F.tag){case 5:pt=F.stateNode,nr=!1;break e;case 3:pt=F.stateNode.containerInfo,nr=!0;break e;case 4:pt=F.stateNode.containerInfo,nr=!0;break e}F=F.return}if(pt===null)throw Error(h(160));gl(g,S,c),pt=null,nr=!1}else gl(g,S,c);var D=c.alternate;D!==null&&(D.return=null),c.return=null}catch(W){We(c,r,W)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ic(r,t),r=r.sibling}function ic(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(r,t),mr(t),l&4){try{Ai(3,t,t.return),ba(3,t)}catch(J){We(t,t.return,J)}try{Ai(5,t,t.return)}catch(J){We(t,t.return,J)}}break;case 1:ir(r,t),mr(t),l&512&&s!==null&&Wn(s,s.return);break;case 5:if(ir(r,t),mr(t),l&512&&s!==null&&Wn(s,s.return),fe){if(t.flags&32){var c=t.stateNode;try{vi(c)}catch(J){We(t,t.return,J)}}if(l&4&&(c=t.stateNode,c!=null)){var g=t.memoizedProps;if(s=s!==null?s.memoizedProps:g,l=t.type,r=t.updateQueue,t.updateQueue=null,r!==null)try{Fn(c,r,l,s,g,t)}catch(J){We(t,t.return,J)}}}break;case 6:if(ir(r,t),mr(t),l&4&&fe){if(t.stateNode===null)throw Error(h(162));c=t.stateNode,g=t.memoizedProps,s=s!==null?s.memoizedProps:g;try{rn(c,s,g)}catch(J){We(t,t.return,J)}}break;case 3:if(ir(r,t),mr(t),l&4){if(fe&&Ge&&s!==null&&s.memoizedState.isDehydrated)try{c1(r.containerInfo)}catch(J){We(t,t.return,J)}if(be){c=r.containerInfo,g=r.pendingChildren;try{yo(c,g)}catch(J){We(t,t.return,J)}}}break;case 4:if(ir(r,t),mr(t),l&4&&be){g=t.stateNode,c=g.containerInfo,g=g.pendingChildren;try{yo(c,g)}catch(J){We(t,t.return,J)}}break;case 13:ir(r,t),mr(t),c=t.child,c.flags&8192&&(g=c.memoizedState!==null,c.stateNode.isHidden=g,!g||c.alternate!==null&&c.alternate.memoizedState!==null||(Cl=lt())),l&4&&nc(t);break;case 22:var S=s!==null&&s.memoizedState!==null;if(t.mode&1?(Ct=(s=Ct)||S,ir(r,t),Ct=s):ir(r,t),mr(t),l&8192){if(s=t.memoizedState!==null,(t.stateNode.isHidden=s)&&!S&&t.mode&1)for(te=t,l=t.child;l!==null;){for(r=te=l;te!==null;){S=te;var F=S.child;switch(S.tag){case 0:case 11:case 14:case 15:Ai(4,S,S.return);break;case 1:Wn(S,S.return);var D=S.stateNode;if(typeof D.componentWillUnmount=="function"){var W=S,re=S.return;try{var pe=W;D.props=pe.memoizedProps,D.state=pe.memoizedState,D.componentWillUnmount()}catch(J){We(W,re,J)}}break;case 5:Wn(S,S.return);break;case 22:if(S.memoizedState!==null){oc(r);continue}}F!==null?(F.return=S,te=F):oc(r)}l=l.sibling}if(fe){e:if(l=null,fe)for(r=t;;){if(r.tag===5){if(l===null){l=r;try{c=r.stateNode,s?mo(c):Xd(r.stateNode,r.memoizedProps)}catch(J){We(t,t.return,J)}}}else if(r.tag===6){if(l===null)try{g=r.stateNode,s?Zi(g):$d(g,r.memoizedProps)}catch(J){We(t,t.return,J)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}}}break;case 19:ir(r,t),mr(t),l&4&&nc(t);break;case 21:break;default:ir(r,t),mr(t)}}function mr(t){var r=t.flags;if(r&2){try{if(fe){e:{for(var s=t.return;s!==null;){if(tc(s)){var l=s;break e}s=s.return}throw Error(h(160))}switch(l.tag){case 5:var c=l.stateNode;l.flags&32&&(vi(c),l.flags&=-33);var g=rc(t);fl(t,g,c);break;case 3:case 4:var S=l.stateNode.containerInfo,F=rc(t);dl(t,F,S);break;default:throw Error(h(161))}}}catch(D){We(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function $1(t,r,s){te=t,ac(t)}function ac(t,r,s){for(var l=(t.mode&1)!==0;te!==null;){var c=te,g=c.child;if(c.tag===22&&l){var S=c.memoizedState!==null||Ra;if(!S){var F=c.alternate,D=F!==null&&F.memoizedState!==null||Ct;F=Ra;var W=Ct;if(Ra=S,(Ct=D)&&!W)for(te=c;te!==null;)S=te,D=S.child,S.tag===22&&S.memoizedState!==null?lc(c):D!==null?(D.return=S,te=D):lc(c);for(;g!==null;)te=g,ac(g),g=g.sibling;te=c,Ra=F,Ct=W}sc(t)}else c.subtreeFlags&8772&&g!==null?(g.return=c,te=g):sc(t)}}function sc(t){for(;te!==null;){var r=te;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ct||ba(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Ct)if(s===null)l.componentDidMount();else{var c=r.elementType===r.type?s.memoizedProps:rr(r.type,s.memoizedProps);l.componentDidUpdate(c,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var g=r.updateQueue;g!==null&&ah(r,g,l);break;case 3:var S=r.updateQueue;if(S!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=ie(r.child.stateNode);break;case 1:s=r.child.stateNode}ah(r,S,s)}break;case 5:var F=r.stateNode;s===null&&r.flags&4&&An(F,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(Ge&&r.memoizedState===null){var D=r.alternate;if(D!==null){var W=D.memoizedState;if(W!==null){var re=W.dehydrated;re!==null&&d1(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}Ct||r.flags&512&&cl(r)}catch(pe){We(r,r.return,pe)}}if(r===t){te=null;break}if(s=r.sibling,s!==null){s.return=r.return,te=s;break}te=r.return}}function oc(t){for(;te!==null;){var r=te;if(r===t){te=null;break}var s=r.sibling;if(s!==null){s.return=r.return,te=s;break}te=r.return}}function lc(t){for(;te!==null;){var r=te;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{ba(4,r)}catch(D){We(r,s,D)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var c=r.return;try{l.componentDidMount()}catch(D){We(r,c,D)}}var g=r.return;try{cl(r)}catch(D){We(r,g,D)}break;case 5:var S=r.return;try{cl(r)}catch(D){We(r,S,D)}}}catch(D){We(r,r.return,D)}if(r===t){te=null;break}var F=r.sibling;if(F!==null){F.return=r.return,te=F;break}te=r.return}}var Na=0,Aa=1,Fa=2,Ma=3,Oa=4;if(typeof Symbol=="function"&&Symbol.for){var Fi=Symbol.for;Na=Fi("selector.component"),Aa=Fi("selector.has_pseudo_class"),Fa=Fi("selector.role"),Ma=Fi("selector.test_id"),Oa=Fi("selector.text")}function pl(t){var r=Et(t);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(h(364));return r}if(t=xt(t),t===null)throw Error(h(362));return t.stateNode.current}function vl(t,r){switch(r.$$typeof){case Na:if(t.type===r.value)return!0;break;case Aa:e:{r=r.value,t=[t,0];for(var s=0;s<t.length;){var l=t[s++],c=t[s++],g=r[c];if(l.tag!==5||!Ut(l)){for(;g!=null&&vl(l,g);)c++,g=r[c];if(c===r.length){r=!0;break e}else for(l=l.child;l!==null;)t.push(l,c),l=l.sibling}}r=!1}return r;case Fa:if(t.tag===5&&ur(t.stateNode,r.value))return!0;break;case Oa:if((t.tag===5||t.tag===6)&&(t=Gt(t),t!==null&&0<=t.indexOf(r.value)))return!0;break;case Ma:if(t.tag===5&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(h(365))}return!1}function ml(t){switch(t.$$typeof){case Na:return"<"+(I(t.value)||"Unknown")+">";case Aa:return":has("+(ml(t)||"")+")";case Fa:return'[role="'+t.value+'"]';case Oa:return'"'+t.value+'"';case Ma:return'[data-testname="'+t.value+'"]';default:throw Error(h(365))}}function uc(t,r){var s=[];t=[t,0];for(var l=0;l<t.length;){var c=t[l++],g=t[l++],S=r[g];if(c.tag!==5||!Ut(c)){for(;S!=null&&vl(c,S);)g++,S=r[g];if(g===r.length)s.push(c);else for(c=c.child;c!==null;)t.push(c,g),c=c.sibling}}return s}function yl(t,r){if(!xe)throw Error(h(363));t=pl(t),t=uc(t,r),r=[],t=Array.from(t);for(var s=0;s<t.length;){var l=t[s++];if(l.tag===5)Ut(l)||r.push(l.stateNode);else for(l=l.child;l!==null;)t.push(l),l=l.sibling}return r}var q1=Math.ceil,Ia=d.ReactCurrentDispatcher,_l=d.ReactCurrentOwner,Qe=d.ReactCurrentBatchConfig,Ce=0,ht=null,et=null,vt=0,Lt=0,Yn=Dr(0),it=0,Mi=null,un=0,La=0,Sl=0,Oi=null,Nt=null,Cl=0,wl=1/0,Tr=null;function Kn(){wl=lt()+500}var Da=!1,xl=null,Br=null,Ga=!1,Vr=null,Ua=0,Ii=0,Pl=null,za=-1,Ba=0;function wt(){return Ce&6?lt():za!==-1?za:za=lt()}function Hr(t){return t.mode&1?Ce&2&&vt!==0?vt&-vt:F1.transition!==null?(Ba===0&&(Ba=Yu()),Ba):(t=ke,t!==0?t:Qt()):1}function Yt(t,r,s,l){if(50<Ii)throw Ii=0,Pl=null,Error(h(185));_i(t,s,l),(!(Ce&2)||t!==ht)&&(t===ht&&(!(Ce&2)&&(La|=s),it===4&&jr(t,vt)),At(t,l),s===1&&Ce===0&&!(r.mode&1)&&(Kn(),oa&&cr()))}function At(t,r){var s=t.callbackNode;x1(t,r);var l=aa(t,t===ht?vt:0);if(l===0)s!==null&&Xu(s),t.callbackNode=null,t.callbackPriority=0;else if(r=l&-l,t.callbackPriority!==r){if(s!=null&&Xu(s),r===1)t.tag===0?A1(cc.bind(null,t)):$u(cc.bind(null,t)),he?Ne(function(){!(Ce&6)&&cr()}):To(Ro,cr),s=null;else{switch(Ku(l)){case 1:s=Ro;break;case 4:s=T1;break;case 16:s=bo;break;case 536870912:s=R1;break;default:s=bo}s=Sc(s,hc.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function hc(t,r){if(za=-1,Ba=0,Ce&6)throw Error(h(327));var s=t.callbackNode;if(dn()&&t.callbackNode!==s)return null;var l=aa(t,t===ht?vt:0);if(l===0)return null;if(l&30||l&t.expiredLanes||r)r=Va(t,l);else{r=l;var c=Ce;Ce|=2;var g=gc();(ht!==t||vt!==r)&&(Tr=null,Kn(),hn(t,r));do try{Z1();break}catch(F){fc(t,F)}while(1);Do(),Ia.current=g,Ce=c,et!==null?r=0:(ht=null,vt=0,r=it)}if(r!==0){if(r===2&&(c=Po(t),c!==0&&(l=c,r=kl(t,c))),r===1)throw s=Mi,hn(t,0),jr(t,l),At(t,lt()),s;if(r===6)jr(t,l);else{if(c=t.current.alternate,!(l&30)&&!Q1(c)&&(r=Va(t,l),r===2&&(g=Po(t),g!==0&&(l=g,r=kl(t,g))),r===1))throw s=Mi,hn(t,0),jr(t,l),At(t,lt()),s;switch(t.finishedWork=c,t.finishedLanes=l,r){case 0:case 1:throw Error(h(345));case 2:cn(t,Nt,Tr);break;case 3:if(jr(t,l),(l&130023424)===l&&(r=Cl+500-lt(),10<r)){if(aa(t,0)!==0)break;if(c=t.suspendedLanes,(c&l)!==l){wt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=A(cn.bind(null,t,Nt,Tr),r);break}cn(t,Nt,Tr);break;case 4:if(jr(t,l),(l&4194240)===l)break;for(r=t.eventTimes,c=-1;0<l;){var S=31-Zt(l);g=1<<S,S=r[S],S>c&&(c=S),l&=~g}if(l=c,l=lt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*q1(l/1960))-l,10<l){t.timeoutHandle=A(cn.bind(null,t,Nt,Tr),l);break}cn(t,Nt,Tr);break;case 5:cn(t,Nt,Tr);break;default:throw Error(h(329))}}}return At(t,lt()),t.callbackNode===s?hc.bind(null,t):null}function kl(t,r){var s=Oi;return t.current.memoizedState.isDehydrated&&(hn(t,r).flags|=256),t=Va(t,r),t!==2&&(r=Nt,Nt=s,r!==null&&El(r)),t}function El(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function Q1(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var c=s[l],g=c.getSnapshot;c=c.value;try{if(!er(g(),c))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(t,r){for(r&=~Sl,r&=~La,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-Zt(r),l=1<<s;t[s]=-1,r&=~l}}function cc(t){if(Ce&6)throw Error(h(327));dn();var r=aa(t,0);if(!(r&1))return At(t,lt()),null;var s=Va(t,r);if(t.tag!==0&&s===2){var l=Po(t);l!==0&&(r=l,s=kl(t,l))}if(s===1)throw s=Mi,hn(t,0),jr(t,r),At(t,lt()),s;if(s===6)throw Error(h(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,cn(t,Nt,Tr),At(t,lt()),null}function dc(t){Vr!==null&&Vr.tag===0&&!(Ce&6)&&dn();var r=Ce;Ce|=1;var s=Qe.transition,l=ke;try{if(Qe.transition=null,ke=1,t)return t()}finally{ke=l,Qe.transition=s,Ce=r,!(Ce&6)&&cr()}}function Tl(){Lt=Yn.current,ze(Yn)}function hn(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==ee&&(t.timeoutHandle=ee,j(s)),et!==null)for(s=et.return;s!==null;){var l=s;switch(Fo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&ta();break;case 3:Hn(),ze(Tt),ze(yt),Ko();break;case 5:Wo(l);break;case 4:Hn();break;case 13:ze(Ke);break;case 19:ze(Ke);break;case 10:Go(l.type._context);break;case 22:case 23:Tl()}s=s.return}if(ht=t,et=t=Wr(t.current,null),vt=Lt=r,it=0,Mi=null,Sl=La=un=0,Nt=Oi=null,on!==null){for(r=0;r<on.length;r++)if(s=on[r],l=s.interleaved,l!==null){s.interleaved=null;var c=l.next,g=s.pending;if(g!==null){var S=g.next;g.next=c,l.next=S}s.pending=l}on=null}return t}function fc(t,r){do{var s=et;try{if(Do(),_a.current=xa,Sa){for(var l=Xe.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Sa=!1}if(ln=0,ut=nt=Xe=null,Pi=!1,ki=0,_l.current=null,s===null||s.return===null){it=1,Mi=r,et=null;break}e:{var g=t,S=s.return,F=s,D=r;if(r=vt,F.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D,re=F,pe=re.tag;if(!(re.mode&1)&&(pe===0||pe===11||pe===15)){var J=re.alternate;J?(re.updateQueue=J.updateQueue,re.memoizedState=J.memoizedState,re.lanes=J.lanes):(re.updateQueue=null,re.memoizedState=null)}var Be=Gh(S);if(Be!==null){Be.flags&=-257,Uh(Be,S,F,g,r),Be.mode&1&&Dh(g,W,r),r=Be,D=W;var Ie=r.updateQueue;if(Ie===null){var Ft=new Set;Ft.add(D),r.updateQueue=Ft}else Ie.add(D);break e}else{if(!(r&1)){Dh(g,W,r),Rl();break e}D=Error(h(426))}}else if(je&&F.mode&1){var Rr=Gh(S);if(Rr!==null){!(Rr.flags&65536)&&(Rr.flags|=256),Uh(Rr,S,F,g,r),Io(jn(D,F));break e}}g=D=jn(D,F),it!==4&&(it=2),Oi===null?Oi=[g]:Oi.push(g),g=S;do{switch(g.tag){case 3:g.flags|=65536,r&=-r,g.lanes|=r;var L=Ih(g,D,r);ih(g,L);break e;case 1:F=D;var M=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof M.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Br===null||!Br.has(U)))){g.flags|=65536,r&=-r,g.lanes|=r;var Z=Lh(g,F,r);ih(g,Z);break e}}g=g.return}while(g!==null)}vc(s)}catch(oe){r=oe,et===s&&s!==null&&(et=s=s.return);continue}break}while(1)}function gc(){var t=Ia.current;return Ia.current=xa,t===null?xa:t}function Rl(){(it===0||it===3||it===2)&&(it=4),ht===null||!(un&268435455)&&!(La&268435455)||jr(ht,vt)}function Va(t,r){var s=Ce;Ce|=2;var l=gc();(ht!==t||vt!==r)&&(Tr=null,hn(t,r));do try{J1();break}catch(c){fc(t,c)}while(1);if(Do(),Ce=s,Ia.current=l,et!==null)throw Error(h(261));return ht=null,vt=0,it}function J1(){for(;et!==null;)pc(et)}function Z1(){for(;et!==null&&!k1();)pc(et)}function pc(t){var r=_c(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,r===null?vc(t):et=r,_l.current=null}function vc(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=Y1(s,r),s!==null){s.flags&=32767,et=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,et=null;return}}else if(s=W1(s,r,Lt),s!==null){et=s;return}if(r=r.sibling,r!==null){et=r;return}et=r=t}while(r!==null);it===0&&(it=5)}function cn(t,r,s){var l=ke,c=Qe.transition;try{Qe.transition=null,ke=1,ef(t,r,s,l)}finally{Qe.transition=c,ke=l}return null}function ef(t,r,s,l){do dn();while(Vr!==null);if(Ce&6)throw Error(h(327));s=t.finishedWork;var c=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(h(177));t.callbackNode=null,t.callbackPriority=0;var g=s.lanes|s.childLanes;if(P1(t,g),t===ht&&(et=ht=null,vt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Ga||(Ga=!0,Sc(bo,function(){return dn(),null})),g=(s.flags&15990)!==0,s.subtreeFlags&15990||g){g=Qe.transition,Qe.transition=null;var S=ke;ke=1;var F=Ce;Ce|=4,_l.current=null,X1(t,s),ic(s,t),V(t.containerInfo),t.current=s,$1(s),E1(),Ce=F,ke=S,Qe.transition=g}else t.current=s;if(Ga&&(Ga=!1,Vr=t,Ua=c),g=t.pendingLanes,g===0&&(Br=null),b1(s.stateNode),At(t,lt()),r!==null)for(l=t.onRecoverableError,s=0;s<r.length;s++)c=r[s],l(c.value,{componentStack:c.stack,digest:c.digest});if(Da)throw Da=!1,t=xl,xl=null,t;return Ua&1&&t.tag!==0&&dn(),g=t.pendingLanes,g&1?t===Pl?Ii++:(Ii=0,Pl=t):Ii=0,cr(),null}function dn(){if(Vr!==null){var t=Ku(Ua),r=Qe.transition,s=ke;try{if(Qe.transition=null,ke=16>t?16:t,Vr===null)var l=!1;else{if(t=Vr,Vr=null,Ua=0,Ce&6)throw Error(h(331));var c=Ce;for(Ce|=4,te=t.current;te!==null;){var g=te,S=g.child;if(te.flags&16){var F=g.deletions;if(F!==null){for(var D=0;D<F.length;D++){var W=F[D];for(te=W;te!==null;){var re=te;switch(re.tag){case 0:case 11:case 15:Ai(8,re,g)}var pe=re.child;if(pe!==null)pe.return=re,te=pe;else for(;te!==null;){re=te;var J=re.sibling,Be=re.return;if(ec(re),re===W){te=null;break}if(J!==null){J.return=Be,te=J;break}te=Be}}}var Ie=g.alternate;if(Ie!==null){var Ft=Ie.child;if(Ft!==null){Ie.child=null;do{var Rr=Ft.sibling;Ft.sibling=null,Ft=Rr}while(Ft!==null)}}te=g}}if(g.subtreeFlags&2064&&S!==null)S.return=g,te=S;else e:for(;te!==null;){if(g=te,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ai(9,g,g.return)}var L=g.sibling;if(L!==null){L.return=g.return,te=L;break e}te=g.return}}var M=t.current;for(te=M;te!==null;){S=te;var U=S.child;if(S.subtreeFlags&2064&&U!==null)U.return=S,te=U;else e:for(S=M;te!==null;){if(F=te,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:ba(9,F)}}catch(oe){We(F,F.return,oe)}if(F===S){te=null;break e}var Z=F.sibling;if(Z!==null){Z.return=F.return,te=Z;break e}te=F.return}}if(Ce=c,cr(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(sa,t)}catch{}l=!0}return l}finally{ke=s,Qe.transition=r}}return!1}function mc(t,r,s){r=jn(s,r),r=Ih(t,r,1),t=zr(t,r,1),r=wt(),t!==null&&(_i(t,1,r),At(t,r))}function We(t,r,s){if(t.tag===3)mc(t,t,s);else for(;r!==null;){if(r.tag===3){mc(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=jn(s,t),t=Lh(r,t,1),r=zr(r,t,1),t=wt(),r!==null&&(_i(r,1,t),At(r,t));break}}r=r.return}}function tf(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),r=wt(),t.pingedLanes|=t.suspendedLanes&s,ht===t&&(vt&s)===s&&(it===4||it===3&&(vt&130023424)===vt&&500>lt()-Cl?hn(t,0):Sl|=s),At(t,r)}function yc(t,r){r===0&&(t.mode&1?(r=ia,ia<<=1,!(ia&130023424)&&(ia=4194304)):r=1);var s=wt();t=dr(t,r),t!==null&&(_i(t,r,s),At(t,s))}function rf(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),yc(t,s)}function nf(t,r){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(h(314))}l!==null&&l.delete(r),yc(t,s)}var _c;_c=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||Tt.current)bt=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return bt=!1,j1(t,r,s);bt=!!(t.flags&131072)}else bt=!1,je&&r.flags&1048576&&qu(r,ua,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;ka(t,r),t=r.pendingProps;var c=In(r,yt.current);zn(r,s),c=qo(null,r,l,t,c,s);var g=Qo();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Rt(l)?(g=!0,ra(r)):g=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Bo(r),c.updater=va,r.stateNode=c,c._reactInternals=r,Ho(r,l,t,s),r=al(null,r,l,!0,g,s)):(r.tag=0,je&&g&&Ao(r),Pt(null,r,c,s),r=r.child),r;case 16:l=r.elementType;e:{switch(ka(t,r),t=r.pendingProps,c=l._init,l=c(l._payload),r.type=l,c=r.tag=sf(l),t=rr(l,t),c){case 0:r=il(null,r,l,t,s);break e;case 1:r=Wh(null,r,l,t,s);break e;case 11:r=zh(null,r,l,t,s);break e;case 14:r=Bh(null,r,l,rr(l.type,t),s);break e}throw Error(h(306,l,""))}return r;case 0:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:rr(l,c),il(t,r,l,c,s);case 1:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:rr(l,c),Wh(t,r,l,c,s);case 3:e:{if(Yh(r),t===null)throw Error(h(387));l=r.pendingProps,g=r.memoizedState,c=g.element,nh(t,r),pa(r,l,null,s);var S=r.memoizedState;if(l=S.element,Ge&&g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){c=jn(Error(h(423)),r),r=Kh(t,r,l,s,c);break e}else if(l!==c){c=jn(Error(h(424)),r),r=Kh(t,r,l,s,c);break e}else for(Ge&&(Vt=a1(r.stateNode.containerInfo),It=r,je=!0,tr=null,Si=!1),s=dh(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Gn(),l===c){r=Er(t,r,s);break e}Pt(t,r,l,s)}r=r.child}return r;case 5:return fh(r),t===null&&Oo(r),l=r.type,c=r.pendingProps,g=t!==null?t.memoizedProps:null,S=c.children,De(l,c)?S=null:g!==null&&De(l,g)&&(r.flags|=32),jh(t,r),Pt(t,r,S,s),r.child;case 6:return t===null&&Oo(r),null;case 13:return Xh(t,r,s);case 4:return jo(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Bn(r,null,l,s):Pt(t,r,l,s),r.child;case 11:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:rr(l,c),zh(t,r,l,c,s);case 7:return Pt(t,r,r.pendingProps,s),r.child;case 8:return Pt(t,r,r.pendingProps.children,s),r.child;case 12:return Pt(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(l=r.type._context,c=r.pendingProps,g=r.memoizedProps,S=c.value,th(r,l,S),g!==null)if(er(g.value,S)){if(g.children===c.children&&!Tt.current){r=Er(t,r,s);break e}}else for(g=r.child,g!==null&&(g.return=r);g!==null;){var F=g.dependencies;if(F!==null){S=g.child;for(var D=F.firstContext;D!==null;){if(D.context===l){if(g.tag===1){D=kr(-1,s&-s),D.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var re=W.pending;re===null?D.next=D:(D.next=re.next,re.next=D),W.pending=D}}g.lanes|=s,D=g.alternate,D!==null&&(D.lanes|=s),Uo(g.return,s,r),F.lanes|=s;break}D=D.next}}else if(g.tag===10)S=g.type===r.type?null:g.child;else if(g.tag===18){if(S=g.return,S===null)throw Error(h(341));S.lanes|=s,F=S.alternate,F!==null&&(F.lanes|=s),Uo(S,s,r),S=g.sibling}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===r){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}Pt(t,r,c.children,s),r=r.child}return r;case 9:return c=r.type,l=r.pendingProps.children,zn(r,s),c=Ht(c),l=l(c),r.flags|=1,Pt(t,r,l,s),r.child;case 14:return l=r.type,c=rr(l,r.pendingProps),c=rr(l.type,c),Bh(t,r,l,c,s);case 15:return Vh(t,r,r.type,r.pendingProps,s);case 17:return l=r.type,c=r.pendingProps,c=r.elementType===l?c:rr(l,c),ka(t,r),r.tag=1,Rt(l)?(t=!0,ra(r)):t=!1,zn(r,s),lh(r,l,c),Ho(r,l,c,s),al(null,r,l,!0,t,s);case 19:return qh(t,r,s);case 22:return Hh(t,r,s)}throw Error(h(156,r.tag))};function Sc(t,r){return To(t,r)}function af(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,r,s,l){return new af(t,r,s,l)}function bl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sf(t){if(typeof t=="function")return bl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P)return 11;if(t===N)return 14}return 2}function Wr(t,r){var s=t.alternate;return s===null?(s=Kt(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Ha(t,r,s,l,c,g){var S=2;if(l=t,typeof t=="function")bl(t)&&(S=1);else if(typeof t=="string")S=5;else e:switch(t){case y:return fn(s.children,c,g,r);case C:S=8,c|=8;break;case x:return t=Kt(12,s,r,c|2),t.elementType=x,t.lanes=g,t;case E:return t=Kt(13,s,r,c),t.elementType=E,t.lanes=g,t;case R:return t=Kt(19,s,r,c),t.elementType=R,t.lanes=g,t;case w:return ja(s,c,g,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:S=10;break e;case m:S=9;break e;case P:S=11;break e;case N:S=14;break e;case v:S=16,l=null;break e}throw Error(h(130,t==null?t:typeof t,""))}return r=Kt(S,s,r,c),r.elementType=t,r.type=l,r.lanes=g,r}function fn(t,r,s,l){return t=Kt(7,t,l,r),t.lanes=s,t}function ja(t,r,s,l){return t=Kt(22,t,l,r),t.elementType=w,t.lanes=s,t.stateNode={isHidden:!1},t}function Nl(t,r,s){return t=Kt(6,t,null,r),t.lanes=s,t}function Al(t,r,s){return r=Kt(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function of(t,r,s,l,c){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ee,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=l,this.onRecoverableError=c,Ge&&(this.mutableSourceEagerHydrationData=null)}function Cc(t,r,s,l,c,g,S,F,D){return t=new of(t,r,s,F,D),r===1?(r=1,g===!0&&(r|=8)):r=0,g=Kt(3,null,null,r),t.current=g,g.stateNode=t,g.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bo(g),t}function wc(t){if(!t)return Gr;t=t._reactInternals;e:{if(z(t)!==t||t.tag!==1)throw Error(h(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Rt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(h(171))}if(t.tag===1){var s=t.type;if(Rt(s))return ju(t,s,r)}return r}function xc(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(h(188)):(t=Object.keys(t).join(","),Error(h(268,t)));return t=Y(r),t===null?null:t.stateNode}function Pc(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Wa(t,r){Pc(t,r),(t=t.alternate)&&Pc(t,r)}function lf(t){return t=Y(t),t===null?null:t.stateNode}function uf(){return null}return n.attemptContinuousHydration=function(t){if(t.tag===13){var r=dr(t,134217728);if(r!==null){var s=wt();Yt(r,t,134217728,s)}Wa(t,134217728)}},n.attemptDiscreteHydration=function(t){if(t.tag===13){var r=dr(t,1);if(r!==null){var s=wt();Yt(r,t,1,s)}Wa(t,1)}},n.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var r=Hr(t),s=dr(t,r);if(s!==null){var l=wt();Yt(s,t,r,l)}Wa(t,r)}},n.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=yi(r.pendingLanes);s!==0&&(Eo(r,s|1),At(r,lt()),!(Ce&6)&&(Kn(),cr()))}break;case 13:dc(function(){var l=dr(t,1);if(l!==null){var c=wt();Yt(l,t,1,c)}}),Wa(t,1)}},n.batchedUpdates=function(t,r){var s=Ce;Ce|=1;try{return t(r)}finally{Ce=s,Ce===0&&(Kn(),oa&&cr())}},n.createComponentSelector=function(t){return{$$typeof:Na,value:t}},n.createContainer=function(t,r,s,l,c,g,S){return Cc(t,r,!1,null,s,l,c,g,S)},n.createHasPseudoClassSelector=function(t){return{$$typeof:Aa,value:t}},n.createHydrationContainer=function(t,r,s,l,c,g,S,F,D){return t=Cc(s,l,!0,t,c,g,S,F,D),t.context=wc(null),s=t.current,l=wt(),c=Hr(s),g=kr(l,c),g.callback=r??null,zr(s,g,c),t.current.lanes=c,_i(t,c,l),At(t,l),t},n.createPortal=function(t,r,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:l==null?null:""+l,children:t,containerInfo:r,implementation:s}},n.createRoleSelector=function(t){return{$$typeof:Fa,value:t}},n.createTestNameSelector=function(t){return{$$typeof:Ma,value:t}},n.createTextSelector=function(t){return{$$typeof:Oa,value:t}},n.deferredUpdates=function(t){var r=ke,s=Qe.transition;try{return Qe.transition=null,ke=16,t()}finally{ke=r,Qe.transition=s}},n.discreteUpdates=function(t,r,s,l,c){var g=ke,S=Qe.transition;try{return Qe.transition=null,ke=1,t(r,s,l,c)}finally{ke=g,Qe.transition=S,Ce===0&&Kn()}},n.findAllNodes=yl,n.findBoundingRects=function(t,r){if(!xe)throw Error(h(363));r=yl(t,r),t=[];for(var s=0;s<r.length;s++)t.push(ot(r[s]));for(r=t.length-1;0<r;r--){s=t[r];for(var l=s.x,c=l+s.width,g=s.y,S=g+s.height,F=r-1;0<=F;F--)if(r!==F){var D=t[F],W=D.x,re=W+D.width,pe=D.y,J=pe+D.height;if(l>=W&&g>=pe&&c<=re&&S<=J){t.splice(r,1);break}else if(l!==W||s.width!==D.width||J<g||pe>S){if(!(g!==pe||s.height!==D.height||re<l||W>c)){W>l&&(D.width+=W-l,D.x=l),re<c&&(D.width=c-W),t.splice(r,1);break}}else{pe>g&&(D.height+=pe-g,D.y=g),J<S&&(D.height=S-pe),t.splice(r,1);break}}}return t},n.findHostInstance=xc,n.findHostInstanceWithNoPortals=function(t){return t=G(t),t=t!==null?q(t):null,t===null?null:t.stateNode},n.findHostInstanceWithWarning=function(t){return xc(t)},n.flushControlled=function(t){var r=Ce;Ce|=1;var s=Qe.transition,l=ke;try{Qe.transition=null,ke=1,t()}finally{ke=l,Qe.transition=s,Ce=r,Ce===0&&(Kn(),cr())}},n.flushPassiveEffects=dn,n.flushSync=dc,n.focusWithin=function(t,r){if(!xe)throw Error(h(363));for(t=pl(t),r=uc(t,r),r=Array.from(r),t=0;t<r.length;){var s=r[t++];if(!Ut(s)){if(s.tag===5&&Cr(s.stateNode))return!0;for(s=s.child;s!==null;)r.push(s),s=s.sibling}}return!1},n.getCurrentUpdatePriority=function(){return ke},n.getFindAllNodesFailureDescription=function(t,r){if(!xe)throw Error(h(363));var s=0,l=[];t=[pl(t),0];for(var c=0;c<t.length;){var g=t[c++],S=t[c++],F=r[S];if((g.tag!==5||!Ut(g))&&(vl(g,F)&&(l.push(ml(F)),S++,S>s&&(s=S)),S<r.length))for(g=g.child;g!==null;)t.push(g,S),g=g.sibling}if(s<r.length){for(t=[];s<r.length;s++)t.push(ml(r[s]));return`findAllNodes was able to match part of the selector:
  `+(l.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},n.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return ie(t.child.stateNode);default:return t.child.stateNode}},n.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:lf,findFiberByHostInstance:t.findFiberByHostInstance||uf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)t=!0;else{try{sa=r.inject(t),hr=r}catch{}t=!!r.checkDCE}}return t},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(t,r,s,l){if(!xe)throw Error(h(363));t=yl(t,r);var c=gt(t,s,l).disconnect;return{disconnect:function(){c()}}},n.registerMutableSourceForHydration=function(t,r){var s=r._getVersion;s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s)},n.runWithPriority=function(t,r){var s=ke;try{return ke=t,r()}finally{ke=s}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(t,r,s,l){var c=r.current,g=wt(),S=Hr(c);return s=wc(s),r.context===null?r.context=s:r.pendingContext=s,r=kr(g,S),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),t=zr(c,r,S),t!==null&&(Yt(t,c,S,g),ga(t,c,S)),S},n};vd.exports=m3;var y3=vd.exports;const _3=M0(y3);var yd={exports:{}},bn={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */bn.ConcurrentRoot=1;bn.ContinuousEventPriority=4;bn.DefaultEventPriority=16;bn.DiscreteEventPriority=1;bn.IdleEventPriority=536870912;bn.LegacyRoot=0;yd.exports=bn;var _d=yd.exports;const l0={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let u0=!1,h0=!1;const Au=".react-konva-event",S3=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,C3=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,w3={};function lo(a,e,n=w3){if(!u0&&"zIndex"in e&&(console.warn(C3),u0=!0),!h0&&e.draggable){var i=e.x!==void 0||e.y!==void 0,o=e.onDragEnd||e.onDragMove;i&&!o&&(console.warn(S3),h0=!0)}for(var u in n)if(!l0[u]){var h=u.slice(0,2)==="on",d=n[u]!==e[u];if(h&&d){var f=u.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),a.off(f,n[u])}var p=!e.hasOwnProperty(u);p&&a.setAttr(u,void 0)}var y=e._useStrictMode,C={},x=!1;const _={};for(var u in e)if(!l0[u]){var h=u.slice(0,2)==="on",m=n[u]!==e[u];if(h&&m){var f=u.substr(2).toLowerCase();f.substr(0,7)==="content"&&(f="content"+f.substr(7,1).toUpperCase()+f.substr(8)),e[u]&&(_[f]=e[u])}!h&&(e[u]!==n[u]||y&&e[u]!==a.getAttr(u))&&(x=!0,C[u]=e[u])}x&&(a.setAttrs(C),tn(a));for(var f in _)a.on(f+Au,_[f])}function tn(a){if(!_e.Konva.autoDrawEnabled){var e=a.getLayer()||a.getStage();e&&e.batchDraw()}}var jl=md();const Sd={},x3={};ji.Node.prototype._applyProps=lo;function P3(a,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}a.add(e),tn(a)}function k3(a,e,n){let i=ji[a];i||(console.error(`Konva has no node with the type ${a}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${a}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=ji.Group);const o={},u={};for(var h in e){var d=h.slice(0,2)==="on";d?u[h]=e[h]:o[h]=e[h]}const f=new i(o);return lo(f,u),f}function E3(a,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${a}"`)}function T3(a,e,n){return!1}function R3(a){return a}function b3(){return null}function N3(){return null}function A3(a,e,n,i){return x3}function F3(){}function M3(a){}function O3(a,e){return!1}function I3(){return Sd}function L3(){return Sd}const D3=setTimeout,G3=clearTimeout,U3=-1;function z3(a,e){return!1}const B3=!1,V3=!0,H3=!0;function j3(a,e){e.parent===a?e.moveToTop():a.add(e),tn(a)}function W3(a,e){e.parent===a?e.moveToTop():a.add(e),tn(a)}function Cd(a,e,n){e._remove(),a.add(e),e.setZIndex(n.getZIndex()),tn(a)}function Y3(a,e,n){Cd(a,e,n)}function K3(a,e){e.destroy(),e.off(Au),tn(a)}function X3(a,e){e.destroy(),e.off(Au),tn(a)}function $3(a,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function q3(a,e,n){}function Q3(a,e,n,i,o){lo(a,o,i)}function J3(a){a.hide(),tn(a)}function Z3(a){}function e4(a,e){(e.visible==null||e.visible)&&a.show()}function t4(a,e){}function r4(a){}function n4(){}const i4=()=>_d.DefaultEventPriority,a4=Object.freeze(Object.defineProperty({__proto__:null,appendChild:j3,appendChildToContainer:W3,appendInitialChild:P3,cancelTimeout:G3,clearContainer:r4,commitMount:q3,commitTextUpdate:$3,commitUpdate:Q3,createInstance:k3,createTextInstance:E3,detachDeletedInstance:n4,finalizeInitialChildren:T3,getChildHostContext:L3,getCurrentEventPriority:i4,getPublicInstance:R3,getRootHostContext:I3,hideInstance:J3,hideTextInstance:Z3,idlePriority:jl.unstable_IdlePriority,insertBefore:Cd,insertInContainerBefore:Y3,isPrimaryRenderer:B3,noTimeout:U3,now:jl.unstable_now,prepareForCommit:b3,preparePortalMount:N3,prepareUpdate:A3,removeChild:K3,removeChildFromContainer:X3,resetAfterCommit:F3,resetTextContent:M3,run:jl.unstable_runWithPriority,scheduleTimeout:D3,shouldDeprioritizeSubtree:O3,shouldSetTextContent:z3,supportsMutation:H3,unhideInstance:e4,unhideTextInstance:t4,warnsIfNotActing:V3},Symbol.toStringTag,{value:"Module"}));var s4=Object.defineProperty,o4=Object.defineProperties,l4=Object.getOwnPropertyDescriptors,c0=Object.getOwnPropertySymbols,u4=Object.prototype.hasOwnProperty,h4=Object.prototype.propertyIsEnumerable,d0=(a,e,n)=>e in a?s4(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n,f0=(a,e)=>{for(var n in e||(e={}))u4.call(e,n)&&d0(a,n,e[n]);if(c0)for(var n of c0(e))h4.call(e,n)&&d0(a,n,e[n]);return a},c4=(a,e)=>o4(a,l4(e));function wd(a,e,n){if(!a)return;if(n(a)===!0)return a;let i=e?a.return:a.child;for(;i;){const o=wd(i,e,n);if(o)return o;i=e?null:i.sibling}}function xd(a){try{return Object.defineProperties(a,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return a}}const Fu=xd(ft.createContext(null));class Pd extends ft.Component{render(){return ft.createElement(Fu.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:g0,ReactCurrentDispatcher:p0}=ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function d4(){const a=ft.useContext(Fu);if(a===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ft.useId();return ft.useMemo(()=>{for(const i of[g0==null?void 0:g0.current,a,a==null?void 0:a.alternate]){if(!i)continue;const o=wd(i,!1,u=>{let h=u.memoizedState;for(;h;){if(h.memoizedState===e)return!0;h=h.next}});if(o)return o}},[a,e])}function f4(){var a,e;const n=d4(),[i]=ft.useState(()=>new Map);i.clear();let o=n;for(;o;){const u=(a=o.type)==null?void 0:a._context;u&&u!==Fu&&!i.has(u)&&i.set(u,(e=p0==null?void 0:p0.current)==null?void 0:e.readContext(xd(u))),o=o.return}return i}function g4(){const a=f4();return ft.useMemo(()=>Array.from(a.keys()).reduce((e,n)=>i=>ft.createElement(e,null,ft.createElement(n.Provider,c4(f0({},i),{value:a.get(n)}))),e=>ft.createElement(Pd,f0({},e))),[a])}function p4(a){const e=se.useRef({});return se.useLayoutEffect(()=>{e.current=a}),se.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const v4=a=>{const e=se.useRef(),n=se.useRef(),i=se.useRef(),o=p4(a),u=g4(),h=d=>{const{forwardedRef:f}=a;f&&(typeof f=="function"?f(d):f.current=d)};return se.useLayoutEffect(()=>(n.current=new ji.Stage({width:a.width,height:a.height,container:e.current}),h(n.current),i.current=Ui.createContainer(n.current,_d.LegacyRoot,!1,null),Ui.updateContainer(se.createElement(u,{},a.children),i.current),()=>{ji.isBrowser&&(h(null),Ui.updateContainer(null,i.current,null),n.current.destroy())}),[]),se.useLayoutEffect(()=>{h(n.current),lo(n.current,a,o),Ui.updateContainer(se.createElement(u,{},a.children),i.current,null)}),se.createElement("div",{ref:e,id:a.id,accessKey:a.accessKey,className:a.className,role:a.role,style:a.style,tabIndex:a.tabIndex,title:a.title})},m4="Layer",uu="Group",y4="Circle",_4="Text",v0="Path",Ui=_3(a4);Ui.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:se.version,rendererPackageName:"react-konva"});const S4=se.forwardRef((a,e)=>se.createElement(Pd,{},se.createElement(v4,{...a,forwardedRef:e})));let Ja;const C4=new Uint8Array(16);function w4(){if(!Ja&&(Ja=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ja))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ja(C4)}const mt=[];for(let a=0;a<256;++a)mt.push((a+256).toString(16).slice(1));function x4(a,e=0){return(mt[a[e+0]]+mt[a[e+1]]+mt[a[e+2]]+mt[a[e+3]]+"-"+mt[a[e+4]]+mt[a[e+5]]+"-"+mt[a[e+6]]+mt[a[e+7]]+"-"+mt[a[e+8]]+mt[a[e+9]]+"-"+mt[a[e+10]]+mt[a[e+11]]+mt[a[e+12]]+mt[a[e+13]]+mt[a[e+14]]+mt[a[e+15]]).toLowerCase()}const P4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),m0={randomUUID:P4};function Wl(a,e,n){if(m0.randomUUID&&!e&&!a)return m0.randomUUID();a=a||{};const i=a.random||(a.rng||w4)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let o=0;o<16;++o)e[n+o]=i[o];return e}return x4(i)}const k4=a=>ft.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},ft.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 12C19 12.5523 18.5523 13 18 13L6 13C5.44771 13 5 12.5523 5 12C5 11.4477 5.44771 11 6 11L18 11C18.5523 11 19 11.4477 19 12Z",fill:"#2DC275"})),E4=a=>ft.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},ft.createElement("path",{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H6C5.44771 11 5 11.4477 5 12C5 12.5523 5.44771 13 6 13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V13H18C18.5523 13 19 12.5523 19 12C19 11.4477 18.5523 11 18 11H13V6Z",fill:"#2DC275"})),T4=a=>ft.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},ft.createElement("path",{d:"M2 10C2 5.58172 5.58172 2 10 2C12.2045 2 14.2014 2.89135 15.6493 4.33538L14.2125 4.02286C13.6728 3.90547 13.1402 4.2478 13.0228 4.78747C12.9054 5.32713 13.2478 5.85978 13.7874 5.97716L17.7875 6.84725C18.0831 6.91155 18.3919 6.83856 18.6275 6.64873C18.8631 6.45889 19 6.17262 19 5.87009L19 1.99999C19 1.44771 18.5523 0.999996 18 1C17.4477 1 17 1.44772 17 2.00001L17 2.85875C15.1969 1.09124 12.7262 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20C13.8713 20 17.2271 17.7999 18.8883 14.5864C19.1419 14.0958 18.9498 13.4925 18.4592 13.2389C17.9686 12.9853 17.3653 13.1774 17.1117 13.668C15.7804 16.2432 13.0945 18 10 18C5.58172 18 2 14.4183 2 10Z",fill:"#2DC275"})),Yl=({onClick:a,variant:e="primary",disabled:n=!1,iconImg:i,children:o,...u})=>{const h=d=>{d.preventDefault(),d.stopPropagation(),a&&!n&&a(d)};return He.jsxs("button",{onClick:h,className:`button ${e} ${n?"disabled":""}`,disabled:n,...u,children:[i&&He.jsx("img",{className:"button-img-icon",src:i}),o]})},R4=a=>{const e=a.split(" ");return{width:Number(e[2]),height:Number(e[3])}},Qn=a=>a.split(";").map(e=>e.split(":")).reduce((e,n)=>{let i=n[0];if(i==="")return e;const o=n[1];return i=i.replace(/-./g,u=>u.toUpperCase()[1]),e[i]=o,e},{}),b4=["available","disabled","holding","ordered","readOnly","selected"],vn=Object.freeze({available:"fill:#ffffff;stroke:#9C9B9B;pointer-events:auto;",disabled:"fill:#C2C1C1;stroke:#C2C1C1;pointer-events:auto;",holding:"fill:#D32F2F;stroke:#D32F2F;pointer-events:auto;",ordered:"fill:#F44336;stroke:#D32F2F;pointer-events:none;",readOnly:"fill:#ffffff;stroke:#9C9B9B;pointer-events:none;",selected:"fill:#ffffff;stroke:#08CE7C;pointer-events:none;"}),N4=Object.freeze({available:Qn(vn.available),disabled:Qn(vn.disabled),holding:Qn(vn.holding),ordered:Qn(vn.ordered),readOnly:Qn(vn.readOnly),selected:Qn(vn.selected)}),Kl=a=>a<1||a>6?"available":b4[a-1],Xl=(a="available",e="parsed")=>e==="raw"?vn[a]:N4[a],A4=(a,e)=>Xl(Kl(a===1||a===6?e?6:1:a)),F4=({id:a=0,name:e=0,displayName:n="",visible:i=!0,showName:o=!0,x:u=0,y:h=0,radius:d=4.5,strokeWidth:f=1,initStatus:p=1,onClick:y=()=>{},onSelectSeat:C=()=>{},onDeselectSeat:x=()=>{},isSelected:_=!1,seatDataPack:m={}})=>{const[P,E]=se.useState(p),R=w=>{var b,I;if(!(P===1||P===6))return;const k=(I=(b=w.target)==null?void 0:b.getStage())==null?void 0:I.container();k&&(k.style.cursor="pointer")},N=w=>{var b,I;if(!(P===1||P===6))return;const k=(I=(b=w.target)==null?void 0:b.getStage())==null?void 0:I.container();k&&(k.style.cursor="")},v=w=>{(P===1||P===6)&&(E(k=>k===1?6:1),_?x&&x(e):C&&C(e,m),y&&y(w))};return He.jsxs(uu,{id:`${a}`,onMouseEnter:R,onMouseLeave:N,onClick:v,onTap:v,children:[He.jsx(y4,{x:u,y:h,visible:i,radius:d,strokeWidth:f,...A4(p,_)}),o&&He.jsx(_4,{text:n,x:u-d/2*2,y:h-d/2*1.8,visible:i,fontSize:d,fontStyle:"bold",align:"center",verticalAlign:"middle",width:d*2,height:d*2})]})},y0=.05,kd=.75,Ed=14,tt={1001:"1001",1002:"1002",1003:"1003",1004:"1004"},M4=(a,e)=>{var f,p;if(a.evt.preventDefault(),!e.current||!e.current)return;const n=e.current.scaleX(),i=e.current.getPointerPosition(),o={x:(((i==null?void 0:i.x)||0)-e.current.x())/n,y:(((i==null?void 0:i.y)||0)-e.current.y())/n};let u=a.evt.deltaY<0?1:-1;a.evt.ctrlKey&&(u=-u);const h=u>0?n*.95:n/.95,d={x:((i==null?void 0:i.x)||0)-o.x*h,y:((i==null?void 0:i.y)||0)-o.y*h};h>=kd&&h<=Ed&&((f=e==null?void 0:e.current)==null||f.scale({x:h,y:h}),(p=e==null?void 0:e.current)==null||p.position({...d}))},O4=(...a)=>{var e,n,i,o,u;for(const h of a)(e=h==null?void 0:h.current)==null||e.offsetX(0),(n=h==null?void 0:h.current)==null||n.offsetY(0),(i=h==null?void 0:h.current)==null||i.x(0),(o=h==null?void 0:h.current)==null||o.y(0),(u=h==null?void 0:h.current)==null||u.scale({x:1,y:1})},Za=(a,e=100)=>{for(let n=0;n<a.length;n++)setTimeout(()=>{const i=a[n];i()},e*n+1)};var Ot=function(){return Ot=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Ot.apply(this,arguments)};function ds(a,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return a.concat(u||Array.prototype.slice.call(e))}var Ve="-ms-",Bi="-moz-",Ae="-webkit-",Td="comm",uo="rule",Mu="decl",I4="@import",Rd="@keyframes",L4="@layer",D4=Math.abs,Ou=String.fromCharCode,hu=Object.assign;function G4(a,e){return dt(a,0)^45?(((e<<2^dt(a,0))<<2^dt(a,1))<<2^dt(a,2))<<2^dt(a,3):0}function bd(a){return a.trim()}function Ar(a,e){return(a=e.exec(a))?a[0]:a}function ye(a,e,n){return a.replace(e,n)}function ns(a,e){return a.indexOf(e)}function dt(a,e){return a.charCodeAt(e)|0}function ni(a,e,n){return a.slice(e,n)}function yr(a){return a.length}function Nd(a){return a.length}function zi(a,e){return e.push(a),a}function U4(a,e){return a.map(e).join("")}function _0(a,e){return a.filter(function(n){return!Ar(n,e)})}var ho=1,ii=1,Ad=0,$t=0,rt=0,gi="";function co(a,e,n,i,o,u,h,d){return{value:a,root:e,parent:n,type:i,props:o,children:u,line:ho,column:ii,length:h,return:"",siblings:d}}function Xr(a,e){return hu(co("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},e)}function Jn(a){for(;a.root;)a=Xr(a.root,{children:[a]});zi(a,a.siblings)}function z4(){return rt}function B4(){return rt=$t>0?dt(gi,--$t):0,ii--,rt===10&&(ii=1,ho--),rt}function or(){return rt=$t<Ad?dt(gi,$t++):0,ii++,rt===10&&(ii=1,ho++),rt}function yn(){return dt(gi,$t)}function is(){return $t}function fo(a,e){return ni(gi,a,e)}function cu(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V4(a){return ho=ii=1,Ad=yr(gi=a),$t=0,[]}function H4(a){return gi="",a}function $l(a){return bd(fo($t-1,du(a===91?a+2:a===40?a+1:a)))}function j4(a){for(;(rt=yn())&&rt<33;)or();return cu(a)>2||cu(rt)>3?"":" "}function W4(a,e){for(;--e&&or()&&!(rt<48||rt>102||rt>57&&rt<65||rt>70&&rt<97););return fo(a,is()+(e<6&&yn()==32&&or()==32))}function du(a){for(;or();)switch(rt){case a:return $t;case 34:case 39:a!==34&&a!==39&&du(rt);break;case 40:a===41&&du(a);break;case 92:or();break}return $t}function Y4(a,e){for(;or()&&a+rt!==47+10;)if(a+rt===42+42&&yn()===47)break;return"/*"+fo(e,$t-1)+"*"+Ou(a===47?a:or())}function K4(a){for(;!cu(yn());)or();return fo(a,$t)}function X4(a){return H4(as("",null,null,null,[""],a=V4(a),0,[0],a))}function as(a,e,n,i,o,u,h,d,f){for(var p=0,y=0,C=h,x=0,_=0,m=0,P=1,E=1,R=1,N=0,v="",w=o,k=u,b=i,I=v;E;)switch(m=N,N=or()){case 40:if(m!=108&&dt(I,C-1)==58){ns(I+=ye($l(N),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:I+=$l(N);break;case 9:case 10:case 13:case 32:I+=j4(m);break;case 92:I+=W4(is()-1,7);continue;case 47:switch(yn()){case 42:case 47:zi($4(Y4(or(),is()),e,n,f),f);break;default:I+="/"}break;case 123*P:d[p++]=yr(I)*R;case 125*P:case 59:case 0:switch(N){case 0:case 125:E=0;case 59+y:R==-1&&(I=ye(I,/\f/g,"")),_>0&&yr(I)-C&&zi(_>32?C0(I+";",i,n,C-1,f):C0(ye(I," ","")+";",i,n,C-2,f),f);break;case 59:I+=";";default:if(zi(b=S0(I,e,n,p,y,o,d,v,w=[],k=[],C,u),u),N===123)if(y===0)as(I,e,b,b,w,u,C,d,k);else switch(x===99&&dt(I,3)===110?100:x){case 100:case 108:case 109:case 115:as(a,b,b,i&&zi(S0(a,b,b,0,0,o,d,v,o,w=[],C,k),k),o,k,C,d,i?w:k);break;default:as(I,b,b,b,[""],k,0,d,k)}}p=y=_=0,P=R=1,v=I="",C=h;break;case 58:C=1+yr(I),_=m;default:if(P<1){if(N==123)--P;else if(N==125&&P++==0&&B4()==125)continue}switch(I+=Ou(N),N*P){case 38:R=y>0?1:(I+="\f",-1);break;case 44:d[p++]=(yr(I)-1)*R,R=1;break;case 64:yn()===45&&(I+=$l(or())),x=yn(),y=C=yr(v=I+=K4(is())),N++;break;case 45:m===45&&yr(I)==2&&(P=0)}}return u}function S0(a,e,n,i,o,u,h,d,f,p,y,C){for(var x=o-1,_=o===0?u:[""],m=Nd(_),P=0,E=0,R=0;P<i;++P)for(var N=0,v=ni(a,x+1,x=D4(E=h[P])),w=a;N<m;++N)(w=bd(E>0?_[N]+" "+v:ye(v,/&\f/g,_[N])))&&(f[R++]=w);return co(a,e,n,o===0?uo:d,f,p,y,C)}function $4(a,e,n,i){return co(a,e,n,Td,Ou(z4()),ni(a,2,-2),0,i)}function C0(a,e,n,i,o){return co(a,e,n,Mu,ni(a,0,i),ni(a,i+1,-1),i,o)}function Fd(a,e,n){switch(G4(a,e)){case 5103:return Ae+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ae+a+a;case 4789:return Bi+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return Ae+a+Bi+a+Ve+a+a;case 5936:switch(dt(a,e+11)){case 114:return Ae+a+Ve+ye(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return Ae+a+Ve+ye(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return Ae+a+Ve+ye(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return Ae+a+Ve+a+a;case 6165:return Ae+a+Ve+"flex-"+a+a;case 5187:return Ae+a+ye(a,/(\w+).+(:[^]+)/,Ae+"box-$1$2"+Ve+"flex-$1$2")+a;case 5443:return Ae+a+Ve+"flex-item-"+ye(a,/flex-|-self/g,"")+(Ar(a,/flex-|baseline/)?"":Ve+"grid-row-"+ye(a,/flex-|-self/g,""))+a;case 4675:return Ae+a+Ve+"flex-line-pack"+ye(a,/align-content|flex-|-self/g,"")+a;case 5548:return Ae+a+Ve+ye(a,"shrink","negative")+a;case 5292:return Ae+a+Ve+ye(a,"basis","preferred-size")+a;case 6060:return Ae+"box-"+ye(a,"-grow","")+Ae+a+Ve+ye(a,"grow","positive")+a;case 4554:return Ae+ye(a,/([^-])(transform)/g,"$1"+Ae+"$2")+a;case 6187:return ye(ye(ye(a,/(zoom-|grab)/,Ae+"$1"),/(image-set)/,Ae+"$1"),a,"")+a;case 5495:case 3959:return ye(a,/(image-set\([^]*)/,Ae+"$1$`$1");case 4968:return ye(ye(a,/(.+:)(flex-)?(.*)/,Ae+"box-pack:$3"+Ve+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ae+a+a;case 4200:if(!Ar(a,/flex-|baseline/))return Ve+"grid-column-align"+ni(a,e)+a;break;case 2592:case 3360:return Ve+ye(a,"template-","")+a;case 4384:case 3616:return n&&n.some(function(i,o){return e=o,Ar(i.props,/grid-\w+-end/)})?~ns(a+(n=n[e].value),"span")?a:Ve+ye(a,"-start","")+a+Ve+"grid-row-span:"+(~ns(n,"span")?Ar(n,/\d+/):+Ar(n,/\d+/)-+Ar(a,/\d+/))+";":Ve+ye(a,"-start","")+a;case 4896:case 4128:return n&&n.some(function(i){return Ar(i.props,/grid-\w+-start/)})?a:Ve+ye(ye(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return ye(a,/(.+)-inline(.+)/,Ae+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yr(a)-1-e>6)switch(dt(a,e+1)){case 109:if(dt(a,e+4)!==45)break;case 102:return ye(a,/(.+:)(.+)-([^]+)/,"$1"+Ae+"$2-$3$1"+Bi+(dt(a,e+3)==108?"$3":"$2-$3"))+a;case 115:return~ns(a,"stretch")?Fd(ye(a,"stretch","fill-available"),e,n)+a:a}break;case 5152:case 5920:return ye(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,o,u,h,d,f,p){return Ve+o+":"+u+p+(h?Ve+o+"-span:"+(d?f:+f-+u)+p:"")+a});case 4949:if(dt(a,e+6)===121)return ye(a,":",":"+Ae)+a;break;case 6444:switch(dt(a,dt(a,14)===45?18:11)){case 120:return ye(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ae+(dt(a,14)===45?"inline-":"")+"box$3$1"+Ae+"$2$3$1"+Ve+"$2box$3")+a;case 100:return ye(a,":",":"+Ve)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ye(a,"scroll-","scroll-snap-")+a}return a}function fs(a,e){for(var n="",i=0;i<a.length;i++)n+=e(a[i],i,a,e)||"";return n}function q4(a,e,n,i){switch(a.type){case L4:if(a.children.length)break;case I4:case Mu:return a.return=a.return||a.value;case Td:return"";case Rd:return a.return=a.value+"{"+fs(a.children,i)+"}";case uo:if(!yr(a.value=a.props.join(",")))return""}return yr(n=fs(a.children,i))?a.return=a.value+"{"+n+"}":""}function Q4(a){var e=Nd(a);return function(n,i,o,u){for(var h="",d=0;d<e;d++)h+=a[d](n,i,o,u)||"";return h}}function J4(a){return function(e){e.root||(e=e.return)&&a(e)}}function Z4(a,e,n,i){if(a.length>-1&&!a.return)switch(a.type){case Mu:a.return=Fd(a.value,a.length,n);return;case Rd:return fs([Xr(a,{value:ye(a.value,"@","@"+Ae)})],i);case uo:if(a.length)return U4(n=a.props,function(o){switch(Ar(o,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Jn(Xr(a,{props:[ye(o,/:(read-\w+)/,":"+Bi+"$1")]})),Jn(Xr(a,{props:[o]})),hu(a,{props:_0(n,i)});break;case"::placeholder":Jn(Xr(a,{props:[ye(o,/:(plac\w+)/,":"+Ae+"input-$1")]})),Jn(Xr(a,{props:[ye(o,/:(plac\w+)/,":"+Bi+"$1")]})),Jn(Xr(a,{props:[ye(o,/:(plac\w+)/,Ve+"input-$1")]})),Jn(Xr(a,{props:[o]})),hu(a,{props:_0(n,i)});break}return""})}}var ep={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ai=typeof process<"u"&&process.env!==void 0&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Iu=typeof window<"u"&&"HTMLElement"in window,tp=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""&&process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY),go=Object.freeze([]),si=Object.freeze({});function rp(a,e,n){return n===void 0&&(n=si),a.theme!==n.theme&&a.theme||e||n.theme}var Md=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),np=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ip=/(^-|-$)/g;function w0(a){return a.replace(np,"-").replace(ip,"")}var ap=/(a)(d)/gi,x0=function(a){return String.fromCharCode(a+(a>25?39:97))};function fu(a){var e,n="";for(e=Math.abs(a);e>52;e=e/52|0)n=x0(e%52)+n;return(x0(e%52)+n).replace(ap,"$1-$2")}var ql,Zn=function(a,e){for(var n=e.length;n;)a=33*a^e.charCodeAt(--n);return a},Od=function(a){return Zn(5381,a)};function sp(a){return fu(Od(a)>>>0)}function op(a){return a.displayName||a.name||"Component"}function Ql(a){return typeof a=="string"&&!0}var Id=typeof Symbol=="function"&&Symbol.for,Ld=Id?Symbol.for("react.memo"):60115,lp=Id?Symbol.for("react.forward_ref"):60112,up={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hp={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Dd={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cp=((ql={})[lp]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ql[Ld]=Dd,ql);function P0(a){return("type"in(e=a)&&e.type.$$typeof)===Ld?Dd:"$$typeof"in a?cp[a.$$typeof]:up;var e}var dp=Object.defineProperty,fp=Object.getOwnPropertyNames,k0=Object.getOwnPropertySymbols,gp=Object.getOwnPropertyDescriptor,pp=Object.getPrototypeOf,E0=Object.prototype;function Gd(a,e,n){if(typeof e!="string"){if(E0){var i=pp(e);i&&i!==E0&&Gd(a,i,n)}var o=fp(e);k0&&(o=o.concat(k0(e)));for(var u=P0(a),h=P0(e),d=0;d<o.length;++d){var f=o[d];if(!(f in hp||n&&n[f]||h&&f in h||u&&f in u)){var p=gp(e,f);try{dp(a,f,p)}catch{}}}}return a}function oi(a){return typeof a=="function"}function Lu(a){return typeof a=="object"&&"styledComponentId"in a}function mn(a,e){return a&&e?"".concat(a," ").concat(e):a||e||""}function T0(a,e){if(a.length===0)return"";for(var n=a[0],i=1;i<a.length;i++)n+=e?e+a[i]:a[i];return n}function Wi(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function gu(a,e,n){if(n===void 0&&(n=!1),!n&&!Wi(a)&&!Array.isArray(a))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)a[i]=gu(a[i],e[i]);else if(Wi(e))for(var i in e)a[i]=gu(a[i],e[i]);return a}function Du(a,e){Object.defineProperty(a,"toString",{value:e})}function Ji(a){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var vp=function(){function a(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return a.prototype.indexOfGroup=function(e){for(var n=0,i=0;i<e;i++)n+=this.groupSizes[i];return n},a.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,u=o;e>=u;)if((u<<=1)<0)throw Ji(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(i),this.length=u;for(var h=o;h<u;h++)this.groupSizes[h]=0}for(var d=this.indexOfGroup(e+1),f=(h=0,n.length);h<f;h++)this.tag.insertRule(d,n[h])&&(this.groupSizes[e]++,d++)},a.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],i=this.indexOfGroup(e),o=i+n;this.groupSizes[e]=0;for(var u=i;u<o;u++)this.tag.deleteRule(i)}},a.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var i=this.groupSizes[e],o=this.indexOfGroup(e),u=o+i,h=o;h<u;h++)n+="".concat(this.tag.getRule(h)).concat(`/*!sc*/
`);return n},a}(),ss=new Map,gs=new Map,Jl=1,es=function(a){if(ss.has(a))return ss.get(a);for(;gs.has(Jl);)Jl++;var e=Jl++;return ss.set(a,e),gs.set(e,a),e},mp=function(a,e){ss.set(a,e),gs.set(e,a)},yp="style[".concat(ai,"][").concat("data-styled-version",'="').concat("6.0.7",'"]'),_p=new RegExp("^".concat(ai,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Sp=function(a,e,n){for(var i,o=n.split(","),u=0,h=o.length;u<h;u++)(i=o[u])&&a.registerName(e,i)},Cp=function(a,e){for(var n,i=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],u=0,h=i.length;u<h;u++){var d=i[u].trim();if(d){var f=d.match(_p);if(f){var p=0|parseInt(f[1],10),y=f[2];p!==0&&(mp(y,p),Sp(a,y,f[3]),a.getTag().insertRules(p,o)),o.length=0}else o.push(d)}}};function wp(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ud=function(a){var e=document.head,n=a||e,i=document.createElement("style"),o=function(d){var f=Array.from(d.querySelectorAll("style[".concat(ai,"]")));return f[f.length-1]}(n),u=o!==void 0?o.nextSibling:null;i.setAttribute(ai,"active"),i.setAttribute("data-styled-version","6.0.7");var h=wp();return h&&i.setAttribute("nonce",h),n.insertBefore(i,u),i},xp=function(){function a(e){this.element=Ud(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,o=0,u=i.length;o<u;o++){var h=i[o];if(h.ownerNode===n)return h}throw Ji(17)}(this.element),this.length=0}return a.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},a.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},a}(),Pp=function(){function a(e){this.element=Ud(e),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},a.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},a}(),kp=function(){function a(e){this.rules=[],this.length=0}return a.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},a.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},a.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},a}(),R0=Iu,Ep={isServer:!Iu,useCSSOMInjection:!tp},zd=function(){function a(e,n,i){e===void 0&&(e=si),n===void 0&&(n={});var o=this;this.options=Ot(Ot({},Ep),e),this.gs=n,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Iu&&R0&&(R0=!1,function(u){for(var h=document.querySelectorAll(yp),d=0,f=h.length;d<f;d++){var p=h[d];p&&p.getAttribute(ai)!=="active"&&(Cp(u,p),p.parentNode&&p.parentNode.removeChild(p))}}(this)),Du(this,function(){return function(u){for(var h=u.getTag(),d=h.length,f="",p=function(C){var x=function(R){return gs.get(R)}(C);if(x===void 0)return"continue";var _=u.names.get(x),m=h.getGroup(C);if(_===void 0||m.length===0)return"continue";var P="".concat(ai,".g").concat(C,'[id="').concat(x,'"]'),E="";_!==void 0&&_.forEach(function(R){R.length>0&&(E+="".concat(R,","))}),f+="".concat(m).concat(P,'{content:"').concat(E,'"}').concat(`/*!sc*/
`)},y=0;y<d;y++)p(y);return f}(o)})}return a.registerId=function(e){return es(e)},a.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new a(Ot(Ot({},this.options),e),this.gs,n&&this.names||void 0)},a.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var i=n.useCSSOMInjection,o=n.target;return n.isServer?new kp(o):i?new xp(o):new Pp(o)}(this.options),new vp(e)));var e},a.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},a.prototype.registerName=function(e,n){if(es(e),this.names.has(e))this.names.get(e).add(n);else{var i=new Set;i.add(n),this.names.set(e,i)}},a.prototype.insertRules=function(e,n,i){this.registerName(e,n),this.getTag().insertRules(es(e),i)},a.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},a.prototype.clearRules=function(e){this.getTag().clearGroup(es(e)),this.clearNames(e)},a.prototype.clearTag=function(){this.tag=void 0},a}(),Tp=/&/g,Rp=/^\s*\/\/.*$/gm;function Bd(a,e){return a.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Bd(n.children,e)),n})}function bp(a){var e,n,i,o=a===void 0?si:a,u=o.options,h=u===void 0?si:u,d=o.plugins,f=d===void 0?go:d,p=function(x,_,m){return m===n||m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):x},y=f.slice();y.push(function(x){x.type===uo&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(Tp,n).replace(i,p))}),h.prefix&&y.push(Z4),y.push(q4);var C=function(x,_,m,P){_===void 0&&(_=""),m===void 0&&(m=""),P===void 0&&(P="&"),e=P,n=_,i=new RegExp("\\".concat(n,"\\b"),"g");var E=x.replace(Rp,""),R=X4(m||_?"".concat(m," ").concat(_," { ").concat(E," }"):E);h.namespace&&(R=Bd(R,h.namespace));var N=[];return fs(R,Q4(y.concat(J4(function(v){return N.push(v)})))),N};return C.hash=f.length?f.reduce(function(x,_){return _.name||Ji(15),Zn(x,_.name)},5381).toString():"",C}var Np=new zd,pu=bp(),Vd=se.createContext({shouldForwardProp:void 0,styleSheet:Np,stylis:pu});Vd.Consumer;se.createContext(void 0);function b0(){return se.useContext(Vd)}var Ap=function(){function a(e,n){var i=this;this.inject=function(o,u){u===void 0&&(u=pu);var h=i.name+u.hash;o.hasNameForId(i.id,h)||o.insertRules(i.id,h,u(i.rules,h,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Du(this,function(){throw Ji(12,String(i.name))})}return a.prototype.getName=function(e){return e===void 0&&(e=pu),this.name+e.hash},a}(),Fp=function(a){return a>="A"&&a<="Z"};function N0(a){for(var e="",n=0;n<a.length;n++){var i=a[n];if(n===1&&i==="-"&&a[0]==="-")return a;Fp(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var Hd=function(a){return a==null||a===!1||a===""},jd=function(a){var e,n,i=[];for(var o in a){var u=a[o];a.hasOwnProperty(o)&&!Hd(u)&&(Array.isArray(u)&&u.isCss||oi(u)?i.push("".concat(N0(o),":"),u,";"):Wi(u)?i.push.apply(i,ds(ds(["".concat(o," {")],jd(u),!1),["}"],!1)):i.push("".concat(N0(o),": ").concat((e=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in ep||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function _n(a,e,n,i){if(Hd(a))return[];if(Lu(a))return[".".concat(a.styledComponentId)];if(oi(a)){if(!oi(u=a)||u.prototype&&u.prototype.isReactComponent||!e)return[a];var o=a(e);return _n(o,e,n,i)}var u;return a instanceof Ap?n?(a.inject(n,i),[a.getName(i)]):[a]:Wi(a)?jd(a):Array.isArray(a)?Array.prototype.concat.apply(go,a.map(function(h){return _n(h,e,n,i)})):[a.toString()]}function Mp(a){for(var e=0;e<a.length;e+=1){var n=a[e];if(oi(n)&&!Lu(n))return!1}return!0}var Op=Od("6.0.7"),Ip=function(){function a(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&Mp(e),this.componentId=n,this.baseHash=Zn(Op,n),this.baseStyle=i,zd.registerId(n)}return a.prototype.generateAndInjectStyles=function(e,n,i){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=mn(o,this.staticRulesId);else{var u=T0(_n(this.rules,e,n,i)),h=fu(Zn(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,h)){var d=i(u,".".concat(h),void 0,this.componentId);n.insertRules(this.componentId,h,d)}o=mn(o,h),this.staticRulesId=h}else{for(var f=Zn(this.baseHash,i.hash),p="",y=0;y<this.rules.length;y++){var C=this.rules[y];if(typeof C=="string")p+=C;else if(C){var x=T0(_n(C,e,n,i));f=Zn(f,x),p+=x}}if(p){var _=fu(f>>>0);n.hasNameForId(this.componentId,_)||n.insertRules(this.componentId,_,i(p,".".concat(_),void 0,this.componentId)),o=mn(o,_)}}return o},a}(),Wd=se.createContext(void 0);Wd.Consumer;var Zl={};function Lp(a,e,n){var i=Lu(a),o=a,u=!Ql(a),h=e.attrs,d=h===void 0?go:h,f=e.componentId,p=f===void 0?function(v,w){var k=typeof v!="string"?"sc":w0(v);Zl[k]=(Zl[k]||0)+1;var b="".concat(k,"-").concat(sp("6.0.7"+k+Zl[k]));return w?"".concat(w,"-").concat(b):b}(e.displayName,e.parentComponentId):f,y=e.displayName;y===void 0&&function(v){return Ql(v)?"styled.".concat(v):"Styled(".concat(op(v),")")}(a);var C=e.displayName&&e.componentId?"".concat(w0(e.displayName),"-").concat(e.componentId):e.componentId||p,x=i&&o.attrs?o.attrs.concat(d).filter(Boolean):d,_=e.shouldForwardProp;if(i&&o.shouldForwardProp){var m=o.shouldForwardProp;if(e.shouldForwardProp){var P=e.shouldForwardProp;_=function(v,w){return m(v,w)&&P(v,w)}}else _=m}var E=new Ip(n,C,i?o.componentStyle:void 0);function R(v,w){return function(k,b,I){var T=k.attrs,z=k.componentStyle,O=k.defaultProps,G=k.foldedComponentIds,Y=k.styledComponentId,H=k.target,q=se.useContext(Wd),ae=b0(),ie=k.shouldForwardProp||ae.shouldForwardProp,le=function(ce,ue,De){for(var Pe,A=Ot(Ot({},ue),{className:void 0,theme:De}),j=0;j<ce.length;j+=1){var ee=oi(Pe=ce[j])?Pe(A):Pe;for(var ge in ee)A[ge]=ge==="className"?mn(A[ge],ee[ge]):ge==="style"?Ot(Ot({},A[ge]),ee[ge]):ee[ge]}return ue.className&&(A.className=mn(A.className,ue.className)),A}(T,b,rp(b,q,O)||si),B=le.as||H,X={};for(var V in le)le[V]===void 0||V[0]==="$"||V==="as"||V==="theme"||(V==="forwardedAs"?X.as=le.forwardedAs:ie&&!ie(V,B)||(X[V]=le[V]));var K=function(ce,ue){var De=b0(),Pe=ce.generateAndInjectStyles(ue,De.styleSheet,De.stylis);return Pe}(z,le),$=mn(G,Y);return K&&($+=" "+K),le.className&&($+=" "+le.className),X[Ql(B)&&!Md.has(B)?"class":"className"]=$,X.ref=I,se.createElement(B,X)}(N,v,w)}var N=se.forwardRef(R);return N.attrs=x,N.componentStyle=E,N.shouldForwardProp=_,N.foldedComponentIds=i?mn(o.foldedComponentIds,o.styledComponentId):"",N.styledComponentId=C,N.target=i?o.target:a,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=i?function(w){for(var k=[],b=1;b<arguments.length;b++)k[b-1]=arguments[b];for(var I=0,T=k;I<T.length;I++)gu(w,T[I],!0);return w}({},o.defaultProps,v):v}}),Du(N,function(){return".".concat(N.styledComponentId)}),u&&Gd(N,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function A0(a,e){for(var n=[a[0]],i=0,o=e.length;i<o;i+=1)n.push(e[i],a[i+1]);return n}var F0=function(a){return Object.assign(a,{isCss:!0})};function Dp(a){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(oi(a)||Wi(a)){var i=a;return F0(_n(A0(go,ds([i],e,!0))))}var o=a;return e.length===0&&o.length===1&&typeof o[0]=="string"?_n(o):F0(_n(A0(o,e)))}function vu(a,e,n){if(n===void 0&&(n=si),!e)throw Ji(1,e);var i=function(o){for(var u=[],h=1;h<arguments.length;h++)u[h-1]=arguments[h];return a(e,n,Dp.apply(void 0,ds([o],u,!1)))};return i.attrs=function(o){return vu(a,e,Ot(Ot({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},i.withConfig=function(o){return vu(a,e,Ot(Ot({},n),o))},i}var Yd=function(a){return vu(Lp,a)},Kd=Yd;Md.forEach(function(a){Kd[a]=Yd(a)});const Gp=Kd.div`
  /* background-color: #000; */
  overflow: hidden;
  overscroll-behavior: none;

  border: 1px solid #2dc275;
  border-radius: 0.25rem;

  #stage-container {
    background-color: #a6a6b0;
    position: relative;
    border-radius: 0.25rem;

    /* border-top: 3px solid; */
    /* border-bottom: 3px solid; */
    /* border-image-slice: 1;
    border-image-source: linear-gradient(
      90deg,
      rgba(0, 0, 0, 0.95) 0%,
      rgba(38, 163, 98, 1) 25%,
      rgba(45, 194, 117, 1) 75%,
      rgba(0, 0, 0, 0.95) 100%
    ); */

    #btns-container {
      background-color: #00000060;
      position: absolute;
      /* top: 0.8rem; */
      /* left: 0.8rem; */

      z-index: 50;
      padding: 0.2rem;
      border-radius: 0.2rem;

      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.4rem;

      button {
        width: 2.5rem;
        height: 2.5rem;
        border-radius: 0.2rem;
        background-color: transparent;
        border: 1px solid #2dc275;
        backdrop-filter: blur(0.2rem);
        transition: all 0.3s ease-in-out;
      }

      button:hover {
        background-color: #ffffff30;
      }

      button.disabled {
        border: 1px solid #a6a6b0;
        cursor: not-allowed;
        svg {
          path {
            fill: #a6a6b0;
          }
        }
      }

      button.disabled:hover {
        background-color: transparent;
      }
    }
  }
`,Up=({w:a=0,h:e=0,data:n=void 0,isMinimap:i=!1,isWheelable:o=!1,isDraggable:u=!1,hasTools:h=!1,hasSeatNumbers:d=!0,chosenSectionId:f=0,chosenSectionData:p=void 0,serviceLocation:y="",onSectionClick:C=()=>{},onPostMessage:x=()=>{},onError:_=()=>{},onSelectSeat:m=void 0,onDeselectSeat:P=void 0,selectedSeatsIds:E=void 0})=>{var Qt;const[R,N]=se.useState({}),[v,w]=se.useState({}),[k,b]=se.useState({}),[I,T]=se.useState(!1),[z,O]=se.useState({}),[G,Y]=se.useState(!1),[H,q]=se.useState(0),[ae,ie]=se.useState(!1),[le,B]=se.useState(!1),[X,V]=se.useState(!1),[K,$]=se.useState(void 0),ce=se.useRef(null),ue=se.useRef(null),De=se.useRef(null),Pe=se.useRef(null),A=se.useCallback(()=>{try{if(i)return;const Q=ce.current,he=ue.current,Ne=Pe.current;if(Q&&he&&Ne){const xe=Math.abs(Q.width()/Ne.width()),xt=Math.abs(Q.height()/Ne.height()),ot=Math.min(xe,xt);he.scale({x:ot,y:ot}),q(ot);const Gt=Ne.getClientRect(),Ut=Gt.x+Gt.width/2,ur=Gt.y+Gt.height/2;if(v&&Object.keys(v).length){const Cr=v.x-Ut,gt=v.y-ur;(Cr||gt)&&Q.position({x:Cr,y:gt})}}}catch(Q){$({code:1001,message:`[ERROR][${tt[1001]}][handleInitChosenSection]: ${Q}`})}},[i,v]),j=se.useCallback(()=>{try{const Q=ce.current,he=ue.current,Ne=De.current;if(Q&&he&&Ne){O4(ce);const xe=Q.width()/Ne.width(),xt=Q.height()/Ne.height(),ot=Math.min(xe,xt);he.scale({x:ot,y:ot}),q(ot);const Gt=Q.width()/2,Ut=Q.height()/2,ur=Ne.width()*ot/2,Cr=Ne.height()*ot/2,gt=Gt-ur,Jt=Ut-Cr;he.to({x:gt,y:Jt,duration:.1}),O({scale:{x:ot,y:ot},position:{x:gt,y:Jt}}),Y(!1)}}catch(Q){$({code:1001,message:`[ERROR][${tt[1001]}][handleBackToInitState]: ${Q}`})}},[]),ee=se.useCallback(()=>{try{Za([()=>T(!1),()=>ie(!1),j,()=>T(!0)],300)}catch(Q){$({code:1001,message:`[ERROR][${tt[1001]}][handleReset]: ${Q}`})}},[j]),ge=se.useCallback(()=>{try{const Q=ce.current;if(Q){const he=Q.scaleX(),Ne=Q.x(),xe=Q.y();if(z&&Object.keys(z).length){const xt=z.scale.x,ot=z.position.x,Gt=z.position.y,Ut=Math.abs(he-xt)>.001,ur=Math.abs(Ne-ot)>.001||Math.abs(xe-Gt)>.001;Y(Ut||ur)}}}catch(Q){$({code:1001,message:`[ERROR][${tt[1001]}][handleReset]: ${Q}`})}},[z]),fe=se.useCallback(Q=>{try{const he=Math.abs(H+y0*(Q==="out"?-1:1));he>=kd&&he<=Ed&&Za([()=>q(H+y0*(Q==="out"?-1:1)),ge])}catch(he){$({code:1001,message:`[ERROR][${tt[1001]}][handleZoom]: ${he}`})}},[H,ge]),be=se.useCallback((Q,he)=>{try{if(y!=="mobile")return;switch(Q){case"onSectionClick":x(JSON.stringify({type:"onSectionClick",data:he}));return;case"onSeatClick":x(JSON.stringify({type:"onSeatClick",data:he}));return;default:x(JSON.stringify({type:"onError",data:K}));return}}catch(Ne){$({code:1001,message:`[ERROR][${tt[1001]}][handlePostMessage]: ${Ne}`})}},[K,x,y]),Ge=Q=>{try{if(!o||i)return;Za([()=>M4(Q,ce),()=>{var he;return q((he=ue==null?void 0:ue.current)==null?void 0:he.scaleX())}])}catch(he){$({code:1002,message:`[ERROR][${tt[1002]}][onStageWheel]: ${he}`})}},Et=Q=>{var he,Ne;try{if(i)return;const xe=(Ne=(he=Q.target)==null?void 0:he.getStage())==null?void 0:Ne.container();xe&&(xe.style.cursor="pointer")}catch(xe){$({code:1002,message:`[ERROR][${tt[1002]}][onSectionMouseEnter]: ${xe}`})}},Fe=Q=>{var he,Ne;try{if(i)return;const xe=(Ne=(he=Q.target)==null?void 0:he.getStage())==null?void 0:Ne.container();xe&&(xe.style.cursor="")}catch(xe){$({code:1002,message:`[ERROR][${tt[1002]}][onSectionMouseLeave]: ${xe}`})}};return se.useEffect(()=>{if(!n||Object.keys(n).length<=0){$({code:1003,message:`[ERROR][${tt[1003]}]: 'data' is compulsory!`});return}if(a<=0||e<=0){$({code:1003,message:`[ERROR][${tt[1003]}]: 'width' AND 'height' are compulsory!`});return}if(!y){$({code:1003,message:`[ERROR][${tt[1003]}]: serviceLocation is compulsory!`});return}if(!["web","mobile","mweb"].includes(y)){$({code:1003,message:`[ERROR][${tt[1003]}]: serviceLocation can only be 'web', 'mobile' or 'mweb'!`});return}const xe=f!==0&&!i&&(!p||Object.keys(p).length<=0),xt=f===0&&!i&&p&&Object.keys(p).length;if(xe){$({code:1003,message:`[ERROR][${tt[1003]}]: Must provide 'chosenSectionData' if 'chosenSectionId' exists!`});return}if(xt){$({code:1003,message:`[ERROR][${tt[1003]}]: Must provide 'chosenSectionId' if 'chosenSectionData' exists!`});return}if(i&&f===0){$({code:1003,message:`[ERROR][${tt[1003]}]: Must provide 'chosenSectionId' if 'isMinimap' is true!`});return}f&&!i&&(!E||!m||!P)&&$({code:1003,message:`[ERROR][${tt[1003]}]: Must provide 'selectedSeatsIds', 'onSelectSeat' AND 'onDeselectSeat' if 'chosenSectionId' exists!`}),V(!0)},[p,f,n,e,i,P,m,E,y,a]),se.useEffect(()=>{if(!le){if(K&&Object.keys(K).length){_(K),be("onError",K),B(!0);return}B(!1)}},[K,be,le,_]),se.useEffect(()=>{try{if(n&&Object.keys(n).length&&n.viewbox){const Q=ce.current;if(Q){const he=Q.getAbsolutePosition(),Ne=he.x+Q.width()/2,xe=he.y+Q.height()/2;w({x:Ne,y:xe}),N(R4(n==null?void 0:n.viewbox))}}}catch(Q){$({code:1004,message:`[ERROR][${tt[1004]}][stageCenter, groupDimensions]: ${Q}`})}},[n]),se.useEffect(()=>{try{if(R&&Object.keys(R).length){const Q=De.current;if(Q){const he=Q.getAbsolutePosition(),Ne=he.x+Q.width()/2,xe=he.y+Q.height()/2;b({x:Ne,y:xe})}}}catch(Q){$({code:1004,message:`[ERROR][${tt[1004]}][groupCenter]: ${Q}`})}},[R]),se.useEffect(()=>{const Q=v&&Object.keys(v).length,he=k&&Object.keys(k).length;Q&&he&&ee()},[v,k,ee]),se.useEffect(()=>{I&&f!==0&&Za([A,()=>ie(!0)],200)},[f,A,I]),He.jsx(Gp,{style:{opacity:X&&!le?1:0},children:He.jsxs("div",{id:"stage-container",children:[h&&!i&&He.jsxs("div",{id:"btns-container",children:[He.jsx(Yl,{onClick:()=>fe("in"),children:He.jsx(E4,{})}),He.jsx(Yl,{disabled:!G,onClick:ee,children:He.jsx(T4,{})}),He.jsx(Yl,{onClick:()=>fe("out"),children:He.jsx(k4,{})})]}),He.jsx(S4,{id:"seatmap-stage",width:a,height:e,ref:ce,draggable:u&&!i,onDragEnd:ge,visible:X&&!le,onWheel:Q=>{Q.evt.preventDefault(),I&&(Ge(Q),ge())},children:He.jsx(m4,{id:"seatmap-layer",ref:ue,scale:{x:H,y:H},draggable:u&&!i,onDragEnd:ge,children:He.jsx(uu,{ref:De,width:R==null?void 0:R.width,height:R==null?void 0:R.height,children:(Qt=n==null?void 0:n.sections)==null?void 0:Qt.map(Q=>{var Cr;const{isStage:he,elements:Ne,attribute:xe,id:xt,isReservingSeat:ot,seatMapId:Gt}=Q;if(!i&&f!==0&&xt!==f)return He.jsx(He.Fragment,{});const ur=()=>{if(f===0)try{Q&&Object.keys(Q).length&&(C(Q),be("onSectionClick",Q))}catch(gt){$({code:1002,message:`[ERROR][${tt[1002]}][onSectionClick]: ${gt}`})}};return He.jsxs(uu,{visible:f!==0?i?!0:ae:!0,ref:xt===f?Pe:null,width:xe==null?void 0:xe.width,height:xe==null?void 0:xe.height,onClick:ur,onTap:ur,children:[Ne==null?void 0:Ne.map(({data:gt,fill:Jt,display:Nn},rn)=>{const An=i&&rn>0&&f!==0,Fn=f!==0?rn>0&&Nn===1:rn>0&&Nn===2;if(!he&&(An||Fn))return He.jsx(He.Fragment,{});const pi={onMouseEnter:Et,onMouseLeave:Fe};return he?He.jsx(v0,{visible:I,fill:Jt||"#000",data:gt},`${Wl()}`):He.jsx(v0,{visible:I,fill:i?f===xt?Jt:"#d3d3d3":Jt||"#fff",data:gt,...f===0?pi:{}},`${Wl()}`)}),(Cr=p==null?void 0:p.rows)==null?void 0:Cr.map(gt=>{var An;const{id:Jt,name:Nn,status:rn}=gt;return(An=gt==null?void 0:gt.seats)==null?void 0:An.map(Fn=>{const{x:pi,y:po,status:vo,id:Mn,name:vi,position:mo}=Fn,Zi={sectionId:xt,sectionIsReserveSeat:ot,sectionSeatMapId:Gt,rowId:Jt,rowName:Nn,rowStatus:rn,seatId:Mn,seatName:vi,seatPosition:mo};if(Fn)return He.jsx(F4,{x:pi,y:po,id:Mn,name:Mn,displayName:vi,showName:d,visible:I&&!i,initStatus:vo,onClick:()=>be("onSeatClick",Zi),onSelectSeat:m,onDeselectSeat:P,isSelected:E?E.indexOf(Mn)>=0:!1,seatDataPack:Zi},`seatKey-${Wl()}`)})})]},xt)})})})})]})})};module.exports=Up;
