(function(nn,Ne){typeof exports=="object"&&typeof module<"u"?Ne(exports,require("react"),require("react-konva")):typeof define=="function"&&define.amd?define(["exports","react","react-konva"],Ne):(nn=typeof globalThis<"u"?globalThis:nn||self,Ne(nn.SeatMapComponent={},nn.React,nn.ReactKonva))})(this,function(nn,Ne,Nr){"use strict";function nu(d){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(d){for(const a in d)if(a!=="default"){const l=Object.getOwnPropertyDescriptor(d,a);Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>d[a]})}}return n.default=d,Object.freeze(n)}const Xe=nu(Ne);var pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ru(d){if(d.__esModule)return d;var n=d.default;if(typeof n=="function"){var a=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(d).forEach(function(l){var o=Object.getOwnPropertyDescriptor(d,l);Object.defineProperty(a,l,o.get?o:{enumerable:!0,get:function(){return d[l]}})}),a}var ws={exports:{}},Dr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=Ne,au=Symbol.for("react.element"),su=Symbol.for("react.fragment"),lu=Object.prototype.hasOwnProperty,ou=iu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uu={key:!0,ref:!0,__self:!0,__source:!0};function Ps(d,n,a){var l,o={},c=null,h=null;a!==void 0&&(c=""+a),n.key!==void 0&&(c=""+n.key),n.ref!==void 0&&(h=n.ref);for(l in n)lu.call(n,l)&&!uu.hasOwnProperty(l)&&(o[l]=n[l]);if(d&&d.defaultProps)for(l in n=d.defaultProps,n)o[l]===void 0&&(o[l]=n[l]);return{$$typeof:au,type:d,key:c,ref:h,props:o,_owner:ou.current}}Dr.Fragment=su,Dr.jsx=Ps,Dr.jsxs=Ps,ws.exports=Dr;var be=ws.exports;const rr={id:38,name:"",status:1,code:"42b8367f-5c4a-4881-aaf4-6bdb26aae474",viewbox:"0 0 319.73 304.21",description:"",regionId:0,sections:[{id:384,seatMapId:38,name:"stage",isReservingSeat:!1,isStage:!0,capacity:0,status:1,elements:[{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M161.84,36.66c26.71-.23,49.71-1.89,49.71-1.82,14.78.56,25.84.56,40.14,32,4.75,10.28,5.3,17,4,21.5,0,0-1.74,8-12.1,9.48-25.36,3.87-44.17,7-81.79,7s-56.43-3.16-81.8-7C69.69,96.33,68,88.35,68,88.35c-1.26-4.51-.63-11.22,4-21.5,14.31-31.53,25.29-31.53,40.15-32,0,0,23,1.59,49.71,1.82Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M110.71,66.22a6.91,6.91,0,0,1,1.73.24,5.55,5.55,0,0,1,1.43.63l-.79,1.58a4.72,4.72,0,0,0-.64-.32l-.71-.23a2.32,2.32,0,0,0-.63-.16,1.51,1.51,0,0,0-.55-.08,1.42,1.42,0,0,0-.63.16.47.47,0,0,0-.24.47.58.58,0,0,0,.32.55,2.26,2.26,0,0,0,.79.32,7.25,7.25,0,0,1,1,.32,3.94,3.94,0,0,1,1,.39,2.31,2.31,0,0,1,.79.71A1.9,1.9,0,0,1,114,72a2,2,0,0,1-.24,1,2.4,2.4,0,0,1-.71.79,2.55,2.55,0,0,1-1,.47,6,6,0,0,1-1.26.16,5.67,5.67,0,0,1-2-.32,5.53,5.53,0,0,1-1.66-1l.79-1.58a6.24,6.24,0,0,0,.71.48,8.33,8.33,0,0,0,.79.39c.24.08.56.16.79.24a2.18,2.18,0,0,0,.71.08,2.26,2.26,0,0,0,.79-.16.67.67,0,0,0,.32-.55.6.6,0,0,0-.32-.56,2.46,2.46,0,0,0-.79-.31,7.25,7.25,0,0,1-1-.32,4.32,4.32,0,0,1-1-.39,2.31,2.31,0,0,1-.79-.71,1.68,1.68,0,0,1-.32-1.11,2.17,2.17,0,0,1,.24-1,3.48,3.48,0,0,1,.63-.79,2.42,2.42,0,0,1,1-.47A2.17,2.17,0,0,1,110.71,66.22Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M118.69,67.88V74.2h-2.06V67.88h-2.37V66.22h6.8v1.66Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M123,72.78l-.56,1.5h-2.13l3.48-8h2l3.4,8h-2.13l-.56-1.5Zm1.73-4.51-1.18,2.93h2.29Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M136.79,70.25v3.08a3.24,3.24,0,0,1-.72.4,2.74,2.74,0,0,1-.86.31l-.87.24a3.25,3.25,0,0,1-.87.08,3.6,3.6,0,0,1-1.66-.32,3.79,3.79,0,0,1-1.35-.87,3.37,3.37,0,0,1-.87-1.26,3.76,3.76,0,0,1-.31-1.66,3.63,3.63,0,0,1,.31-1.58,4,4,0,0,1,.95-1.27,4.27,4.27,0,0,1,1.43-.86,4.16,4.16,0,0,1,1.73-.32,2.9,2.9,0,0,1,.87.08l.87.24a2.17,2.17,0,0,1,.79.39l.71.47-1.1,1.35a4.12,4.12,0,0,0-1-.63,3,3,0,0,0-1.11-.24,3.86,3.86,0,0,0-.94.16,2.8,2.8,0,0,0-.72.47,2,2,0,0,0-.47.71,2.9,2.9,0,0,0,0,1.9,2.8,2.8,0,0,0,.47.79,1.85,1.85,0,0,0,.72.47,1.8,1.8,0,0,0,.94.16,2.47,2.47,0,0,0,.72-.08,3.33,3.33,0,0,0,.71-.31V70.09h1.66v.16Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M140.18,67.88v1.58H144V71h-3.8v1.58h4.35V74.2h-6.4V66.3h6.24v1.58Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M147.3,75.54,151,65h1.66L149,75.54Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M158.28,66.22a6.92,6.92,0,0,1,1.74.24,5.48,5.48,0,0,1,1.42.63l-.79,1.58a4.16,4.16,0,0,0-.63-.32l-.71-.23a2.42,2.42,0,0,0-.63-.16,1.56,1.56,0,0,0-.56-.08,1.5,1.5,0,0,0-.63.16.47.47,0,0,0-.24.47.58.58,0,0,0,.32.55,2.34,2.34,0,0,0,.79.32,7.34,7.34,0,0,1,1,.32,4.08,4.08,0,0,1,1,.39,2.4,2.4,0,0,1,.79.71,2,2,0,0,1,.31,1.19,2.09,2.09,0,0,1-.23,1,2.33,2.33,0,0,1-.72.79,2.51,2.51,0,0,1-1,.47,6.12,6.12,0,0,1-1.27.16,5.65,5.65,0,0,1-2-.32,5.3,5.3,0,0,1-1.66-1l.79-1.58a4.85,4.85,0,0,0,.71.48,7.29,7.29,0,0,0,.79.39l.79.24a2.16,2.16,0,0,0,.71.08,2.31,2.31,0,0,0,.79-.16.67.67,0,0,0,.32-.55.6.6,0,0,0-.32-.56,2.56,2.56,0,0,0-.79-.31,7.34,7.34,0,0,1-1-.32,4.24,4.24,0,0,1-1-.39,2.34,2.34,0,0,1-.8-.71,1.74,1.74,0,0,1-.31-1.11,2.17,2.17,0,0,1,.24-1,3,3,0,0,1,.63-.79,2.37,2.37,0,0,1,1-.47C157.33,66.22,157.81,66.22,158.28,66.22Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M164.37,72.78l-.56,1.5h-2.05l3.48-8h2l3.4,8h-2.13l-.56-1.5Zm-.32-7.27,1.27-1.74h1.58l1.26,1.74h-1.42l-.63-1-.64,1Zm2.06,2.76-1.19,2.93h2.29Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M176.93,74.28l-3.71-4.9v4.9h-1.9v-8h1.82l3.71,4.9V66.3h1.9v8Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M186,71.12l-1,1.18v2h-2.05v-8H185v3.48l3.09-3.48h2.37l-3,3.32,3.17,4.66h-2.45Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M196.85,74.28V71.2h-3.32v3.08h-2.06v-8h2.06v3.32h3.32V66.3h2.05v8Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M202.22,72.78l-.55,1.5h-2.06l3.48-8h2.06l3.39,8h-2.13l-.55-1.5Zm2.45-7.27-.63-1-.63,1H202l1.26-1.74h1.58l1.26,1.74ZM204,68.27l-1.19,2.93h2.3Zm2.92-4h-1.5l1.19-1.89,1.82.63Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M216.21,70.88A3.73,3.73,0,0,1,216,72.3a3.14,3.14,0,0,1-.71,1.11,2.92,2.92,0,0,1-1.18.71,4.58,4.58,0,0,1-1.5.24,4.27,4.27,0,0,1-1.51-.24,2.92,2.92,0,0,1-1.18-.71,2.66,2.66,0,0,1-.71-1.11,3.73,3.73,0,0,1-.24-1.42V66.22H211v4.66a1.67,1.67,0,0,0,.48,1.27,1.73,1.73,0,0,0,2.37,0,1.66,1.66,0,0,0,.47-1.27V66.22h2.06v4.66Z"}],attribute:{x:101.14816,y:52.256775,width:283.29742,height:104.97322,scaleX:0,scaleY:0,rotate:0}},{id:385,seatMapId:38,name:"A",isReservingSeat:!0,isStage:!1,capacity:0,ticketTypeId:23,status:1,ticketType:{id:23,name:"VIP (Không dành cho trẻ dưới 8 tuổi)",showingId:19,originalId:0,backgroundURL:"",status:2,bookingStatus:"",description:"tickettype description",isFree:!1,price:16e5,originalPrice:0,quantity:2e4,quantitySold:0,quantityLocking:0,maxQtyPerOrder:10,minQtyPerOrder:1,startTime:"2019-07-14T17:00:00Z",endTime:"2025-12-30T23:59:00Z",position:1,color:"AFE2AF",seatSections:[{id:642,ticketTypeId:23,sectionId:385,capacity:0,status:0,createdAt:"2023-08-04T14:16:12.445576Z",updatedAt:"2023-08-04T14:16:12.445576Z"}],imageUrl:"",createdAt:"2022-11-01T08:56:49.268371Z",updatedAt:"2022-11-16T04:29:40.58065Z"},elements:[{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M249.16,209.3H74.53V125.53A6.56,6.56,0,0,1,81.09,119H242.6a6.55,6.55,0,0,1,6.56,6.56Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M84.53,128.77H81.9l-.37,1H80.16l2.27-5.88H84l2.26,5.88H84.9Zm-2.29-1.08h1.94l-1-2.69Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M80.88,138.87H84a1.51,1.51,0,0,1,1.69,1.49,1.31,1.31,0,0,1-1,1.35,1.43,1.43,0,0,1,1.12,1.44,1.54,1.54,0,0,1-1.7,1.59H80.88Zm2.82,2.36a.65.65,0,1,0,0-1.3H82.13v1.3Zm0,2.44a.68.68,0,0,0,.76-.69.69.69,0,0,0-.76-.69H82.13v1.38Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M80.49,156.86a3,3,0,0,1,3.08-3,2.69,2.69,0,0,1,2.5,1.44l-1.07.52a1.63,1.63,0,0,0-1.43-.85,1.94,1.94,0,0,0,0,3.86,1.6,1.6,0,0,0,1.43-.86l1.07.52a2.73,2.73,0,0,1-2.5,1.45A3,3,0,0,1,80.49,156.86Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M80.63,169H83a2.94,2.94,0,1,1,0,5.87H80.63ZM83,173.75a1.76,1.76,0,0,0,1.84-1.83A1.72,1.72,0,0,0,83,170.08H81.89v3.67Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M81.23,183.93h4.16V185H82.48v1.28h2.84v1.08H82.48v1.36h2.91v1.08H81.23Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M81.28,198.88h4.16V200H82.53v1.28h2.85v1.07H82.53v2.45H81.28Z"}],attribute:{x:111.795,y:178.5,width:261.945,height:135.45,scaleX:0,scaleY:0,rotate:0}},{id:386,seatMapId:38,name:"B",isReservingSeat:!0,isStage:!1,capacity:0,ticketTypeId:24,status:1,ticketType:{id:24,name:"VIP (Không dành cho trẻ dưới 8 tuổi)",showingId:19,originalId:0,backgroundURL:"",status:2,bookingStatus:"",description:"tickettype description",isFree:!1,price:4e5,originalPrice:0,quantity:11e4,quantitySold:0,quantityLocking:0,maxQtyPerOrder:10,minQtyPerOrder:1,startTime:"2019-05-12T17:00:00Z",endTime:"2025-12-30T23:59:00Z",position:0,color:"",seatSections:[{id:643,ticketTypeId:24,sectionId:386,capacity:0,status:0,createdAt:"2023-08-04T14:17:05.700326Z",updatedAt:"2023-08-04T14:17:05.700326Z"}],imageUrl:"",createdAt:"2022-11-01T08:56:49.268371Z",updatedAt:"2022-11-16T04:29:42.565082Z"},elements:[{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M249.16,209.3v54.81a6,6,0,0,1-6,6H80.53a6,6,0,0,1-6-6V209.3Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M83.47,213.84a2.75,2.75,0,0,1,2.43,1.28l-1,.57a1.64,1.64,0,0,0-1.39-.74,1.93,1.93,0,0,0,0,3.85,2,2,0,0,0,1.27-.45v-.71H83.17v-1.07H86v2.24a3.25,3.25,0,0,1-2.5,1.11,3,3,0,1,1,0-6.08Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M84.6,232.41H81.83v2.47H80.58V229h1.25v2.31H84.6V229h1.26v5.88H84.6Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M82.59,244h1.25v5.87H82.59Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M82.7,262.43l-.45.55v1.8H81v-5.87h1.25v2.62l2.08-2.62h1.54l-2.34,2.76L86,264.78H84.48Z"},{type:"path",x:0,y:0,width:0,height:0,fill:"",data:"M163.61,214.85a2,2,0,1,1-2,2A2,2,0,0,1,163.61,214.85Zm-2,17a2,2,0,1,0,2-2A2,2,0,0,0,161.61,231.85Zm0,15a2,2,0,1,0,2-2A2,2,0,0,0,161.61,246.85Zm0,15a2,2,0,1,0,2-2A2,2,0,0,0,161.61,261.85Z"}],attribute:{x:111.795,y:313.95,width:261.945,height:91.215,scaleX:0,scaleY:0,rotate:0}}],createdAt:"2023-08-04T07:02:16.194291Z",updatedAt:"2023-08-04T07:02:16.194291Z"},du=()=>{var l;const d=Ne.useRef(null),n=Ne.useRef(),a=Ne.useRef();return Ne.useEffect(()=>{},[]),be.jsx("div",{style:{position:"relative",width:"90vw",height:"100vh"},ref:d,children:be.jsx(Nr.Stage,{width:720,height:620,ref:o=>{o&&(a.current=o)},onClick:o=>{var c;o.target==a.current&&((c=n.current)==null||c.nodes([]))},children:be.jsx(Nr.Layer,{children:be.jsx(Nr.Group,{name:"paths-group",children:rr&&Object.keys(rr).length&&((l=rr==null?void 0:rr.sections)==null?void 0:l.map(o=>{var c;return(c=o==null?void 0:o.elements)==null?void 0:c.map(({data:h,fill:v},m)=>be.jsx(Nr.Path,{key:m,data:h,fill:"#d3d3d3"}))}))})})})})},Bi={id:385,seatMapId:38,name:"A",isReservingSeat:!0,isStage:!1,capacity:0,ticketTypeId:23,status:1,rows:[{id:3953,name:"A",sectionId:385,status:1,seats:[{id:59733,name:"1",rowId:3953,status:1,position:0,x:97.68,y:126.85},{id:59734,name:"2",rowId:3953,status:1,position:1,x:108.68,y:126.85},{id:59735,name:"3",rowId:3953,status:1,position:2,x:119.68,y:126.85},{id:59736,name:"4",rowId:3953,status:1,position:3,x:130.68,y:126.85},{id:59737,name:"5",rowId:3953,status:1,position:4,x:141.68,y:126.85},{id:59738,name:"6",rowId:3953,status:1,position:5,x:152.68,y:126.85},{id:59739,name:"7",rowId:3953,status:1,position:6,x:163.68,y:126.85},{id:59740,name:"8",rowId:3953,status:1,position:7,x:174.68,y:126.85},{id:59741,name:"9",rowId:3953,status:1,position:8,x:185.68,y:126.85},{id:59742,name:"10",rowId:3953,status:1,position:9,x:196.68,y:126.85},{id:59743,name:"11",rowId:3953,status:1,position:10,x:207.68,y:126.85},{id:59744,name:"12",rowId:3953,status:1,position:11,x:218.68,y:126.85},{id:59745,name:"13",rowId:3953,status:1,position:12,x:229.68,y:126.85}]},{id:3954,name:"B",sectionId:385,status:1,seats:[{id:59746,name:"1",rowId:3954,status:1,position:0,x:97.68,y:141.85},{id:59747,name:"2",rowId:3954,status:1,position:1,x:108.68,y:141.85},{id:59748,name:"3",rowId:3954,status:1,position:2,x:119.68,y:141.85},{id:59749,name:"4",rowId:3954,status:1,position:3,x:130.68,y:141.85},{id:59750,name:"5",rowId:3954,status:1,position:4,x:141.68,y:141.85},{id:59751,name:"6",rowId:3954,status:1,position:5,x:152.68,y:141.85},{id:59752,name:"7",rowId:3954,status:1,position:6,x:163.68,y:141.85},{id:59753,name:"8",rowId:3954,status:1,position:7,x:174.68,y:141.85},{id:59754,name:"9",rowId:3954,status:1,position:8,x:185.68,y:141.85},{id:59755,name:"10",rowId:3954,status:1,position:9,x:196.68,y:141.85},{id:59756,name:"11",rowId:3954,status:1,position:10,x:207.68,y:141.85},{id:59757,name:"12",rowId:3954,status:1,position:11,x:218.68,y:141.85},{id:59758,name:"13",rowId:3954,status:1,position:12,x:229.68,y:141.85}]},{id:3955,name:"C",sectionId:385,status:1,seats:[{id:59759,name:"1",rowId:3955,status:1,position:0,x:97.68,y:156.85},{id:59760,name:"2",rowId:3955,status:1,position:1,x:108.68,y:156.85},{id:59761,name:"3",rowId:3955,status:1,position:2,x:119.68,y:156.85},{id:59762,name:"4",rowId:3955,status:1,position:3,x:130.68,y:156.85},{id:59763,name:"5",rowId:3955,status:1,position:4,x:141.68,y:156.85},{id:59764,name:"6",rowId:3955,status:1,position:5,x:152.68,y:156.85},{id:59765,name:"7",rowId:3955,status:1,position:6,x:163.68,y:156.85},{id:59766,name:"8",rowId:3955,status:1,position:7,x:174.68,y:156.85},{id:59767,name:"9",rowId:3955,status:1,position:8,x:185.68,y:156.85},{id:59768,name:"10",rowId:3955,status:1,position:9,x:196.68,y:156.85},{id:59769,name:"11",rowId:3955,status:1,position:10,x:207.68,y:156.85},{id:59770,name:"12",rowId:3955,status:1,position:11,x:218.68,y:156.85},{id:59771,name:"13",rowId:3955,status:1,position:12,x:229.68,y:156.85}]},{id:3956,name:"D",sectionId:385,status:1,seats:[{id:59772,name:"1",rowId:3956,status:1,position:0,x:97.68,y:171.85},{id:59773,name:"2",rowId:3956,status:1,position:1,x:108.68,y:171.85},{id:59774,name:"3",rowId:3956,status:1,position:2,x:119.68,y:171.85},{id:59775,name:"4",rowId:3956,status:1,position:3,x:130.68,y:171.85},{id:59776,name:"5",rowId:3956,status:1,position:4,x:141.68,y:171.85},{id:59777,name:"6",rowId:3956,status:1,position:5,x:152.68,y:171.85},{id:59778,name:"7",rowId:3956,status:1,position:6,x:163.68,y:171.85},{id:59779,name:"8",rowId:3956,status:1,position:7,x:174.68,y:171.85},{id:59780,name:"9",rowId:3956,status:1,position:8,x:185.68,y:171.85},{id:59781,name:"10",rowId:3956,status:1,position:9,x:196.68,y:171.85},{id:59782,name:"11",rowId:3956,status:1,position:10,x:207.68,y:171.85},{id:59783,name:"12",rowId:3956,status:1,position:11,x:218.68,y:171.85},{id:59784,name:"13",rowId:3956,status:1,position:12,x:229.68,y:171.85}]},{id:3957,name:"E",sectionId:385,status:1,seats:[{id:59785,name:"1",rowId:3957,status:1,position:0,x:97.68,y:186.85},{id:59786,name:"2",rowId:3957,status:1,position:1,x:108.68,y:186.85},{id:59787,name:"3",rowId:3957,status:1,position:2,x:119.68,y:186.85},{id:59788,name:"4",rowId:3957,status:1,position:3,x:130.68,y:186.85},{id:59789,name:"5",rowId:3957,status:1,position:4,x:141.68,y:186.85},{id:59790,name:"6",rowId:3957,status:1,position:5,x:152.68,y:186.85},{id:59791,name:"7",rowId:3957,status:1,position:6,x:163.68,y:186.85},{id:59792,name:"8",rowId:3957,status:1,position:7,x:174.68,y:186.85},{id:59793,name:"9",rowId:3957,status:1,position:8,x:185.68,y:186.85},{id:59794,name:"10",rowId:3957,status:1,position:9,x:196.68,y:186.85},{id:59795,name:"11",rowId:3957,status:1,position:10,x:207.68,y:186.85},{id:59796,name:"12",rowId:3957,status:1,position:11,x:218.68,y:186.85},{id:59797,name:"13",rowId:3957,status:1,position:12,x:229.68,y:186.85}]},{id:3958,name:"F",sectionId:385,status:1,seats:[{id:59798,name:"1",rowId:3958,status:1,position:0,x:97.68,y:201.85},{id:59799,name:"2",rowId:3958,status:1,position:1,x:108.68,y:201.85},{id:59800,name:"3",rowId:3958,status:1,position:2,x:119.68,y:201.85},{id:59801,name:"4",rowId:3958,status:1,position:3,x:130.68,y:201.85},{id:59802,name:"5",rowId:3958,status:1,position:4,x:141.68,y:201.85},{id:59803,name:"6",rowId:3958,status:1,position:5,x:152.68,y:201.85},{id:59804,name:"7",rowId:3958,status:1,position:6,x:163.68,y:201.85},{id:59805,name:"8",rowId:3958,status:1,position:7,x:174.68,y:201.85},{id:59806,name:"9",rowId:3958,status:1,position:8,x:185.68,y:201.85},{id:59807,name:"10",rowId:3958,status:1,position:9,x:196.68,y:201.85},{id:59808,name:"11",rowId:3958,status:1,position:10,x:207.68,y:201.85},{id:59809,name:"12",rowId:3958,status:1,position:11,x:218.68,y:201.85},{id:59810,name:"13",rowId:3958,status:1,position:12,x:229.68,y:201.85}]}],ticketType:{id:23,name:"VIP (Không dành cho trẻ dưới 8 tuổi)",showingId:19,originalId:0,backgroundURL:"",status:2,bookingStatus:"",description:"tickettype description",isFree:!1,price:16e5,originalPrice:0,quantity:2e4,quantitySold:0,quantityLocking:0,maxQtyPerOrder:10,minQtyPerOrder:1,startTime:"2019-07-14T17:00:00Z",endTime:"2025-12-30T23:59:00Z",position:1,color:"AFE2AF",seatSections:[{id:642,ticketTypeId:23,sectionId:385,capacity:0,status:0,createdAt:"2023-08-04T14:16:12.445576Z",updatedAt:"2023-08-04T14:16:12.445576Z"}],imageUrl:"",createdAt:"2022-11-01T08:56:49.268371Z",updatedAt:"2022-11-16T04:29:40.58065Z"}};var Vi={},kt={},qe={},De={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d._registerNode=d.Konva=d.glob=void 0;var n=Math.PI/180;function a(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}d.glob=typeof pt<"u"?pt:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},d.Konva={_global:d.glob,version:"9.2.0",isBrowser:a(),isUnminified:/param/.test((function(o){}).toString()),dblClickWindow:400,getAngle(o){return d.Konva.angleDeg?o*n:o},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return d.Konva.DD.isDragging},isDragReady(){return!!d.Konva.DD.node},releaseCanvasOnDestroy:!0,document:d.glob.document,_injectGlobal(o){d.glob.Konva=o}};const l=o=>{d.Konva[o.prototype.getClassName()]=o};d._registerNode=l,d.Konva._injectGlobal(d.Konva)})(De),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.Util=d.Transform=void 0;const n=De;class a{constructor(_=[1,0,0,1,0,0]){this.dirty=!1,this.m=_&&_.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new a(this.m)}copyInto(_){_.m[0]=this.m[0],_.m[1]=this.m[1],_.m[2]=this.m[2],_.m[3]=this.m[3],_.m[4]=this.m[4],_.m[5]=this.m[5]}point(_){var I=this.m;return{x:I[0]*_.x+I[2]*_.y+I[4],y:I[1]*_.x+I[3]*_.y+I[5]}}translate(_,I){return this.m[4]+=this.m[0]*_+this.m[2]*I,this.m[5]+=this.m[1]*_+this.m[3]*I,this}scale(_,I){return this.m[0]*=_,this.m[1]*=_,this.m[2]*=I,this.m[3]*=I,this}rotate(_){var I=Math.cos(_),D=Math.sin(_),H=this.m[0]*I+this.m[2]*D,w=this.m[1]*I+this.m[3]*D,z=this.m[0]*-D+this.m[2]*I,R=this.m[1]*-D+this.m[3]*I;return this.m[0]=H,this.m[1]=w,this.m[2]=z,this.m[3]=R,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(_,I){var D=this.m[0]+this.m[2]*I,H=this.m[1]+this.m[3]*I,w=this.m[2]+this.m[0]*_,z=this.m[3]+this.m[1]*_;return this.m[0]=D,this.m[1]=H,this.m[2]=w,this.m[3]=z,this}multiply(_){var I=this.m[0]*_.m[0]+this.m[2]*_.m[1],D=this.m[1]*_.m[0]+this.m[3]*_.m[1],H=this.m[0]*_.m[2]+this.m[2]*_.m[3],w=this.m[1]*_.m[2]+this.m[3]*_.m[3],z=this.m[0]*_.m[4]+this.m[2]*_.m[5]+this.m[4],R=this.m[1]*_.m[4]+this.m[3]*_.m[5]+this.m[5];return this.m[0]=I,this.m[1]=D,this.m[2]=H,this.m[3]=w,this.m[4]=z,this.m[5]=R,this}invert(){var _=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),I=this.m[3]*_,D=-this.m[1]*_,H=-this.m[2]*_,w=this.m[0]*_,z=_*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),R=_*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=I,this.m[1]=D,this.m[2]=H,this.m[3]=w,this.m[4]=z,this.m[5]=R,this}getMatrix(){return this.m}decompose(){var _=this.m[0],I=this.m[1],D=this.m[2],H=this.m[3],w=this.m[4],z=this.m[5],R=_*H-I*D;let G={x:w,y:z,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(_!=0||I!=0){var Q=Math.sqrt(_*_+I*I);G.rotation=I>0?Math.acos(_/Q):-Math.acos(_/Q),G.scaleX=Q,G.scaleY=R/Q,G.skewX=(_*D+I*H)/R,G.skewY=0}else if(D!=0||H!=0){var W=Math.sqrt(D*D+H*H);G.rotation=Math.PI/2-(H>0?Math.acos(-D/W):-Math.acos(D/W)),G.scaleX=R/W,G.scaleY=W,G.skewX=0,G.skewY=(_*D+I*H)/R}return G.rotation=d.Util._getRotation(G.rotation),G}}d.Transform=a;var l="[object Array]",o="[object Number]",c="[object String]",h="[object Boolean]",v=Math.PI/180,m=180/Math.PI,y="#",A="",M="0",E="Konva warning: ",S="Konva error: ",p="rgb(",C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},k=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,N=[];const U=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(f){setTimeout(f,60)};d.Util={_isElement(f){return!!(f&&f.nodeType==1)},_isFunction(f){return!!(f&&f.constructor&&f.call&&f.apply)},_isPlainObject(f){return!!f&&f.constructor===Object},_isArray(f){return Object.prototype.toString.call(f)===l},_isNumber(f){return Object.prototype.toString.call(f)===o&&!isNaN(f)&&isFinite(f)},_isString(f){return Object.prototype.toString.call(f)===c},_isBoolean(f){return Object.prototype.toString.call(f)===h},isObject(f){return f instanceof Object},isValidSelector(f){if(typeof f!="string")return!1;var _=f[0];return _==="#"||_==="."||_===_.toUpperCase()},_sign(f){return f===0||f>0?1:-1},requestAnimFrame(f){N.push(f),N.length===1&&U(function(){const _=N;N=[],_.forEach(function(I){I()})})},createCanvasElement(){var f=document.createElement("canvas");try{f.style=f.style||{}}catch{}return f},createImageElement(){return document.createElement("img")},_isInDocument(f){for(;f=f.parentNode;)if(f==document)return!0;return!1},_urlToImage(f,_){var I=d.Util.createImageElement();I.onload=function(){_(I)},I.src=f},_rgbToHex(f,_,I){return((1<<24)+(f<<16)+(_<<8)+I).toString(16).slice(1)},_hexToRgb(f){f=f.replace(y,A);var _=parseInt(f,16);return{r:_>>16&255,g:_>>8&255,b:_&255}},getRandomColor(){for(var f=(Math.random()*16777215<<0).toString(16);f.length<6;)f=M+f;return y+f},getRGB(f){var _;return f in C?(_=C[f],{r:_[0],g:_[1],b:_[2]}):f[0]===y?this._hexToRgb(f.substring(1)):f.substr(0,4)===p?(_=k.exec(f.replace(/ /g,"")),{r:parseInt(_[1],10),g:parseInt(_[2],10),b:parseInt(_[3],10)}):{r:0,g:0,b:0}},colorToRGBA(f){return f=f||"black",d.Util._namedColorToRBA(f)||d.Util._hex3ColorToRGBA(f)||d.Util._hex4ColorToRGBA(f)||d.Util._hex6ColorToRGBA(f)||d.Util._hex8ColorToRGBA(f)||d.Util._rgbColorToRGBA(f)||d.Util._rgbaColorToRGBA(f)||d.Util._hslColorToRGBA(f)},_namedColorToRBA(f){var _=C[f.toLowerCase()];return _?{r:_[0],g:_[1],b:_[2],a:1}:null},_rgbColorToRGBA(f){if(f.indexOf("rgb(")===0){f=f.match(/rgb\(([^)]+)\)/)[1];var _=f.split(/ *, */).map(Number);return{r:_[0],g:_[1],b:_[2],a:1}}},_rgbaColorToRGBA(f){if(f.indexOf("rgba(")===0){f=f.match(/rgba\(([^)]+)\)/)[1];var _=f.split(/ *, */).map((I,D)=>I.slice(-1)==="%"?D===3?parseInt(I)/100:parseInt(I)/100*255:Number(I));return{r:_[0],g:_[1],b:_[2],a:_[3]}}},_hex8ColorToRGBA(f){if(f[0]==="#"&&f.length===9)return{r:parseInt(f.slice(1,3),16),g:parseInt(f.slice(3,5),16),b:parseInt(f.slice(5,7),16),a:parseInt(f.slice(7,9),16)/255}},_hex6ColorToRGBA(f){if(f[0]==="#"&&f.length===7)return{r:parseInt(f.slice(1,3),16),g:parseInt(f.slice(3,5),16),b:parseInt(f.slice(5,7),16),a:1}},_hex4ColorToRGBA(f){if(f[0]==="#"&&f.length===5)return{r:parseInt(f[1]+f[1],16),g:parseInt(f[2]+f[2],16),b:parseInt(f[3]+f[3],16),a:parseInt(f[4]+f[4],16)/255}},_hex3ColorToRGBA(f){if(f[0]==="#"&&f.length===4)return{r:parseInt(f[1]+f[1],16),g:parseInt(f[2]+f[2],16),b:parseInt(f[3]+f[3],16),a:1}},_hslColorToRGBA(f){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(f)){const[_,...I]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(f),D=Number(I[0])/360,H=Number(I[1])/100,w=Number(I[2])/100;let z,R,G;if(H===0)return G=w*255,{r:Math.round(G),g:Math.round(G),b:Math.round(G),a:1};w<.5?z=w*(1+H):z=w+H-w*H;const Q=2*w-z,W=[0,0,0];for(let $=0;$<3;$++)R=D+1/3*-($-1),R<0&&R++,R>1&&R--,6*R<1?G=Q+(z-Q)*6*R:2*R<1?G=z:3*R<2?G=Q+(z-Q)*(2/3-R)*6:G=Q,W[$]=G*255;return{r:Math.round(W[0]),g:Math.round(W[1]),b:Math.round(W[2]),a:1}}},haveIntersection(f,_){return!(_.x>f.x+f.width||_.x+_.width<f.x||_.y>f.y+f.height||_.y+_.height<f.y)},cloneObject(f){var _={};for(var I in f)this._isPlainObject(f[I])?_[I]=this.cloneObject(f[I]):this._isArray(f[I])?_[I]=this.cloneArray(f[I]):_[I]=f[I];return _},cloneArray(f){return f.slice(0)},degToRad(f){return f*v},radToDeg(f){return f*m},_degToRad(f){return d.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),d.Util.degToRad(f)},_radToDeg(f){return d.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),d.Util.radToDeg(f)},_getRotation(f){return n.Konva.angleDeg?d.Util.radToDeg(f):f},_capitalize(f){return f.charAt(0).toUpperCase()+f.slice(1)},throw(f){throw new Error(S+f)},error(f){console.error(S+f)},warn(f){n.Konva.showWarnings&&console.warn(E+f)},each(f,_){for(var I in f)_(I,f[I])},_inRange(f,_,I){return _<=f&&f<I},_getProjectionToSegment(f,_,I,D,H,w){var z,R,G,Q=(f-I)*(f-I)+(_-D)*(_-D);if(Q==0)z=f,R=_,G=(H-I)*(H-I)+(w-D)*(w-D);else{var W=((H-f)*(I-f)+(w-_)*(D-_))/Q;W<0?(z=f,R=_,G=(f-H)*(f-H)+(_-w)*(_-w)):W>1?(z=I,R=D,G=(I-H)*(I-H)+(D-w)*(D-w)):(z=f+W*(I-f),R=_+W*(D-_),G=(z-H)*(z-H)+(R-w)*(R-w))}return[z,R,G]},_getProjectionToLine(f,_,I){var D=d.Util.cloneObject(f),H=Number.MAX_VALUE;return _.forEach(function(w,z){if(!(!I&&z===_.length-1)){var R=_[(z+1)%_.length],G=d.Util._getProjectionToSegment(w.x,w.y,R.x,R.y,f.x,f.y),Q=G[0],W=G[1],$=G[2];$<H&&(D.x=Q,D.y=W,H=$)}}),D},_prepareArrayForTween(f,_,I){var D,H=[],w=[];if(f.length>_.length){var z=_;_=f,f=z}for(D=0;D<f.length;D+=2)H.push({x:f[D],y:f[D+1]});for(D=0;D<_.length;D+=2)w.push({x:_[D],y:_[D+1]});var R=[];return w.forEach(function(G){var Q=d.Util._getProjectionToLine(G,H,I);R.push(Q.x),R.push(Q.y)}),R},_prepareToStringify(f){var _;f.visitedByCircularReferenceRemoval=!0;for(var I in f)if(f.hasOwnProperty(I)&&f[I]&&typeof f[I]=="object"){if(_=Object.getOwnPropertyDescriptor(f,I),f[I].visitedByCircularReferenceRemoval||d.Util._isElement(f[I]))if(_.configurable)delete f[I];else return null;else if(d.Util._prepareToStringify(f[I])===null)if(_.configurable)delete f[I];else return null}return delete f.visitedByCircularReferenceRemoval,f},_assign(f,_){for(var I in _)f[I]=_[I];return f},_getFirstPointerId(f){return f.touches?f.changedTouches[0].identifier:f.pointerId||999},releaseCanvas(...f){n.Konva.releaseCanvasOnDestroy&&f.forEach(_=>{_.width=0,_.height=0})},drawRoundedRectPath(f,_,I,D){let H=0,w=0,z=0,R=0;typeof D=="number"?H=w=z=R=Math.min(D,_/2,I/2):(H=Math.min(D[0]||0,_/2,I/2),w=Math.min(D[1]||0,_/2,I/2),R=Math.min(D[2]||0,_/2,I/2),z=Math.min(D[3]||0,_/2,I/2)),f.moveTo(H,0),f.lineTo(_-w,0),f.arc(_-w,w,w,Math.PI*3/2,0,!1),f.lineTo(_,I-R),f.arc(_-R,I-R,R,0,Math.PI/2,!1),f.lineTo(z,I),f.arc(z,I-z,z,Math.PI/2,Math.PI,!1),f.lineTo(0,H),f.arc(H,H,H,Math.PI,Math.PI*3/2,!1)}}}(qe);var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.getComponentValidator=ge.getBooleanValidator=ge.getNumberArrayValidator=ge.getFunctionValidator=ge.getStringOrGradientValidator=ge.getStringValidator=ge.getNumberOrAutoValidator=ge.getNumberOrArrayOfNumbersValidator=ge.getNumberValidator=ge.alphaComponent=ge.RGBComponent=void 0;const bt=De,Fe=qe;function Wt(d){return Fe.Util._isString(d)?'"'+d+'"':Object.prototype.toString.call(d)==="[object Number]"||Fe.Util._isBoolean(d)?d:Object.prototype.toString.call(d)}function hu(d){return d>255?255:d<0?0:Math.round(d)}ge.RGBComponent=hu;function cu(d){return d>1?1:d<1e-4?1e-4:d}ge.alphaComponent=cu;function fu(){if(bt.Konva.isUnminified)return function(d,n){return Fe.Util._isNumber(d)||Fe.Util.warn(Wt(d)+' is a not valid value for "'+n+'" attribute. The value should be a number.'),d}}ge.getNumberValidator=fu;function gu(d){if(bt.Konva.isUnminified)return function(n,a){let l=Fe.Util._isNumber(n),o=Fe.Util._isArray(n)&&n.length==d;return!l&&!o&&Fe.Util.warn(Wt(n)+' is a not valid value for "'+a+'" attribute. The value should be a number or Array<number>('+d+")"),n}}ge.getNumberOrArrayOfNumbersValidator=gu;function pu(){if(bt.Konva.isUnminified)return function(d,n){var a=Fe.Util._isNumber(d),l=d==="auto";return a||l||Fe.Util.warn(Wt(d)+' is a not valid value for "'+n+'" attribute. The value should be a number or "auto".'),d}}ge.getNumberOrAutoValidator=pu;function vu(){if(bt.Konva.isUnminified)return function(d,n){return Fe.Util._isString(d)||Fe.Util.warn(Wt(d)+' is a not valid value for "'+n+'" attribute. The value should be a string.'),d}}ge.getStringValidator=vu;function mu(){if(bt.Konva.isUnminified)return function(d,n){const a=Fe.Util._isString(d),l=Object.prototype.toString.call(d)==="[object CanvasGradient]"||d&&d.addColorStop;return a||l||Fe.Util.warn(Wt(d)+' is a not valid value for "'+n+'" attribute. The value should be a string or a native gradient.'),d}}ge.getStringOrGradientValidator=mu;function yu(){if(bt.Konva.isUnminified)return function(d,n){return Fe.Util._isFunction(d)||Fe.Util.warn(Wt(d)+' is a not valid value for "'+n+'" attribute. The value should be a function.'),d}}ge.getFunctionValidator=yu;function _u(){if(bt.Konva.isUnminified)return function(d,n){const a=Int8Array?Object.getPrototypeOf(Int8Array):null;return a&&d instanceof a||(Fe.Util._isArray(d)?d.forEach(function(l){Fe.Util._isNumber(l)||Fe.Util.warn('"'+n+'" attribute has non numeric element '+l+". Make sure that all elements are numbers.")}):Fe.Util.warn(Wt(d)+' is a not valid value for "'+n+'" attribute. The value should be a array of numbers.')),d}}ge.getNumberArrayValidator=_u;function Su(){if(bt.Konva.isUnminified)return function(d,n){var a=d===!0||d===!1;return a||Fe.Util.warn(Wt(d)+' is a not valid value for "'+n+'" attribute. The value should be a boolean.'),d}}ge.getBooleanValidator=Su;function Cu(d){if(bt.Konva.isUnminified)return function(n,a){return n==null||Fe.Util.isObject(n)||Fe.Util.warn(Wt(n)+' is a not valid value for "'+a+'" attribute. The value should be an object with properties '+d),n}}ge.getComponentValidator=Cu,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.Factory=void 0;const n=qe,a=ge;var l="get",o="set";d.Factory={addGetterSetter(c,h,v,m,y){d.Factory.addGetter(c,h,v),d.Factory.addSetter(c,h,m,y),d.Factory.addOverloadedGetterSetter(c,h)},addGetter(c,h,v){var m=l+n.Util._capitalize(h);c.prototype[m]=c.prototype[m]||function(){var y=this.attrs[h];return y===void 0?v:y}},addSetter(c,h,v,m){var y=o+n.Util._capitalize(h);c.prototype[y]||d.Factory.overWriteSetter(c,h,v,m)},overWriteSetter(c,h,v,m){var y=o+n.Util._capitalize(h);c.prototype[y]=function(A){return v&&A!==void 0&&A!==null&&(A=v.call(this,A,h)),this._setAttr(h,A),m&&m.call(this),this}},addComponentsGetterSetter(c,h,v,m,y){var A=v.length,M=n.Util._capitalize,E=l+M(h),S=o+M(h),p,C;c.prototype[E]=function(){var N={};for(p=0;p<A;p++)C=v[p],N[C]=this.getAttr(h+M(C));return N};var k=(0,a.getComponentValidator)(v);c.prototype[S]=function(N){var U=this.attrs[h],f;m&&(N=m.call(this,N)),k&&k.call(this,N,h);for(f in N)N.hasOwnProperty(f)&&this._setAttr(h+M(f),N[f]);return N||v.forEach(_=>{this._setAttr(h+M(_),void 0)}),this._fireChangeEvent(h,U,N),y&&y.call(this),this},d.Factory.addOverloadedGetterSetter(c,h)},addOverloadedGetterSetter(c,h){var v=n.Util._capitalize(h),m=o+v,y=l+v;c.prototype[h]=function(){return arguments.length?(this[m](arguments[0]),this):this[y]()}},addDeprecatedGetterSetter(c,h,v,m){n.Util.error("Adding deprecated "+h);var y=l+n.Util._capitalize(h),A=h+" property is deprecated and will be removed soon. Look at Konva change log for more information.";c.prototype[y]=function(){n.Util.error(A);var M=this.attrs[h];return M===void 0?v:M},d.Factory.addSetter(c,h,m,function(){n.Util.error(A)}),d.Factory.addOverloadedGetterSetter(c,h)},backCompat(c,h){n.Util.each(h,function(v,m){var y=c.prototype[m],A=l+n.Util._capitalize(v),M=o+n.Util._capitalize(v);function E(){y.apply(this,arguments),n.Util.error('"'+v+'" method is deprecated and will be removed soon. Use ""'+m+'" instead.')}c.prototype[v]=E,c.prototype[A]=E,c.prototype[M]=E})},afterSetFilter(){this._filterUpToDate=!1}}}(kt);var _n={},rn={},xt={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.HitContext=Kt.SceneContext=Kt.Context=void 0;const Es=qe,wu=De;function Pu(d){var n=[],a=d.length,l=Es.Util,o,c;for(o=0;o<a;o++)c=d[o],l._isNumber(c)?c=Math.round(c*1e3)/1e3:l._isString(c)||(c=c+""),n.push(c);return n}var Ts=",",Eu="(",Tu=")",ku="([",xu="])",Iu=";",Au="()",Ru="=",ks=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Lu=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const Nu=100;class Or{constructor(n){this.canvas=n,wu.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(n){n.fillEnabled()&&this._fill(n)}_fill(n){}strokeShape(n){n.hasStroke()&&this._stroke(n)}_stroke(n){}fillStrokeShape(n){n.attrs.fillAfterStrokeEnabled?(this.strokeShape(n),this.fillShape(n)):(this.fillShape(n),this.strokeShape(n))}getTrace(n,a){var l=this.traceArr,o=l.length,c="",h,v,m,y;for(h=0;h<o;h++)v=l[h],m=v.method,m?(y=v.args,c+=m,n?c+=Au:Es.Util._isArray(y[0])?c+=ku+y.join(Ts)+xu:(a&&(y=y.map(A=>typeof A=="number"?Math.floor(A):A)),c+=Eu+y.join(Ts)+Tu)):(c+=v.property,n||(c+=Ru+v.val)),c+=Iu;return c}clearTrace(){this.traceArr=[]}_trace(n){var a=this.traceArr,l;a.push(n),l=a.length,l>=Nu&&a.shift()}reset(){var n=this.getCanvas().getPixelRatio();this.setTransform(1*n,0,0,1*n,0,0)}getCanvas(){return this.canvas}clear(n){var a=this.getCanvas();n?this.clearRect(n.x||0,n.y||0,n.width||0,n.height||0):this.clearRect(0,0,a.getWidth()/a.pixelRatio,a.getHeight()/a.pixelRatio)}_applyLineCap(n){const a=n.attrs.lineCap;a&&this.setAttr("lineCap",a)}_applyOpacity(n){var a=n.getAbsoluteOpacity();a!==1&&this.setAttr("globalAlpha",a)}_applyLineJoin(n){const a=n.attrs.lineJoin;a&&this.setAttr("lineJoin",a)}setAttr(n,a){this._context[n]=a}arc(n,a,l,o,c,h){this._context.arc(n,a,l,o,c,h)}arcTo(n,a,l,o,c){this._context.arcTo(n,a,l,o,c)}beginPath(){this._context.beginPath()}bezierCurveTo(n,a,l,o,c,h){this._context.bezierCurveTo(n,a,l,o,c,h)}clearRect(n,a,l,o){this._context.clearRect(n,a,l,o)}clip(...n){this._context.clip.apply(this._context,n)}closePath(){this._context.closePath()}createImageData(n,a){var l=arguments;if(l.length===2)return this._context.createImageData(n,a);if(l.length===1)return this._context.createImageData(n)}createLinearGradient(n,a,l,o){return this._context.createLinearGradient(n,a,l,o)}createPattern(n,a){return this._context.createPattern(n,a)}createRadialGradient(n,a,l,o,c,h){return this._context.createRadialGradient(n,a,l,o,c,h)}drawImage(n,a,l,o,c,h,v,m,y){var A=arguments,M=this._context;A.length===3?M.drawImage(n,a,l):A.length===5?M.drawImage(n,a,l,o,c):A.length===9&&M.drawImage(n,a,l,o,c,h,v,m,y)}ellipse(n,a,l,o,c,h,v,m){this._context.ellipse(n,a,l,o,c,h,v,m)}isPointInPath(n,a,l,o){return l?this._context.isPointInPath(l,n,a,o):this._context.isPointInPath(n,a,o)}fill(...n){this._context.fill.apply(this._context,n)}fillRect(n,a,l,o){this._context.fillRect(n,a,l,o)}strokeRect(n,a,l,o){this._context.strokeRect(n,a,l,o)}fillText(n,a,l,o){o?this._context.fillText(n,a,l,o):this._context.fillText(n,a,l)}measureText(n){return this._context.measureText(n)}getImageData(n,a,l,o){return this._context.getImageData(n,a,l,o)}lineTo(n,a){this._context.lineTo(n,a)}moveTo(n,a){this._context.moveTo(n,a)}rect(n,a,l,o){this._context.rect(n,a,l,o)}putImageData(n,a,l){this._context.putImageData(n,a,l)}quadraticCurveTo(n,a,l,o){this._context.quadraticCurveTo(n,a,l,o)}restore(){this._context.restore()}rotate(n){this._context.rotate(n)}save(){this._context.save()}scale(n,a){this._context.scale(n,a)}setLineDash(n){this._context.setLineDash?this._context.setLineDash(n):"mozDash"in this._context?this._context.mozDash=n:"webkitLineDash"in this._context&&(this._context.webkitLineDash=n)}getLineDash(){return this._context.getLineDash()}setTransform(n,a,l,o,c,h){this._context.setTransform(n,a,l,o,c,h)}stroke(n){n?this._context.stroke(n):this._context.stroke()}strokeText(n,a,l,o){this._context.strokeText(n,a,l,o)}transform(n,a,l,o,c,h){this._context.transform(n,a,l,o,c,h)}translate(n,a){this._context.translate(n,a)}_enableTrace(){var n=this,a=ks.length,l=this.setAttr,o,c,h=function(v){var m=n[v],y;n[v]=function(){return c=Pu(Array.prototype.slice.call(arguments,0)),y=m.apply(n,arguments),n._trace({method:v,args:c}),y}};for(o=0;o<a;o++)h(ks[o]);n.setAttr=function(){l.apply(n,arguments);var v=arguments[0],m=arguments[1];(v==="shadowOffsetX"||v==="shadowOffsetY"||v==="shadowBlur")&&(m=m/this.canvas.getPixelRatio()),n._trace({property:v,val:m})}}_applyGlobalCompositeOperation(n){const a=n.attrs.globalCompositeOperation;var l=!a||a==="source-over";l||this.setAttr("globalCompositeOperation",a)}}Kt.Context=Or,Lu.forEach(function(d){Object.defineProperty(Or.prototype,d,{get(){return this._context[d]},set(n){this._context[d]=n}})});class Du extends Or{constructor(n,{willReadFrequently:a=!1}={}){super(n),this._context=n._canvas.getContext("2d",{willReadFrequently:a})}_fillColor(n){var a=n.fill();this.setAttr("fillStyle",a),n._fillFunc(this)}_fillPattern(n){this.setAttr("fillStyle",n._getFillPattern()),n._fillFunc(this)}_fillLinearGradient(n){var a=n._getLinearGradient();a&&(this.setAttr("fillStyle",a),n._fillFunc(this))}_fillRadialGradient(n){const a=n._getRadialGradient();a&&(this.setAttr("fillStyle",a),n._fillFunc(this))}_fill(n){const a=n.fill(),l=n.getFillPriority();if(a&&l==="color"){this._fillColor(n);return}const o=n.getFillPatternImage();if(o&&l==="pattern"){this._fillPattern(n);return}const c=n.getFillLinearGradientColorStops();if(c&&l==="linear-gradient"){this._fillLinearGradient(n);return}const h=n.getFillRadialGradientColorStops();if(h&&l==="radial-gradient"){this._fillRadialGradient(n);return}a?this._fillColor(n):o?this._fillPattern(n):c?this._fillLinearGradient(n):h&&this._fillRadialGradient(n)}_strokeLinearGradient(n){const a=n.getStrokeLinearGradientStartPoint(),l=n.getStrokeLinearGradientEndPoint(),o=n.getStrokeLinearGradientColorStops(),c=this.createLinearGradient(a.x,a.y,l.x,l.y);if(o){for(var h=0;h<o.length;h+=2)c.addColorStop(o[h],o[h+1]);this.setAttr("strokeStyle",c)}}_stroke(n){var a=n.dash(),l=n.getStrokeScaleEnabled();if(n.hasStroke()){if(!l){this.save();var o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(n),a&&n.dashEnabled()&&(this.setLineDash(a),this.setAttr("lineDashOffset",n.dashOffset())),this.setAttr("lineWidth",n.strokeWidth()),n.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var c=n.getStrokeLinearGradientColorStops();c?this._strokeLinearGradient(n):this.setAttr("strokeStyle",n.stroke()),n._strokeFunc(this),l||this.restore()}}_applyShadow(n){var a,l,o,c=(a=n.getShadowRGBA())!==null&&a!==void 0?a:"black",h=(l=n.getShadowBlur())!==null&&l!==void 0?l:5,v=(o=n.getShadowOffset())!==null&&o!==void 0?o:{x:0,y:0},m=n.getAbsoluteScale(),y=this.canvas.getPixelRatio(),A=m.x*y,M=m.y*y;this.setAttr("shadowColor",c),this.setAttr("shadowBlur",h*Math.min(Math.abs(A),Math.abs(M))),this.setAttr("shadowOffsetX",v.x*A),this.setAttr("shadowOffsetY",v.y*M)}}Kt.SceneContext=Du;class Ou extends Or{constructor(n){super(n),this._context=n._canvas.getContext("2d",{willReadFrequently:!0})}_fill(n){this.save(),this.setAttr("fillStyle",n.colorKey),n._fillFuncHit(this),this.restore()}strokeShape(n){n.hasHitStroke()&&this._stroke(n)}_stroke(n){if(n.hasHitStroke()){const c=n.getStrokeScaleEnabled();if(!c){this.save();var a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(n);var l=n.hitStrokeWidth(),o=l==="auto"?n.strokeWidth():l;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",n.colorKey),n._strokeFuncHit(this),c||this.restore()}}}Kt.HitContext=Ou,Object.defineProperty(xt,"__esModule",{value:!0}),xt.HitCanvas=xt.SceneCanvas=xt.Canvas=void 0;const Mr=qe,xs=Kt,Is=De,Mu=kt,Fu=ge;var Fr;function Uu(){if(Fr)return Fr;var d=Mr.Util.createCanvasElement(),n=d.getContext("2d");return Fr=function(){var a=Is.Konva._global.devicePixelRatio||1,l=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;return a/l}(),Mr.Util.releaseCanvas(d),Fr}class Ur{constructor(n){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var a=n||{},l=a.pixelRatio||Is.Konva.pixelRatio||Uu();this.pixelRatio=l,this._canvas=Mr.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(n){var a=this.pixelRatio;this.pixelRatio=n,this.setSize(this.getWidth()/a,this.getHeight()/a)}setWidth(n){this.width=this._canvas.width=n*this.pixelRatio,this._canvas.style.width=n+"px";var a=this.pixelRatio,l=this.getContext()._context;l.scale(a,a)}setHeight(n){this.height=this._canvas.height=n*this.pixelRatio,this._canvas.style.height=n+"px";var a=this.pixelRatio,l=this.getContext()._context;l.scale(a,a)}getWidth(){return this.width}getHeight(){return this.height}setSize(n,a){this.setWidth(n||0),this.setHeight(a||0)}toDataURL(n,a){try{return this._canvas.toDataURL(n,a)}catch{try{return this._canvas.toDataURL()}catch(o){return Mr.Util.error("Unable to get data URL. "+o.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}xt.Canvas=Ur,Mu.Factory.addGetterSetter(Ur,"pixelRatio",void 0,(0,Fu.getNumberValidator)());class Gu extends Ur{constructor(n={width:0,height:0,willReadFrequently:!1}){super(n),this.context=new xs.SceneContext(this,{willReadFrequently:n.willReadFrequently}),this.setSize(n.width,n.height)}}xt.SceneCanvas=Gu;class zu extends Ur{constructor(n={width:0,height:0}){super(n),this.hitCanvas=!0,this.context=new xs.HitContext(this),this.setSize(n.width,n.height)}}xt.HitCanvas=zu;var Gr={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.DD=void 0;const n=De,a=qe;d.DD={get isDragging(){var l=!1;return d.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(l=!0)}),l},justDragged:!1,get node(){var l;return d.DD._dragElements.forEach(o=>{l=o.node}),l},_dragElements:new Map,_drag(l){const o=[];d.DD._dragElements.forEach((c,h)=>{const{node:v}=c,m=v.getStage();m.setPointersPositions(l),c.pointerId===void 0&&(c.pointerId=a.Util._getFirstPointerId(l));const y=m._changedPointerPositions.find(E=>E.id===c.pointerId);if(y){if(c.dragStatus!=="dragging"){var A=v.dragDistance(),M=Math.max(Math.abs(y.x-c.startPointerPos.x),Math.abs(y.y-c.startPointerPos.y));if(M<A||(v.startDrag({evt:l}),!v.isDragging()))return}v._setDragPosition(l,c),o.push(v)}}),o.forEach(c=>{c.fire("dragmove",{type:"dragmove",target:c,evt:l},!0)})},_endDragBefore(l){const o=[];d.DD._dragElements.forEach(c=>{const{node:h}=c,v=h.getStage();if(l&&v.setPointersPositions(l),!v._changedPointerPositions.find(A=>A.id===c.pointerId))return;(c.dragStatus==="dragging"||c.dragStatus==="stopped")&&(d.DD.justDragged=!0,n.Konva._mouseListenClick=!1,n.Konva._touchListenClick=!1,n.Konva._pointerListenClick=!1,c.dragStatus="stopped");const y=c.node.getLayer()||c.node instanceof n.Konva.Stage&&c.node;y&&o.indexOf(y)===-1&&o.push(y)}),o.forEach(c=>{c.draw()})},_endDragAfter(l){d.DD._dragElements.forEach((o,c)=>{o.dragStatus==="stopped"&&o.node.fire("dragend",{type:"dragend",target:o.node,evt:l},!0),o.dragStatus!=="dragging"&&d.DD._dragElements.delete(c)})}},n.Konva.isBrowser&&(window.addEventListener("mouseup",d.DD._endDragBefore,!0),window.addEventListener("touchend",d.DD._endDragBefore,!0),window.addEventListener("mousemove",d.DD._drag),window.addEventListener("touchmove",d.DD._drag),window.addEventListener("mouseup",d.DD._endDragAfter,!1),window.addEventListener("touchend",d.DD._endDragAfter,!1))})(Gr),Object.defineProperty(rn,"__esModule",{value:!0}),rn.Node=void 0;const ce=qe,ir=kt,zr=xt,Sn=De,vt=Gr,Ue=ge;var Hr="absoluteOpacity",Br="allEventListeners",Yt="absoluteTransform",As="absoluteScale",Cn="canvas",Hu="Change",Bu="children",Vu="konva",ji="listening",Rs="mouseenter",Ls="mouseleave",Ns="set",Ds="Shape",Vr=" ",Os="stage",an="transform",ju="Stage",bi="visible",bu=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Vr);let Wu=1;class ae{constructor(n){this._id=Wu++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(n),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(n){(n===an||n===Yt)&&this._cache.get(n)?this._cache.get(n).dirty=!0:n?this._cache.delete(n):this._cache.clear()}_getCache(n,a){var l=this._cache.get(n),o=n===an||n===Yt,c=l===void 0||o&&l.dirty===!0;return c&&(l=a.call(this),this._cache.set(n,l)),l}_calculate(n,a,l){if(!this._attachedDepsListeners.get(n)){const o=a.map(c=>c+"Change.konva").join(Vr);this.on(o,()=>{this._clearCache(n)}),this._attachedDepsListeners.set(n,!0)}return this._getCache(n,l)}_getCanvasCache(){return this._cache.get(Cn)}_clearSelfAndDescendantCache(n){this._clearCache(n),n===Yt&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Cn)){const{scene:n,filter:a,hit:l}=this._cache.get(Cn);ce.Util.releaseCanvas(n,a,l),this._cache.delete(Cn)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(n){var a=n||{},l={};(a.x===void 0||a.y===void 0||a.width===void 0||a.height===void 0)&&(l=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var o=Math.ceil(a.width||l.width),c=Math.ceil(a.height||l.height),h=a.pixelRatio,v=a.x===void 0?Math.floor(l.x):a.x,m=a.y===void 0?Math.floor(l.y):a.y,y=a.offset||0,A=a.drawBorder||!1,M=a.hitCanvasPixelRatio||1;if(!o||!c){ce.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}o+=y*2+1,c+=y*2+1,v-=y,m-=y;var E=new zr.SceneCanvas({pixelRatio:h,width:o,height:c}),S=new zr.SceneCanvas({pixelRatio:h,width:0,height:0,willReadFrequently:!0}),p=new zr.HitCanvas({pixelRatio:M,width:o,height:c}),C=E.getContext(),k=p.getContext();return p.isCache=!0,E.isCache=!0,this._cache.delete(Cn),this._filterUpToDate=!1,a.imageSmoothingEnabled===!1&&(E.getContext()._context.imageSmoothingEnabled=!1,S.getContext()._context.imageSmoothingEnabled=!1),C.save(),k.save(),C.translate(-v,-m),k.translate(-v,-m),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Hr),this._clearSelfAndDescendantCache(As),this.drawScene(E,this),this.drawHit(p,this),this._isUnderCache=!1,C.restore(),k.restore(),A&&(C.save(),C.beginPath(),C.rect(0,0,o,c),C.closePath(),C.setAttr("strokeStyle","red"),C.setAttr("lineWidth",5),C.stroke(),C.restore()),this._cache.set(Cn,{scene:E,filter:S,hit:p,x:v,y:m}),this._requestDraw(),this}isCached(){return this._cache.has(Cn)}getClientRect(n){throw new Error('abstract "getClientRect" method call')}_transformedRect(n,a){var l=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],o,c,h,v,m=this.getAbsoluteTransform(a);return l.forEach(function(y){var A=m.point(y);o===void 0&&(o=h=A.x,c=v=A.y),o=Math.min(o,A.x),c=Math.min(c,A.y),h=Math.max(h,A.x),v=Math.max(v,A.y)}),{x:o,y:c,width:h-o,height:v-c}}_drawCachedSceneCanvas(n){n.save(),n._applyOpacity(this),n._applyGlobalCompositeOperation(this);const a=this._getCanvasCache();n.translate(a.x,a.y);var l=this._getCachedSceneCanvas(),o=l.pixelRatio;n.drawImage(l._canvas,0,0,l.width/o,l.height/o),n.restore()}_drawCachedHitCanvas(n){var a=this._getCanvasCache(),l=a.hit;n.save(),n.translate(a.x,a.y),n.drawImage(l._canvas,0,0,l.width/l.pixelRatio,l.height/l.pixelRatio),n.restore()}_getCachedSceneCanvas(){var n=this.filters(),a=this._getCanvasCache(),l=a.scene,o=a.filter,c=o.getContext(),h,v,m,y;if(n){if(!this._filterUpToDate){var A=l.pixelRatio;o.setSize(l.width/l.pixelRatio,l.height/l.pixelRatio);try{for(h=n.length,c.clear(),c.drawImage(l._canvas,0,0,l.getWidth()/A,l.getHeight()/A),v=c.getImageData(0,0,o.getWidth(),o.getHeight()),m=0;m<h;m++){if(y=n[m],typeof y!="function"){ce.Util.error("Filter should be type of function, but got "+typeof y+" instead. Please check correct filters");continue}y.call(this,v),c.putImageData(v,0,0)}}catch(M){ce.Util.error("Unable to apply filter. "+M.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return o}return l}on(n,a){if(this._cache&&this._cache.delete(Br),arguments.length===3)return this._delegate.apply(this,arguments);var l=n.split(Vr),o=l.length,c,h,v,m,y;for(c=0;c<o;c++)h=l[c],v=h.split("."),m=v[0],y=v[1]||"",this.eventListeners[m]||(this.eventListeners[m]=[]),this.eventListeners[m].push({name:y,handler:a});return this}off(n,a){var l=(n||"").split(Vr),o=l.length,c,h,v,m,y,A;if(this._cache&&this._cache.delete(Br),!n)for(h in this.eventListeners)this._off(h);for(c=0;c<o;c++)if(v=l[c],m=v.split("."),y=m[0],A=m[1],y)this.eventListeners[y]&&this._off(y,A,a);else for(h in this.eventListeners)this._off(h,A,a);return this}dispatchEvent(n){var a={target:this,type:n.type,evt:n};return this.fire(n.type,a),this}addEventListener(n,a){return this.on(n,function(l){a.call(this,l.evt)}),this}removeEventListener(n){return this.off(n),this}_delegate(n,a,l){var o=this;this.on(n,function(c){for(var h=c.target.findAncestors(a,!0,o),v=0;v<h.length;v++)c=ce.Util.cloneObject(c),c.currentTarget=h[v],l.call(h[v],c)})}remove(){return this.isDragging()&&this.stopDrag(),vt.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Yt),this._clearSelfAndDescendantCache(Hr),this._clearSelfAndDescendantCache(As),this._clearSelfAndDescendantCache(Os),this._clearSelfAndDescendantCache(bi),this._clearSelfAndDescendantCache(ji)}_remove(){this._clearCaches();var n=this.getParent();n&&n.children&&(n.children.splice(this.index,1),n._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(n){var a="get"+ce.Util._capitalize(n);return ce.Util._isFunction(this[a])?this[a]():this.attrs[n]}getAncestors(){for(var n=this.getParent(),a=[];n;)a.push(n),n=n.getParent();return a}getAttrs(){return this.attrs||{}}setAttrs(n){return this._batchTransformChanges(()=>{var a,l;if(!n)return this;for(a in n)a!==Bu&&(l=Ns+ce.Util._capitalize(a),ce.Util._isFunction(this[l])?this[l](n[a]):this._setAttr(a,n[a]))}),this}isListening(){return this._getCache(ji,this._isListening)}_isListening(n){if(!this.listening())return!1;const l=this.getParent();return l&&l!==n&&this!==n?l._isListening(n):!0}isVisible(){return this._getCache(bi,this._isVisible)}_isVisible(n){if(!this.visible())return!1;const l=this.getParent();return l&&l!==n&&this!==n?l._isVisible(n):!0}shouldDrawHit(n,a=!1){if(n)return this._isVisible(n)&&this._isListening(n);var l=this.getLayer(),o=!1;vt.DD._dragElements.forEach(h=>{h.dragStatus==="dragging"&&(h.node.nodeType==="Stage"||h.node.getLayer()===l)&&(o=!0)});var c=!a&&!Sn.Konva.hitOnDragEnabled&&o;return this.isListening()&&this.isVisible()&&!c}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var n=this.getDepth(),a=this,l=0,o,c,h,v;function m(y){for(o=[],c=y.length,h=0;h<c;h++)v=y[h],l++,v.nodeType!==Ds&&(o=o.concat(v.getChildren().slice())),v._id===a._id&&(h=c);o.length>0&&o[0].getDepth()<=n&&m(o)}return a.nodeType!==ju&&m(a.getStage().getChildren()),l}getDepth(){for(var n=0,a=this.parent;a;)n++,a=a.parent;return n}_batchTransformChanges(n){this._batchingTransformChange=!0,n(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(an),this._clearSelfAndDescendantCache(Yt)),this._needClearTransformCache=!1}setPosition(n){return this._batchTransformChanges(()=>{this.x(n.x),this.y(n.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var n=this.getStage().getPointerPosition();if(!n)return null;var a=this.getAbsoluteTransform().copy();return a.invert(),a.point(n)}getAbsolutePosition(n){let a=!1,l=this.parent;for(;l;){if(l.isCached()){a=!0;break}l=l.parent}a&&!n&&(n=!0);var o=this.getAbsoluteTransform(n).getMatrix(),c=new ce.Transform,h=this.offset();return c.m=o.slice(),c.translate(h.x,h.y),c.getTranslation()}setAbsolutePosition(n){var a=this._clearTransform();this.attrs.x=a.x,this.attrs.y=a.y,delete a.x,delete a.y,this._clearCache(an);var l=this._getAbsoluteTransform().copy();return l.invert(),l.translate(n.x,n.y),n={x:this.attrs.x+l.getTranslation().x,y:this.attrs.y+l.getTranslation().y},this._setTransform(a),this.setPosition({x:n.x,y:n.y}),this._clearCache(an),this._clearSelfAndDescendantCache(Yt),this}_setTransform(n){var a;for(a in n)this.attrs[a]=n[a]}_clearTransform(){var n={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,n}move(n){var a=n.x,l=n.y,o=this.x(),c=this.y();return a!==void 0&&(o+=a),l!==void 0&&(c+=l),this.setPosition({x:o,y:c}),this}_eachAncestorReverse(n,a){var l=[],o=this.getParent(),c,h;if(!(a&&a._id===this._id)){for(l.unshift(this);o&&(!a||o._id!==a._id);)l.unshift(o),o=o.parent;for(c=l.length,h=0;h<c;h++)n(l[h])}}rotate(n){return this.rotation(this.rotation()+n),this}moveToTop(){if(!this.parent)return ce.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var n=this.index,a=this.parent.getChildren().length;return n<a-1?(this.parent.children.splice(n,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ce.Util.warn("Node has no parent. moveUp function is ignored."),!1;var n=this.index,a=this.parent.getChildren().length;return n<a-1?(this.parent.children.splice(n,1),this.parent.children.splice(n+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ce.Util.warn("Node has no parent. moveDown function is ignored."),!1;var n=this.index;return n>0?(this.parent.children.splice(n,1),this.parent.children.splice(n-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ce.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var n=this.index;return n>0?(this.parent.children.splice(n,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(n){if(!this.parent)return ce.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(n<0||n>=this.parent.children.length)&&ce.Util.warn("Unexpected value "+n+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var a=this.index;return this.parent.children.splice(a,1),this.parent.children.splice(n,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Hr,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var n=this.opacity(),a=this.getParent();return a&&!a._isUnderCache&&(n*=a.getAbsoluteOpacity()),n}moveTo(n){return this.getParent()!==n&&(this._remove(),n.add(this)),this}toObject(){var n={},a=this.getAttrs(),l,o,c,h,v;n.attrs={};for(l in a)o=a[l],v=ce.Util.isObject(o)&&!ce.Util._isPlainObject(o)&&!ce.Util._isArray(o),!v&&(c=typeof this[l]=="function"&&this[l],delete a[l],h=c?c.call(this):null,a[l]=o,h!==o&&(n.attrs[l]=o));return n.className=this.getClassName(),ce.Util._prepareToStringify(n)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(n,a,l){var o=[];a&&this._isMatch(n)&&o.push(this);for(var c=this.parent;c;){if(c===l)return o;c._isMatch(n)&&o.push(c),c=c.parent}return o}isAncestorOf(n){return!1}findAncestor(n,a,l){return this.findAncestors(n,a,l)[0]}_isMatch(n){if(!n)return!1;if(typeof n=="function")return n(this);var a=n.replace(/ /g,"").split(","),l=a.length,o,c;for(o=0;o<l;o++)if(c=a[o],ce.Util.isValidSelector(c)||(ce.Util.warn('Selector "'+c+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ce.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ce.Util.warn("Konva is awesome, right?")),c.charAt(0)==="#"){if(this.id()===c.slice(1))return!0}else if(c.charAt(0)==="."){if(this.hasName(c.slice(1)))return!0}else if(this.className===c||this.nodeType===c)return!0;return!1}getLayer(){var n=this.getParent();return n?n.getLayer():null}getStage(){return this._getCache(Os,this._getStage)}_getStage(){var n=this.getParent();if(n)return n.getStage()}fire(n,a={},l){return a.target=a.target||this,l?this._fireAndBubble(n,a):this._fire(n,a),this}getAbsoluteTransform(n){return n?this._getAbsoluteTransform(n):this._getCache(Yt,this._getAbsoluteTransform)}_getAbsoluteTransform(n){var a;if(n)return a=new ce.Transform,this._eachAncestorReverse(function(o){var c=o.transformsEnabled();c==="all"?a.multiply(o.getTransform()):c==="position"&&a.translate(o.x()-o.offsetX(),o.y()-o.offsetY())},n),a;a=this._cache.get(Yt)||new ce.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(a):a.reset();var l=this.transformsEnabled();if(l==="all")a.multiply(this.getTransform());else if(l==="position"){const o=this.attrs.x||0,c=this.attrs.y||0,h=this.attrs.offsetX||0,v=this.attrs.offsetY||0;a.translate(o-h,c-v)}return a.dirty=!1,a}getAbsoluteScale(n){for(var a=this;a;)a._isUnderCache&&(n=a),a=a.getParent();const o=this.getAbsoluteTransform(n).decompose();return{x:o.scaleX,y:o.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(an,this._getTransform)}_getTransform(){var n,a,l=this._cache.get(an)||new ce.Transform;l.reset();var o=this.x(),c=this.y(),h=Sn.Konva.getAngle(this.rotation()),v=(n=this.attrs.scaleX)!==null&&n!==void 0?n:1,m=(a=this.attrs.scaleY)!==null&&a!==void 0?a:1,y=this.attrs.skewX||0,A=this.attrs.skewY||0,M=this.attrs.offsetX||0,E=this.attrs.offsetY||0;return(o!==0||c!==0)&&l.translate(o,c),h!==0&&l.rotate(h),(y!==0||A!==0)&&l.skew(y,A),(v!==1||m!==1)&&l.scale(v,m),(M!==0||E!==0)&&l.translate(-1*M,-1*E),l.dirty=!1,l}clone(n){var a=ce.Util.cloneObject(this.attrs),l,o,c,h,v;for(l in n)a[l]=n[l];var m=new this.constructor(a);for(l in this.eventListeners)for(o=this.eventListeners[l],c=o.length,h=0;h<c;h++)v=o[h],v.name.indexOf(Vu)<0&&(m.eventListeners[l]||(m.eventListeners[l]=[]),m.eventListeners[l].push(v));return m}_toKonvaCanvas(n){n=n||{};var a=this.getClientRect(),l=this.getStage(),o=n.x!==void 0?n.x:Math.floor(a.x),c=n.y!==void 0?n.y:Math.floor(a.y),h=n.pixelRatio||1,v=new zr.SceneCanvas({width:n.width||Math.ceil(a.width)||(l?l.width():0),height:n.height||Math.ceil(a.height)||(l?l.height():0),pixelRatio:h}),m=v.getContext();return n.imageSmoothingEnabled===!1&&(m._context.imageSmoothingEnabled=!1),m.save(),(o||c)&&m.translate(-1*o,-1*c),this.drawScene(v),m.restore(),v}toCanvas(n){return this._toKonvaCanvas(n)._canvas}toDataURL(n){n=n||{};var a=n.mimeType||null,l=n.quality||null,o=this._toKonvaCanvas(n).toDataURL(a,l);return n.callback&&n.callback(o),o}toImage(n){return new Promise((a,l)=>{try{const o=n==null?void 0:n.callback;o&&delete n.callback,ce.Util._urlToImage(this.toDataURL(n),function(c){a(c),o==null||o(c)})}catch(o){l(o)}})}toBlob(n){return new Promise((a,l)=>{try{const o=n==null?void 0:n.callback;o&&delete n.callback,this.toCanvas(n).toBlob(c=>{a(c),o==null||o(c)})}catch(o){l(o)}})}setSize(n){return this.width(n.width),this.height(n.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Sn.Konva.dragDistance}_off(n,a,l){var o=this.eventListeners[n],c,h,v;for(c=0;c<o.length;c++)if(h=o[c].name,v=o[c].handler,(h!=="konva"||a==="konva")&&(!a||h===a)&&(!l||l===v)){if(o.splice(c,1),o.length===0){delete this.eventListeners[n];break}c--}}_fireChangeEvent(n,a,l){this._fire(n+Hu,{oldVal:a,newVal:l})}addName(n){if(!this.hasName(n)){var a=this.name(),l=a?a+" "+n:n;this.name(l)}return this}hasName(n){if(!n)return!1;const a=this.name();if(!a)return!1;var l=(a||"").split(/\s/g);return l.indexOf(n)!==-1}removeName(n){var a=(this.name()||"").split(/\s/g),l=a.indexOf(n);return l!==-1&&(a.splice(l,1),this.name(a.join(" "))),this}setAttr(n,a){var l=this[Ns+ce.Util._capitalize(n)];return ce.Util._isFunction(l)?l.call(this,a):this._setAttr(n,a),this}_requestDraw(){if(Sn.Konva.autoDrawEnabled){const n=this.getLayer()||this.getStage();n==null||n.batchDraw()}}_setAttr(n,a){var l=this.attrs[n];l===a&&!ce.Util.isObject(a)||(a==null?delete this.attrs[n]:this.attrs[n]=a,this._shouldFireChangeEvents&&this._fireChangeEvent(n,l,a),this._requestDraw())}_setComponentAttr(n,a,l){var o;l!==void 0&&(o=this.attrs[n],o||(this.attrs[n]=this.getAttr(n)),this.attrs[n][a]=l,this._fireChangeEvent(n,o,l))}_fireAndBubble(n,a,l){a&&this.nodeType===Ds&&(a.target=this);var o=(n===Rs||n===Ls)&&(l&&(this===l||this.isAncestorOf&&this.isAncestorOf(l))||this.nodeType==="Stage"&&!l);if(!o){this._fire(n,a);var c=(n===Rs||n===Ls)&&l&&l.isAncestorOf&&l.isAncestorOf(this)&&!l.isAncestorOf(this.parent);(a&&!a.cancelBubble||!a)&&this.parent&&this.parent.isListening()&&!c&&(l&&l.parent?this._fireAndBubble.call(this.parent,n,a,l):this._fireAndBubble.call(this.parent,n,a))}}_getProtoListeners(n){var a,l,o;const c=(a=this._cache.get(Br))!==null&&a!==void 0?a:{};let h=c==null?void 0:c[n];if(h===void 0){h=[];let v=Object.getPrototypeOf(this);for(;v;){const m=(o=(l=v.eventListeners)===null||l===void 0?void 0:l[n])!==null&&o!==void 0?o:[];h.push(...m),v=Object.getPrototypeOf(v)}c[n]=h,this._cache.set(Br,c)}return h}_fire(n,a){a=a||{},a.currentTarget=this,a.type=n;const l=this._getProtoListeners(n);if(l)for(var o=0;o<l.length;o++)l[o].handler.call(this,a);const c=this.eventListeners[n];if(c)for(var o=0;o<c.length;o++)c[o].handler.call(this,a)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(n){var a=n?n.pointerId:void 0,l=this.getStage(),o=this.getAbsolutePosition(),c=l._getPointerById(a)||l._changedPointerPositions[0]||o;vt.DD._dragElements.set(this._id,{node:this,startPointerPos:c,offset:{x:c.x-o.x,y:c.y-o.y},dragStatus:"ready",pointerId:a})}startDrag(n,a=!0){vt.DD._dragElements.has(this._id)||this._createDragElement(n);const l=vt.DD._dragElements.get(this._id);l.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:n&&n.evt},a)}_setDragPosition(n,a){const l=this.getStage()._getPointerById(a.pointerId);if(l){var o={x:l.x-a.offset.x,y:l.y-a.offset.y},c=this.dragBoundFunc();if(c!==void 0){const h=c.call(this,o,n);h?o=h:ce.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==o.x||this._lastPos.y!==o.y)&&(this.setAbsolutePosition(o),this._requestDraw()),this._lastPos=o}}stopDrag(n){const a=vt.DD._dragElements.get(this._id);a&&(a.dragStatus="stopped"),vt.DD._endDragBefore(n),vt.DD._endDragAfter(n)}setDraggable(n){this._setAttr("draggable",n),this._dragChange()}isDragging(){const n=vt.DD._dragElements.get(this._id);return n?n.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(n){var a=n.evt.button!==void 0,l=!a||Sn.Konva.dragButtons.indexOf(n.evt.button)>=0;if(l&&!this.isDragging()){var o=!1;vt.DD._dragElements.forEach(c=>{this.isAncestorOf(c.node)&&(o=!0)}),o||this._createDragElement(n)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var n=this.getStage();if(!n)return;const a=vt.DD._dragElements.get(this._id),l=a&&a.dragStatus==="dragging",o=a&&a.dragStatus==="ready";l?this.stopDrag():o&&vt.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(n={x:0,y:0}){const a=this.getStage();if(!a)return!1;const l={x:-n.x,y:-n.y,width:a.width()+2*n.x,height:a.height()+2*n.y};return ce.Util.haveIntersection(l,this.getClientRect())}static create(n,a){return ce.Util._isString(n)&&(n=JSON.parse(n)),this._createNode(n,a)}static _createNode(n,a){var l=ae.prototype.getClassName.call(n),o=n.children,c,h,v;a&&(n.attrs.container=a),Sn.Konva[l]||(ce.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape");const m=Sn.Konva[l];if(c=new m(n.attrs),o)for(h=o.length,v=0;v<h;v++)c.add(ae._createNode(o[v]));return c}}rn.Node=ae,ae.prototype.nodeType="Node",ae.prototype._attrsAffectingSize=[],ae.prototype.eventListeners={},ae.prototype.on.call(ae.prototype,bu,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(an),this._clearSelfAndDescendantCache(Yt)}),ae.prototype.on.call(ae.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(bi)}),ae.prototype.on.call(ae.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(ji)}),ae.prototype.on.call(ae.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Hr)});const Ce=ir.Factory.addGetterSetter;Ce(ae,"zIndex"),Ce(ae,"absolutePosition"),Ce(ae,"position"),Ce(ae,"x",0,(0,Ue.getNumberValidator)()),Ce(ae,"y",0,(0,Ue.getNumberValidator)()),Ce(ae,"globalCompositeOperation","source-over",(0,Ue.getStringValidator)()),Ce(ae,"opacity",1,(0,Ue.getNumberValidator)()),Ce(ae,"name","",(0,Ue.getStringValidator)()),Ce(ae,"id","",(0,Ue.getStringValidator)()),Ce(ae,"rotation",0,(0,Ue.getNumberValidator)()),ir.Factory.addComponentsGetterSetter(ae,"scale",["x","y"]),Ce(ae,"scaleX",1,(0,Ue.getNumberValidator)()),Ce(ae,"scaleY",1,(0,Ue.getNumberValidator)()),ir.Factory.addComponentsGetterSetter(ae,"skew",["x","y"]),Ce(ae,"skewX",0,(0,Ue.getNumberValidator)()),Ce(ae,"skewY",0,(0,Ue.getNumberValidator)()),ir.Factory.addComponentsGetterSetter(ae,"offset",["x","y"]),Ce(ae,"offsetX",0,(0,Ue.getNumberValidator)()),Ce(ae,"offsetY",0,(0,Ue.getNumberValidator)()),Ce(ae,"dragDistance",null,(0,Ue.getNumberValidator)()),Ce(ae,"width",0,(0,Ue.getNumberValidator)()),Ce(ae,"height",0,(0,Ue.getNumberValidator)()),Ce(ae,"listening",!0,(0,Ue.getBooleanValidator)()),Ce(ae,"preventDefault",!0,(0,Ue.getBooleanValidator)()),Ce(ae,"filters",null,function(d){return this._filterUpToDate=!1,d}),Ce(ae,"visible",!0,(0,Ue.getBooleanValidator)()),Ce(ae,"transformsEnabled","all",(0,Ue.getStringValidator)()),Ce(ae,"size"),Ce(ae,"dragBoundFunc"),Ce(ae,"draggable",!1,(0,Ue.getBooleanValidator)()),ir.Factory.backCompat(ae,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.releaseCapture=ct.setPointerCapture=ct.hasPointerCapture=ct.createEvent=ct.getCapturedShape=void 0;const Ku=De,ar=new Map,Ms=Ku.Konva._global.PointerEvent!==void 0;function Yu(d){return ar.get(d)}ct.getCapturedShape=Yu;function Wi(d){return{evt:d,pointerId:d.pointerId}}ct.createEvent=Wi;function Qu(d,n){return ar.get(d)===n}ct.hasPointerCapture=Qu;function Xu(d,n){Fs(d),n.getStage()&&(ar.set(d,n),Ms&&n._fire("gotpointercapture",Wi(new PointerEvent("gotpointercapture"))))}ct.setPointerCapture=Xu;function Fs(d,n){const a=ar.get(d);if(!a)return;const l=a.getStage();l&&l.content,ar.delete(d),Ms&&a._fire("lostpointercapture",Wi(new PointerEvent("lostpointercapture")))}ct.releaseCapture=Fs,function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.Shape=d.shapes=void 0;const n=De,a=qe,l=kt,o=rn,c=ge,h=De,v=ct;var m="hasShadow",y="shadowRGBA",A="patternImage",M="linearGradient",E="radialGradient";let S;function p(){return S||(S=a.Util.createCanvasElement().getContext("2d"),S)}d.shapes={};function C(z){const R=this.attrs.fillRule;R?z.fill(R):z.fill()}function k(z){z.stroke()}function N(z){z.fill()}function U(z){z.stroke()}function f(){this._clearCache(m)}function _(){this._clearCache(y)}function I(){this._clearCache(A)}function D(){this._clearCache(M)}function H(){this._clearCache(E)}class w extends o.Node{constructor(R){super(R);let G;for(;G=a.Util.getRandomColor(),!(G&&!(G in d.shapes)););this.colorKey=G,d.shapes[G]=this}getContext(){return a.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return a.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(m,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(A,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var R=p();const G=R.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(G&&G.setTransform){const Q=new a.Transform;Q.translate(this.fillPatternX(),this.fillPatternY()),Q.rotate(n.Konva.getAngle(this.fillPatternRotation())),Q.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Q.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const W=Q.getMatrix(),$=typeof DOMMatrix>"u"?{a:W[0],b:W[1],c:W[2],d:W[3],e:W[4],f:W[5]}:new DOMMatrix(W);G.setTransform($)}return G}}_getLinearGradient(){return this._getCache(M,this.__getLinearGradient)}__getLinearGradient(){var R=this.fillLinearGradientColorStops();if(R){for(var G=p(),Q=this.fillLinearGradientStartPoint(),W=this.fillLinearGradientEndPoint(),$=G.createLinearGradient(Q.x,Q.y,W.x,W.y),ie=0;ie<R.length;ie+=2)$.addColorStop(R[ie],R[ie+1]);return $}}_getRadialGradient(){return this._getCache(E,this.__getRadialGradient)}__getRadialGradient(){var R=this.fillRadialGradientColorStops();if(R){for(var G=p(),Q=this.fillRadialGradientStartPoint(),W=this.fillRadialGradientEndPoint(),$=G.createRadialGradient(Q.x,Q.y,this.fillRadialGradientStartRadius(),W.x,W.y,this.fillRadialGradientEndRadius()),ie=0;ie<R.length;ie+=2)$.addColorStop(R[ie],R[ie+1]);return $}}getShadowRGBA(){return this._getCache(y,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var R=a.Util.colorToRGBA(this.shadowColor());if(R)return"rgba("+R.r+","+R.g+","+R.b+","+R.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const R=this.hitStrokeWidth();return R==="auto"?this.hasStroke():this.strokeEnabled()&&!!R}intersects(R){var G=this.getStage(),Q=G.bufferHitCanvas,W;return Q.getContext().clear(),this.drawHit(Q,null,!0),W=Q.context.getImageData(Math.round(R.x),Math.round(R.y),1,1).data,W[3]>0}destroy(){return o.Node.prototype.destroy.call(this),delete d.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(R){var G;if(!this.getStage()||!((G=this.attrs.perfectDrawEnabled)!==null&&G!==void 0?G:!0))return!1;const W=R||this.hasFill(),$=this.hasStroke(),ie=this.getAbsoluteOpacity()!==1;if(W&&$&&ie)return!0;const fe=this.hasShadow(),Se=this.shadowForStrokeEnabled();return!!(W&&$&&fe&&Se)}setStrokeHitEnabled(R){a.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),R?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var R=this.size();return{x:this._centroid?-R.width/2:0,y:this._centroid?-R.height/2:0,width:R.width,height:R.height}}getClientRect(R={}){const G=R.skipTransform,Q=R.relativeTo,W=this.getSelfRect(),ie=!R.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,fe=W.width+ie,Se=W.height+ie,B=!R.skipShadow&&this.hasShadow(),X=B?this.shadowOffsetX():0,ee=B?this.shadowOffsetY():0,ne=fe+Math.abs(X),b=Se+Math.abs(ee),Z=B&&this.shadowBlur()||0,ue=ne+Z*2,Ie=b+Z*2,_e={width:ue,height:Ie,x:-(ie/2+Z)+Math.min(X,0)+W.x,y:-(ie/2+Z)+Math.min(ee,0)+W.y};return G?_e:this._transformedRect(_e,Q)}drawScene(R,G){var Q=this.getLayer(),W=R||Q.getCanvas(),$=W.getContext(),ie=this._getCanvasCache(),fe=this.getSceneFunc(),Se=this.hasShadow(),B,X,ee,ne=W.isCache,b=G===this;if(!this.isVisible()&&!b)return this;if(ie){$.save();var Z=this.getAbsoluteTransform(G).getMatrix();return $.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),this._drawCachedSceneCanvas($),$.restore(),this}if(!fe)return this;if($.save(),this._useBufferCanvas()&&!ne){B=this.getStage(),X=B.bufferCanvas,ee=X.getContext(),ee.clear(),ee.save(),ee._applyLineJoin(this);var ue=this.getAbsoluteTransform(G).getMatrix();ee.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),fe.call(this,ee,this),ee.restore();var Ie=X.pixelRatio;Se&&$._applyShadow(this),$._applyOpacity(this),$._applyGlobalCompositeOperation(this),$.drawImage(X._canvas,0,0,X.width/Ie,X.height/Ie)}else{if($._applyLineJoin(this),!b){var ue=this.getAbsoluteTransform(G).getMatrix();$.transform(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5]),$._applyOpacity(this),$._applyGlobalCompositeOperation(this)}Se&&$._applyShadow(this),fe.call(this,$,this)}return $.restore(),this}drawHit(R,G,Q=!1){if(!this.shouldDrawHit(G,Q))return this;var W=this.getLayer(),$=R||W.hitCanvas,ie=$&&$.getContext(),fe=this.hitFunc()||this.sceneFunc(),Se=this._getCanvasCache(),B=Se&&Se.hit;if(this.colorKey||a.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),B){ie.save();var X=this.getAbsoluteTransform(G).getMatrix();return ie.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(ie),ie.restore(),this}if(!fe)return this;if(ie.save(),ie._applyLineJoin(this),!(this===G)){var ne=this.getAbsoluteTransform(G).getMatrix();ie.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5])}return fe.call(this,ie,this),ie.restore(),this}drawHitFromCache(R=0){var G=this._getCanvasCache(),Q=this._getCachedSceneCanvas(),W=G.hit,$=W.getContext(),ie=W.getWidth(),fe=W.getHeight(),Se,B,X,ee,ne,b;$.clear(),$.drawImage(Q._canvas,0,0,ie,fe);try{for(Se=$.getImageData(0,0,ie,fe),B=Se.data,X=B.length,ee=a.Util._hexToRgb(this.colorKey),ne=0;ne<X;ne+=4)b=B[ne+3],b>R?(B[ne]=ee.r,B[ne+1]=ee.g,B[ne+2]=ee.b,B[ne+3]=255):B[ne+3]=0;$.putImageData(Se,0,0)}catch(Z){a.Util.error("Unable to draw hit graph from cached scene canvas. "+Z.message)}return this}hasPointerCapture(R){return v.hasPointerCapture(R,this)}setPointerCapture(R){v.setPointerCapture(R,this)}releaseCapture(R){v.releaseCapture(R,this)}}d.Shape=w,w.prototype._fillFunc=C,w.prototype._strokeFunc=k,w.prototype._fillFuncHit=N,w.prototype._strokeFuncHit=U,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,h._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",f),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",I),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",D),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",H),l.Factory.addGetterSetter(w,"stroke",void 0,(0,c.getStringOrGradientValidator)()),l.Factory.addGetterSetter(w,"strokeWidth",2,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),l.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,c.getNumberOrAutoValidator)()),l.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,c.getBooleanValidator)()),l.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,c.getBooleanValidator)()),l.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,c.getBooleanValidator)()),l.Factory.addGetterSetter(w,"lineJoin"),l.Factory.addGetterSetter(w,"lineCap"),l.Factory.addGetterSetter(w,"sceneFunc"),l.Factory.addGetterSetter(w,"hitFunc"),l.Factory.addGetterSetter(w,"dash"),l.Factory.addGetterSetter(w,"dashOffset",0,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"shadowColor",void 0,(0,c.getStringValidator)()),l.Factory.addGetterSetter(w,"shadowBlur",0,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"shadowOpacity",1,(0,c.getNumberValidator)()),l.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),l.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"fillPatternImage"),l.Factory.addGetterSetter(w,"fill",void 0,(0,c.getStringOrGradientValidator)()),l.Factory.addGetterSetter(w,"fillPatternX",0,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"fillPatternY",0,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),l.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),l.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),l.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),l.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),l.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),l.Factory.addGetterSetter(w,"fillEnabled",!0),l.Factory.addGetterSetter(w,"strokeEnabled",!0),l.Factory.addGetterSetter(w,"shadowEnabled",!0),l.Factory.addGetterSetter(w,"dashEnabled",!0),l.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),l.Factory.addGetterSetter(w,"fillPriority","color"),l.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),l.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,c.getNumberValidator)()),l.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),l.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,c.getNumberValidator)()),l.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,c.getNumberValidator)()),l.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),l.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),l.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),l.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),l.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),l.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),l.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),l.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),l.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),l.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),l.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),l.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),l.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),l.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),l.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),l.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),l.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),l.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),l.Factory.addGetterSetter(w,"fillPatternRotation",0),l.Factory.addGetterSetter(w,"fillRule",void 0,(0,c.getStringValidator)()),l.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(_n),Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.Rect=void 0;const qu=kt,Zu=_n,Ju=De,$u=qe,e0=ge;class jr extends Zu.Shape{_sceneFunc(n){var a=this.cornerRadius(),l=this.width(),o=this.height();n.beginPath(),a?$u.Util.drawRoundedRectPath(n,l,o,a):n.rect(0,0,l,o),n.closePath(),n.fillStrokeShape(this)}}Vi.Rect=jr,jr.prototype.className="Rect",(0,Ju._registerNode)(jr),qu.Factory.addGetterSetter(jr,"cornerRadius",0,(0,e0.getNumberOrArrayOfNumbersValidator)(4));var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.Circle=void 0;const t0=kt,n0=_n,r0=ge,i0=De;class Mn extends n0.Shape{_sceneFunc(n){n.beginPath(),n.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),n.closePath(),n.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(n){this.radius()!==n/2&&this.radius(n/2)}setHeight(n){this.radius()!==n/2&&this.radius(n/2)}}Ki.Circle=Mn,Mn.prototype._centroid=!0,Mn.prototype.className="Circle",Mn.prototype._attrsAffectingSize=["radius"],(0,i0._registerNode)(Mn),t0.Factory.addGetterSetter(Mn,"radius",0,(0,r0.getNumberValidator)());var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.Text=sr.stringToArray=void 0;const Yi=qe,it=kt,a0=_n,sn=ge,s0=De;function Us(d){return Array.from(d)}sr.stringToArray=Us;var Fn="auto",l0="center",lr="justify",o0="Change.konva",u0="2d",Gs="-",zs="left",d0="text",h0="Text",c0="top",f0="bottom",Hs="middle",Bs="normal",g0="px ",br=" ",p0="right",v0="word",m0="char",Vs="none",Qi="…",js=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],y0=js.length;function _0(d){return d.split(",").map(n=>{n=n.trim();const a=n.indexOf(" ")>=0,l=n.indexOf('"')>=0||n.indexOf("'")>=0;return a&&!l&&(n=`"${n}"`),n}).join(", ")}var Wr;function Xi(){return Wr||(Wr=Yi.Util.createCanvasElement().getContext(u0),Wr)}function S0(d){d.fillText(this._partialText,this._partialTextX,this._partialTextY)}function C0(d){d.setAttr("miterLimit",2),d.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function w0(d){return d=d||{},!d.fillLinearGradientColorStops&&!d.fillRadialGradientColorStops&&!d.fillPatternImage&&(d.fill=d.fill||"black"),d}class Ge extends a0.Shape{constructor(n){super(w0(n)),this._partialTextX=0,this._partialTextY=0;for(var a=0;a<y0;a++)this.on(js[a]+o0,this._setTextData);this._setTextData()}_sceneFunc(n){var a=this.textArr,l=a.length;if(this.text()){var o=this.padding(),c=this.fontSize(),h=this.lineHeight()*c,v=this.verticalAlign(),m=0,y=this.align(),A=this.getWidth(),M=this.letterSpacing(),E=this.fill(),S=this.textDecoration(),p=S.indexOf("underline")!==-1,C=S.indexOf("line-through")!==-1,k,N=0,N=h/2,U=0,f=0;for(n.setAttr("font",this._getContextFont()),n.setAttr("textBaseline",Hs),n.setAttr("textAlign",zs),v===Hs?m=(this.getHeight()-l*h-o*2)/2:v===f0&&(m=this.getHeight()-l*h-o*2),n.translate(o,m+o),k=0;k<l;k++){var U=0,f=0,_=a[k],I=_.text,D=_.width,H=_.lastInParagraph,w,z,R;if(n.save(),y===p0?U+=A-D-o*2:y===l0&&(U+=(A-D-o*2)/2),p){n.save(),n.beginPath(),n.moveTo(U,N+f+Math.round(c/2)),w=I.split(" ").length-1,z=w===0,R=y===lr&&!H?A-o*2:D,n.lineTo(U+Math.round(R),N+f+Math.round(c/2)),n.lineWidth=c/15;const fe=this._getLinearGradient();n.strokeStyle=fe||E,n.stroke(),n.restore()}if(C){n.save(),n.beginPath(),n.moveTo(U,N+f),w=I.split(" ").length-1,z=w===0,R=y===lr&&H&&!z?A-o*2:D,n.lineTo(U+Math.round(R),N+f),n.lineWidth=c/15;const fe=this._getLinearGradient();n.strokeStyle=fe||E,n.stroke(),n.restore()}if(M!==0||y===lr){w=I.split(" ").length-1;for(var G=Us(I),Q=0;Q<G.length;Q++){var W=G[Q];W===" "&&!H&&y===lr&&(U+=(A-o*2-D)/w),this._partialTextX=U,this._partialTextY=N+f,this._partialText=W,n.fillStrokeShape(this),U+=this.measureSize(W).width+M}}else this._partialTextX=U,this._partialTextY=N+f,this._partialText=I,n.fillStrokeShape(this);n.restore(),l>1&&(N+=h)}}}_hitFunc(n){var a=this.getWidth(),l=this.getHeight();n.beginPath(),n.rect(0,0,a,l),n.closePath(),n.fillStrokeShape(this)}setText(n){var a=Yi.Util._isString(n)?n:n==null?"":n+"";return this._setAttr(d0,a),this}getWidth(){var n=this.attrs.width===Fn||this.attrs.width===void 0;return n?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var n=this.attrs.height===Fn||this.attrs.height===void 0;return n?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Yi.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(n){var a=Xi(),l=this.fontSize(),o;return a.save(),a.font=this._getContextFont(),o=a.measureText(n),a.restore(),{width:o.width,height:l}}_getContextFont(){return this.fontStyle()+br+this.fontVariant()+br+(this.fontSize()+g0)+_0(this.fontFamily())}_addTextLine(n){this.align()===lr&&(n=n.trim());var l=this._getTextWidth(n);return this.textArr.push({text:n,width:l,lastInParagraph:!1})}_getTextWidth(n){var a=this.letterSpacing(),l=n.length;return Xi().measureText(n).width+(l?a*(l-1):0)}_setTextData(){var n=this.text().split(`
`),a=+this.fontSize(),l=0,o=this.lineHeight()*a,c=this.attrs.width,h=this.attrs.height,v=c!==Fn&&c!==void 0,m=h!==Fn&&h!==void 0,y=this.padding(),A=c-y*2,M=h-y*2,E=0,S=this.wrap(),p=S!==Vs,C=S!==m0&&p,k=this.ellipsis();this.textArr=[],Xi().font=this._getContextFont();for(var N=k?this._getTextWidth(Qi):0,U=0,f=n.length;U<f;++U){var _=n[U],I=this._getTextWidth(_);if(v&&I>A)for(;_.length>0;){for(var D=0,H=_.length,w="",z=0;D<H;){var R=D+H>>>1,G=_.slice(0,R+1),Q=this._getTextWidth(G)+N;Q<=A?(D=R+1,w=G,z=Q):H=R}if(w){if(C){var W,$=_[w.length],ie=$===br||$===Gs;ie&&z<=A?W=w.length:W=Math.max(w.lastIndexOf(br),w.lastIndexOf(Gs))+1,W>0&&(D=W,w=w.slice(0,D),z=this._getTextWidth(w))}w=w.trimRight(),this._addTextLine(w),l=Math.max(l,z),E+=o;var fe=this._shouldHandleEllipsis(E);if(fe){this._tryToAddEllipsisToLastLine();break}if(_=_.slice(D),_=_.trimLeft(),_.length>0&&(I=this._getTextWidth(_),I<=A)){this._addTextLine(_),E+=o,l=Math.max(l,I);break}}else break}else this._addTextLine(_),E+=o,l=Math.max(l,I),this._shouldHandleEllipsis(E)&&U<f-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),m&&E+o>M)break}this.textHeight=a,this.textWidth=l}_shouldHandleEllipsis(n){var a=+this.fontSize(),l=this.lineHeight()*a,o=this.attrs.height,c=o!==Fn&&o!==void 0,h=this.padding(),v=o-h*2,m=this.wrap(),y=m!==Vs;return!y||c&&n+l>v}_tryToAddEllipsisToLastLine(){var n=this.attrs.width,a=n!==Fn&&n!==void 0,l=this.padding(),o=n-l*2,c=this.ellipsis(),h=this.textArr[this.textArr.length-1];if(!(!h||!c)){if(a){var v=this._getTextWidth(h.text+Qi)<o;v||(h.text=h.text.slice(0,h.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(h.text+Qi)}}getStrokeScaleEnabled(){return!0}}sr.Text=Ge,Ge.prototype._fillFunc=S0,Ge.prototype._strokeFunc=C0,Ge.prototype.className=h0,Ge.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s0._registerNode)(Ge),it.Factory.overWriteSetter(Ge,"width",(0,sn.getNumberOrAutoValidator)()),it.Factory.overWriteSetter(Ge,"height",(0,sn.getNumberOrAutoValidator)()),it.Factory.addGetterSetter(Ge,"fontFamily","Arial"),it.Factory.addGetterSetter(Ge,"fontSize",12,(0,sn.getNumberValidator)()),it.Factory.addGetterSetter(Ge,"fontStyle",Bs),it.Factory.addGetterSetter(Ge,"fontVariant",Bs),it.Factory.addGetterSetter(Ge,"padding",0,(0,sn.getNumberValidator)()),it.Factory.addGetterSetter(Ge,"align",zs),it.Factory.addGetterSetter(Ge,"verticalAlign",c0),it.Factory.addGetterSetter(Ge,"lineHeight",1,(0,sn.getNumberValidator)()),it.Factory.addGetterSetter(Ge,"wrap",v0),it.Factory.addGetterSetter(Ge,"ellipsis",!1,(0,sn.getBooleanValidator)()),it.Factory.addGetterSetter(Ge,"letterSpacing",0,(0,sn.getNumberValidator)()),it.Factory.addGetterSetter(Ge,"text","",(0,sn.getStringValidator)()),it.Factory.addGetterSetter(Ge,"textDecoration","");var qi={},bs={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.t2length=d.getQuadraticArcLength=d.getCubicArcLength=d.binomialCoefficients=d.cValues=d.tValues=void 0,d.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],d.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],d.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const n=(h,v,m)=>{let y,A,M;y=m/2,A=0;for(let S=0;S<20;S++)M=y*d.tValues[20][S]+y,A+=d.cValues[20][S]*l(h,v,M);return y*A};d.getCubicArcLength=n;const a=(h,v,m)=>{m===void 0&&(m=1);const y=h[0]-2*h[1]+h[2],A=v[0]-2*v[1]+v[2],M=2*h[1]-2*h[0],E=2*v[1]-2*v[0],S=4*(y*y+A*A),p=4*(y*M+A*E),C=M*M+E*E;if(S===0)return m*Math.sqrt(Math.pow(h[2]-h[0],2)+Math.pow(v[2]-v[0],2));const k=p/(2*S),N=C/S,U=m+k,f=N-k*k,_=U*U+f>0?Math.sqrt(U*U+f):0,I=k*k+f>0?Math.sqrt(k*k+f):0,D=k+Math.sqrt(k*k+f)!==0?f*Math.log(Math.abs((U+_)/(k+I))):0;return Math.sqrt(S)/2*(U*_-k*I+D)};d.getQuadraticArcLength=a;function l(h,v,m){const y=o(1,m,h),A=o(1,m,v),M=y*y+A*A;return Math.sqrt(M)}const o=(h,v,m)=>{const y=m.length-1;let A,M;if(y===0)return 0;if(h===0){M=0;for(let E=0;E<=y;E++)M+=d.binomialCoefficients[y][E]*Math.pow(1-v,y-E)*Math.pow(v,E)*m[E];return M}else{A=new Array(y);for(let E=0;E<y;E++)A[E]=y*(m[E+1]-m[E]);return o(h-1,v,A)}},c=(h,v,m)=>{let y=1,A=h/v,M=(h-m(A))/v,E=0;for(;y>.001;){const S=m(A+M),p=Math.abs(h-S)/v;if(p<y)y=p,A+=M;else{const C=m(A-M),k=Math.abs(h-C)/v;k<y?(y=k,A-=M):M/=2}if(E++,E>500)break}return A};d.t2length=c})(bs),Object.defineProperty(qi,"__esModule",{value:!0}),qi.Path=void 0;const P0=kt,E0=_n,T0=De,Un=bs;class Be extends E0.Shape{constructor(n){super(n),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Be.parsePathData(this.data()),this.pathLength=Be.getPathLength(this.dataArray)}_sceneFunc(n){var a=this.dataArray;n.beginPath();for(var l=!1,o=0;o<a.length;o++){var c=a[o].command,h=a[o].points;switch(c){case"L":n.lineTo(h[0],h[1]);break;case"M":n.moveTo(h[0],h[1]);break;case"C":n.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"Q":n.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"A":var v=h[0],m=h[1],y=h[2],A=h[3],M=h[4],E=h[5],S=h[6],p=h[7],C=y>A?y:A,k=y>A?1:y/A,N=y>A?A/y:1;n.translate(v,m),n.rotate(S),n.scale(k,N),n.arc(0,0,C,M,M+E,1-p),n.scale(1/k,1/N),n.rotate(-S),n.translate(-v,-m);break;case"z":l=!0,n.closePath();break}}!l&&!this.hasFill()?n.strokeShape(this):n.fillStrokeShape(this)}getSelfRect(){var n=[];this.dataArray.forEach(function(y){if(y.command==="A"){var A=y.points[4],M=y.points[5],E=y.points[4]+M,S=Math.PI/180;if(Math.abs(A-E)<S&&(S=Math.abs(A-E)),M<0)for(let p=A-S;p>E;p-=S){const C=Be.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],p,0);n.push(C.x,C.y)}else for(let p=A+S;p<E;p+=S){const C=Be.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],p,0);n.push(C.x,C.y)}}else if(y.command==="C")for(let p=0;p<=1;p+=.01){const C=Be.getPointOnCubicBezier(p,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);n.push(C.x,C.y)}else n=n.concat(y.points)});for(var a=n[0],l=n[0],o=n[1],c=n[1],h,v,m=0;m<n.length/2;m++)h=n[m*2],v=n[m*2+1],isNaN(h)||(a=Math.min(a,h),l=Math.max(l,h)),isNaN(v)||(o=Math.min(o,v),c=Math.max(c,v));return{x:a,y:o,width:l-a,height:c-o}}getLength(){return this.pathLength}getPointAtLength(n){return Be.getPointAtLengthOfDataArray(n,this.dataArray)}static getLineLength(n,a,l,o){return Math.sqrt((l-n)*(l-n)+(o-a)*(o-a))}static getPathLength(n){let a=0;for(var l=0;l<n.length;++l)a+=n[l].pathLength;return a}static getPointAtLengthOfDataArray(n,a){var l,o=0,c=a.length;if(!c)return null;for(;o<c&&n>a[o].pathLength;)n-=a[o].pathLength,++o;if(o===c)return l=a[o-1].points.slice(-2),{x:l[0],y:l[1]};if(n<.01)return l=a[o].points.slice(0,2),{x:l[0],y:l[1]};var h=a[o],v=h.points;switch(h.command){case"L":return Be.getPointOnLine(n,h.start.x,h.start.y,v[0],v[1]);case"C":return Be.getPointOnCubicBezier((0,Un.t2length)(n,Be.getPathLength(a),C=>(0,Un.getCubicArcLength)([h.start.x,v[0],v[2],v[4]],[h.start.y,v[1],v[3],v[5]],C)),h.start.x,h.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return Be.getPointOnQuadraticBezier((0,Un.t2length)(n,Be.getPathLength(a),C=>(0,Un.getQuadraticArcLength)([h.start.x,v[0],v[2]],[h.start.y,v[1],v[3]],C)),h.start.x,h.start.y,v[0],v[1],v[2],v[3]);case"A":var m=v[0],y=v[1],A=v[2],M=v[3],E=v[4],S=v[5],p=v[6];return E+=S*n/h.pathLength,Be.getPointOnEllipticalArc(m,y,A,M,E,p)}return null}static getPointOnLine(n,a,l,o,c,h,v){h===void 0&&(h=a),v===void 0&&(v=l);var m=(c-l)/(o-a+1e-8),y=Math.sqrt(n*n/(1+m*m));o<a&&(y*=-1);var A=m*y,M;if(o===a)M={x:h,y:v+A};else if((v-l)/(h-a+1e-8)===m)M={x:h+y,y:v+A};else{var E,S,p=this.getLineLength(a,l,o,c),C=(h-a)*(o-a)+(v-l)*(c-l);C=C/(p*p),E=a+C*(o-a),S=l+C*(c-l);var k=this.getLineLength(h,v,E,S),N=Math.sqrt(n*n-k*k);y=Math.sqrt(N*N/(1+m*m)),o<a&&(y*=-1),A=m*y,M={x:E+y,y:S+A}}return M}static getPointOnCubicBezier(n,a,l,o,c,h,v,m,y){function A(k){return k*k*k}function M(k){return 3*k*k*(1-k)}function E(k){return 3*k*(1-k)*(1-k)}function S(k){return(1-k)*(1-k)*(1-k)}var p=m*A(n)+h*M(n)+o*E(n)+a*S(n),C=y*A(n)+v*M(n)+c*E(n)+l*S(n);return{x:p,y:C}}static getPointOnQuadraticBezier(n,a,l,o,c,h,v){function m(S){return S*S}function y(S){return 2*S*(1-S)}function A(S){return(1-S)*(1-S)}var M=h*m(n)+o*y(n)+a*A(n),E=v*m(n)+c*y(n)+l*A(n);return{x:M,y:E}}static getPointOnEllipticalArc(n,a,l,o,c,h){var v=Math.cos(h),m=Math.sin(h),y={x:l*Math.cos(c),y:o*Math.sin(c)};return{x:n+(y.x*v-y.y*m),y:a+(y.x*m+y.y*v)}}static parsePathData(n){if(!n)return[];var a=n,l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var o=0;o<l.length;o++)a=a.replace(new RegExp(l[o],"g"),"|"+l[o]);var c=a.split("|"),h=[],v=[],m=0,y=0,A=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,M;for(o=1;o<c.length;o++){var E=c[o],S=E.charAt(0);for(E=E.slice(1),v.length=0;M=A.exec(E);)v.push(M[0]);for(var p=[],C=0,k=v.length;C<k;C++){if(v[C]==="00"){p.push(0,0);continue}var N=parseFloat(v[C]);isNaN(N)?p.push(0):p.push(N)}for(;p.length>0&&!isNaN(p[0]);){var U=null,f=[],_=m,I=y,D,H,w,z,R,G,Q,W,$,ie;switch(S){case"l":m+=p.shift(),y+=p.shift(),U="L",f.push(m,y);break;case"L":m=p.shift(),y=p.shift(),f.push(m,y);break;case"m":var fe=p.shift(),Se=p.shift();if(m+=fe,y+=Se,U="M",h.length>2&&h[h.length-1].command==="z"){for(var B=h.length-2;B>=0;B--)if(h[B].command==="M"){m=h[B].points[0]+fe,y=h[B].points[1]+Se;break}}f.push(m,y),S="l";break;case"M":m=p.shift(),y=p.shift(),U="M",f.push(m,y),S="L";break;case"h":m+=p.shift(),U="L",f.push(m,y);break;case"H":m=p.shift(),U="L",f.push(m,y);break;case"v":y+=p.shift(),U="L",f.push(m,y);break;case"V":y=p.shift(),U="L",f.push(m,y);break;case"C":f.push(p.shift(),p.shift(),p.shift(),p.shift()),m=p.shift(),y=p.shift(),f.push(m,y);break;case"c":f.push(m+p.shift(),y+p.shift(),m+p.shift(),y+p.shift()),m+=p.shift(),y+=p.shift(),U="C",f.push(m,y);break;case"S":H=m,w=y,D=h[h.length-1],D.command==="C"&&(H=m+(m-D.points[2]),w=y+(y-D.points[3])),f.push(H,w,p.shift(),p.shift()),m=p.shift(),y=p.shift(),U="C",f.push(m,y);break;case"s":H=m,w=y,D=h[h.length-1],D.command==="C"&&(H=m+(m-D.points[2]),w=y+(y-D.points[3])),f.push(H,w,m+p.shift(),y+p.shift()),m+=p.shift(),y+=p.shift(),U="C",f.push(m,y);break;case"Q":f.push(p.shift(),p.shift()),m=p.shift(),y=p.shift(),f.push(m,y);break;case"q":f.push(m+p.shift(),y+p.shift()),m+=p.shift(),y+=p.shift(),U="Q",f.push(m,y);break;case"T":H=m,w=y,D=h[h.length-1],D.command==="Q"&&(H=m+(m-D.points[0]),w=y+(y-D.points[1])),m=p.shift(),y=p.shift(),U="Q",f.push(H,w,m,y);break;case"t":H=m,w=y,D=h[h.length-1],D.command==="Q"&&(H=m+(m-D.points[0]),w=y+(y-D.points[1])),m+=p.shift(),y+=p.shift(),U="Q",f.push(H,w,m,y);break;case"A":z=p.shift(),R=p.shift(),G=p.shift(),Q=p.shift(),W=p.shift(),$=m,ie=y,m=p.shift(),y=p.shift(),U="A",f=this.convertEndpointToCenterParameterization($,ie,m,y,Q,W,z,R,G);break;case"a":z=p.shift(),R=p.shift(),G=p.shift(),Q=p.shift(),W=p.shift(),$=m,ie=y,m+=p.shift(),y+=p.shift(),U="A",f=this.convertEndpointToCenterParameterization($,ie,m,y,Q,W,z,R,G);break}h.push({command:U||S,points:f,start:{x:_,y:I},pathLength:this.calcLength(_,I,U||S,f)})}(S==="z"||S==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(n,a,l,o){var c,h,v,m,y=Be;switch(l){case"L":return y.getLineLength(n,a,o[0],o[1]);case"C":return(0,Un.getCubicArcLength)([n,o[0],o[2],o[4]],[a,o[1],o[3],o[5]],1);case"Q":return(0,Un.getQuadraticArcLength)([n,o[0],o[2]],[a,o[1],o[3]],1);case"A":c=0;var A=o[4],M=o[5],E=o[4]+M,S=Math.PI/180;if(Math.abs(A-E)<S&&(S=Math.abs(A-E)),h=y.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],A,0),M<0)for(m=A-S;m>E;m-=S)v=y.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],m,0),c+=y.getLineLength(h.x,h.y,v.x,v.y),h=v;else for(m=A+S;m<E;m+=S)v=y.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],m,0),c+=y.getLineLength(h.x,h.y,v.x,v.y),h=v;return v=y.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],E,0),c+=y.getLineLength(h.x,h.y,v.x,v.y),c}return 0}static convertEndpointToCenterParameterization(n,a,l,o,c,h,v,m,y){var A=y*(Math.PI/180),M=Math.cos(A)*(n-l)/2+Math.sin(A)*(a-o)/2,E=-1*Math.sin(A)*(n-l)/2+Math.cos(A)*(a-o)/2,S=M*M/(v*v)+E*E/(m*m);S>1&&(v*=Math.sqrt(S),m*=Math.sqrt(S));var p=Math.sqrt((v*v*(m*m)-v*v*(E*E)-m*m*(M*M))/(v*v*(E*E)+m*m*(M*M)));c===h&&(p*=-1),isNaN(p)&&(p=0);var C=p*v*E/m,k=p*-m*M/v,N=(n+l)/2+Math.cos(A)*C-Math.sin(A)*k,U=(a+o)/2+Math.sin(A)*C+Math.cos(A)*k,f=function(R){return Math.sqrt(R[0]*R[0]+R[1]*R[1])},_=function(R,G){return(R[0]*G[0]+R[1]*G[1])/(f(R)*f(G))},I=function(R,G){return(R[0]*G[1]<R[1]*G[0]?-1:1)*Math.acos(_(R,G))},D=I([1,0],[(M-C)/v,(E-k)/m]),H=[(M-C)/v,(E-k)/m],w=[(-1*M-C)/v,(-1*E-k)/m],z=I(H,w);return _(H,w)<=-1&&(z=Math.PI),_(H,w)>=1&&(z=0),h===0&&z>0&&(z=z-2*Math.PI),h===1&&z<0&&(z=z+2*Math.PI),[N,U,v,m,D,z,A,h]}}qi.Path=Be,Be.prototype.className="Path",Be.prototype._attrsAffectingSize=["data"],(0,T0._registerNode)(Be),P0.Factory.addGetterSetter(Be,"data");var Gn={},Zi={exports:{}},Ji={},wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.Container=void 0;const zn=kt,$i=rn,Kr=ge;class Pn extends $i.Node{constructor(){super(...arguments),this.children=[]}getChildren(n){if(!n)return this.children||[];const a=this.children||[];var l=[];return a.forEach(function(o){n(o)&&l.push(o)}),l}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(n=>{n.parent=null,n.index=0,n.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(n=>{n.parent=null,n.index=0,n.destroy()}),this.children=[],this._requestDraw(),this}add(...n){if(n.length===0)return this;if(n.length>1){for(var a=0;a<n.length;a++)this.add(n[a]);return this}const l=n[0];return l.getParent()?(l.moveTo(this),this):(this._validateAdd(l),l.index=this.getChildren().length,l.parent=this,l._clearCaches(),this.getChildren().push(l),this._fire("add",{child:l}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(n){return this._generalFind(n,!1)}findOne(n){var a=this._generalFind(n,!0);return a.length>0?a[0]:void 0}_generalFind(n,a){var l=[];return this._descendants(o=>{const c=o._isMatch(n);return c&&l.push(o),!!(c&&a)}),l}_descendants(n){let a=!1;const l=this.getChildren();for(const o of l){if(a=n(o),a)return!0;if(o.hasChildren()&&(a=o._descendants(n),a))return!0}return!1}toObject(){var n=$i.Node.prototype.toObject.call(this);return n.children=[],this.getChildren().forEach(a=>{n.children.push(a.toObject())}),n}isAncestorOf(n){for(var a=n.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(n){var a=$i.Node.prototype.clone.call(this,n);return this.getChildren().forEach(function(l){a.add(l.clone())}),a}getAllIntersections(n){var a=[];return this.find("Shape").forEach(function(l){l.isVisible()&&l.intersects(n)&&a.push(l)}),a}_clearSelfAndDescendantCache(n){var a;super._clearSelfAndDescendantCache(n),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(l){l._clearSelfAndDescendantCache(n)}))}_setChildrenIndices(){var n;(n=this.children)===null||n===void 0||n.forEach(function(a,l){a.index=l}),this._requestDraw()}drawScene(n,a){var l=this.getLayer(),o=n||l&&l.getCanvas(),c=o&&o.getContext(),h=this._getCanvasCache(),v=h&&h.scene,m=o&&o.isCache;if(!this.isVisible()&&!m)return this;if(v){c.save();var y=this.getAbsoluteTransform(a).getMatrix();c.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",o,a);return this}drawHit(n,a){if(!this.shouldDrawHit(a))return this;var l=this.getLayer(),o=n||l&&l.hitCanvas,c=o&&o.getContext(),h=this._getCanvasCache(),v=h&&h.hit;if(v){c.save();var m=this.getAbsoluteTransform(a).getMatrix();c.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(c),c.restore()}else this._drawChildren("drawHit",o,a);return this}_drawChildren(n,a,l){var o,c=a&&a.getContext(),h=this.clipWidth(),v=this.clipHeight(),m=this.clipFunc(),y=h&&v||m;const A=l===this;if(y){c.save();var M=this.getAbsoluteTransform(l),E=M.getMatrix();c.transform(E[0],E[1],E[2],E[3],E[4],E[5]),c.beginPath();let k;if(m)k=m.call(this,c,this);else{var S=this.clipX(),p=this.clipY();c.rect(S,p,h,v)}c.clip.apply(c,k),E=M.copy().invert().getMatrix(),c.transform(E[0],E[1],E[2],E[3],E[4],E[5])}var C=!A&&this.globalCompositeOperation()!=="source-over"&&n==="drawScene";C&&(c.save(),c._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(k){k[n](a,l)}),C&&c.restore(),y&&c.restore()}getClientRect(n){var a;n=n||{};var l=n.skipTransform,o=n.relativeTo,c,h,v,m,y={x:1/0,y:1/0,width:0,height:0},A=this;(a=this.children)===null||a===void 0||a.forEach(function(C){if(C.visible()){var k=C.getClientRect({relativeTo:A,skipShadow:n.skipShadow,skipStroke:n.skipStroke});k.width===0&&k.height===0||(c===void 0?(c=k.x,h=k.y,v=k.x+k.width,m=k.y+k.height):(c=Math.min(c,k.x),h=Math.min(h,k.y),v=Math.max(v,k.x+k.width),m=Math.max(m,k.y+k.height)))}});for(var M=this.find("Shape"),E=!1,S=0;S<M.length;S++){var p=M[S];if(p._isVisible(this)){E=!0;break}}return E&&c!==void 0?y={x:c,y:h,width:v-c,height:m-h}:y={x:0,y:0,width:0,height:0},l?y:this._transformedRect(y,o)}}wn.Container=Pn,zn.Factory.addComponentsGetterSetter(Pn,"clip",["x","y","width","height"]),zn.Factory.addGetterSetter(Pn,"clipX",void 0,(0,Kr.getNumberValidator)()),zn.Factory.addGetterSetter(Pn,"clipY",void 0,(0,Kr.getNumberValidator)()),zn.Factory.addGetterSetter(Pn,"clipWidth",void 0,(0,Kr.getNumberValidator)()),zn.Factory.addGetterSetter(Pn,"clipHeight",void 0,(0,Kr.getNumberValidator)()),zn.Factory.addGetterSetter(Pn,"clipFunc");var Ws={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.Stage=d.stages=void 0;const n=qe,a=kt,l=wn,o=De,c=xt,h=Gr,v=De,m=ct;var y="Stage",A="string",M="px",E="mouseout",S="mouseleave",p="mouseover",C="mouseenter",k="mousemove",N="mousedown",U="mouseup",f="pointermove",_="pointerdown",I="pointerup",D="pointercancel",H="lostpointercapture",w="pointerout",z="pointerleave",R="pointerover",G="pointerenter",Q="contextmenu",W="touchstart",$="touchend",ie="touchmove",fe="touchcancel",Se="wheel",B=5,X=[[C,"_pointerenter"],[N,"_pointerdown"],[k,"_pointermove"],[U,"_pointerup"],[S,"_pointerleave"],[W,"_pointerdown"],[ie,"_pointermove"],[$,"_pointerup"],[fe,"_pointercancel"],[p,"_pointerover"],[Se,"_wheel"],[Q,"_contextmenu"],[_,"_pointerdown"],[f,"_pointermove"],[I,"_pointerup"],[D,"_pointercancel"],[H,"_lostpointercapture"]];const ee={mouse:{[w]:E,[z]:S,[R]:p,[G]:C,[f]:k,[_]:N,[I]:U,[D]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[z]:"touchleave",[R]:"touchover",[G]:"touchenter",[f]:ie,[_]:W,[I]:$,[D]:fe,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[z]:z,[R]:R,[G]:G,[f]:f,[_]:_,[I]:I,[D]:D,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ne=_e=>_e.indexOf("pointer")>=0?"pointer":_e.indexOf("touch")>=0?"touch":"mouse",b=_e=>{const T=ne(_e);if(T==="pointer")return o.Konva.pointerEventsEnabled&&ee.pointer;if(T==="touch")return ee.touch;if(T==="mouse")return ee.mouse};function Z(_e={}){return(_e.clipFunc||_e.clipWidth||_e.clipHeight)&&n.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),_e}const ue="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";d.stages=[];class Ie extends l.Container{constructor(T){super(Z(T)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),d.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Z(this.attrs)}),this._checkVisibility()}_validateAdd(T){const V=T.getType()==="Layer",te=T.getType()==="FastLayer";V||te||n.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const T=this.visible()?"":"none";this.content.style.display=T}setContainer(T){if(typeof T===A){if(T.charAt(0)==="."){var V=T.slice(1);T=document.getElementsByClassName(V)[0]}else{var te;T.charAt(0)!=="#"?te=T:te=T.slice(1),T=document.getElementById(te)}if(!T)throw"Can not find container in document with id "+te}return this._setAttr("container",T),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),T.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var T=this.children,V=T.length,te;for(te=0;te<V;te++)T[te].clear();return this}clone(T){return T||(T={}),T.container=typeof document<"u"&&document.createElement("div"),l.Container.prototype.clone.call(this,T)}destroy(){super.destroy();var T=this.content;T&&n.Util._isInDocument(T)&&this.container().removeChild(T);var V=d.stages.indexOf(this);return V>-1&&d.stages.splice(V,1),n.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const T=this._pointerPositions[0]||this._changedPointerPositions[0];return T?{x:T.x,y:T.y}:(n.Util.warn(ue),null)}_getPointerById(T){return this._pointerPositions.find(V=>V.id===T)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(T){T=T||{},T.x=T.x||0,T.y=T.y||0,T.width=T.width||this.width(),T.height=T.height||this.height();var V=new c.SceneCanvas({width:T.width,height:T.height,pixelRatio:T.pixelRatio||1}),te=V.getContext()._context,pe=this.children;return(T.x||T.y)&&te.translate(-1*T.x,-1*T.y),pe.forEach(function(oe){if(oe.isVisible()){var Ee=oe._toKonvaCanvas(T);te.drawImage(Ee._canvas,T.x,T.y,Ee.getWidth()/Ee.getPixelRatio(),Ee.getHeight()/Ee.getPixelRatio())}}),V}getIntersection(T){if(!T)return null;var V=this.children,te=V.length,pe=te-1,oe;for(oe=pe;oe>=0;oe--){const Ee=V[oe].getIntersection(T);if(Ee)return Ee}return null}_resizeDOM(){var T=this.width(),V=this.height();this.content&&(this.content.style.width=T+M,this.content.style.height=V+M),this.bufferCanvas.setSize(T,V),this.bufferHitCanvas.setSize(T,V),this.children.forEach(te=>{te.setSize({width:T,height:V}),te.draw()})}add(T,...V){if(arguments.length>1){for(var te=0;te<arguments.length;te++)this.add(arguments[te]);return this}super.add(T);var pe=this.children.length;return pe>B&&n.Util.warn("The stage has "+pe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),T.setSize({width:this.width(),height:this.height()}),T.draw(),o.Konva.isBrowser&&this.content.appendChild(T.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(T){return m.hasPointerCapture(T,this)}setPointerCapture(T){m.setPointerCapture(T,this)}releaseCapture(T){m.releaseCapture(T,this)}getLayers(){return this.children}_bindContentEvents(){o.Konva.isBrowser&&X.forEach(([T,V])=>{this.content.addEventListener(T,te=>{this[V](te)},{passive:!1})})}_pointerenter(T){this.setPointersPositions(T);const V=b(T.type);this._fire(V.pointerenter,{evt:T,target:this,currentTarget:this})}_pointerover(T){this.setPointersPositions(T);const V=b(T.type);this._fire(V.pointerover,{evt:T,target:this,currentTarget:this})}_getTargetShape(T){let V=this[T+"targetShape"];return V&&!V.getStage()&&(V=null),V}_pointerleave(T){const V=b(T.type),te=ne(T.type);if(V){this.setPointersPositions(T);var pe=this._getTargetShape(te),oe=!h.DD.isDragging||o.Konva.hitOnDragEnabled;pe&&oe?(pe._fireAndBubble(V.pointerout,{evt:T}),pe._fireAndBubble(V.pointerleave,{evt:T}),this._fire(V.pointerleave,{evt:T,target:this,currentTarget:this}),this[te+"targetShape"]=null):oe&&(this._fire(V.pointerleave,{evt:T,target:this,currentTarget:this}),this._fire(V.pointerout,{evt:T,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(T){const V=b(T.type),te=ne(T.type);if(V){this.setPointersPositions(T);var pe=!1;this._changedPointerPositions.forEach(oe=>{var Ee=this.getIntersection(oe);if(h.DD.justDragged=!1,o.Konva["_"+te+"ListenClick"]=!0,!(Ee&&Ee.isListening()))return;o.Konva.capturePointerEventsEnabled&&Ee.setPointerCapture(oe.id),this[te+"ClickStartShape"]=Ee,Ee._fireAndBubble(V.pointerdown,{evt:T,pointerId:oe.id}),pe=!0;const mt=T.type.indexOf("touch")>=0;Ee.preventDefault()&&T.cancelable&&mt&&T.preventDefault()}),pe||this._fire(V.pointerdown,{evt:T,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(T){const V=b(T.type),te=ne(T.type);if(!V)return;h.DD.isDragging&&h.DD.node.preventDefault()&&T.cancelable&&T.preventDefault(),this.setPointersPositions(T);var pe=!h.DD.isDragging||o.Konva.hitOnDragEnabled;if(!pe)return;var oe={};let Ee=!1;var Ae=this._getTargetShape(te);this._changedPointerPositions.forEach(mt=>{const we=m.getCapturedShape(mt.id)||this.getIntersection(mt),ln=mt.id,It={evt:T,pointerId:ln};var on=Ae!==we;if(on&&Ae&&(Ae._fireAndBubble(V.pointerout,Object.assign({},It),we),Ae._fireAndBubble(V.pointerleave,Object.assign({},It),we)),we){if(oe[we._id])return;oe[we._id]=!0}we&&we.isListening()?(Ee=!0,on&&(we._fireAndBubble(V.pointerover,Object.assign({},It),Ae),we._fireAndBubble(V.pointerenter,Object.assign({},It),Ae),this[te+"targetShape"]=we),we._fireAndBubble(V.pointermove,Object.assign({},It))):Ae&&(this._fire(V.pointerover,{evt:T,target:this,currentTarget:this,pointerId:ln}),this[te+"targetShape"]=null)}),Ee||this._fire(V.pointermove,{evt:T,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(T){const V=b(T.type),te=ne(T.type);if(!V)return;this.setPointersPositions(T);const pe=this[te+"ClickStartShape"],oe=this[te+"ClickEndShape"];var Ee={};let Ae=!1;this._changedPointerPositions.forEach(mt=>{const we=m.getCapturedShape(mt.id)||this.getIntersection(mt);if(we){if(we.releaseCapture(mt.id),Ee[we._id])return;Ee[we._id]=!0}const ln=mt.id,It={evt:T,pointerId:ln};let on=!1;o.Konva["_"+te+"InDblClickWindow"]?(on=!0,clearTimeout(this[te+"DblTimeout"])):h.DD.justDragged||(o.Konva["_"+te+"InDblClickWindow"]=!0,clearTimeout(this[te+"DblTimeout"])),this[te+"DblTimeout"]=setTimeout(function(){o.Konva["_"+te+"InDblClickWindow"]=!1},o.Konva.dblClickWindow),we&&we.isListening()?(Ae=!0,this[te+"ClickEndShape"]=we,we._fireAndBubble(V.pointerup,Object.assign({},It)),o.Konva["_"+te+"ListenClick"]&&pe&&pe===we&&(we._fireAndBubble(V.pointerclick,Object.assign({},It)),on&&oe&&oe===we&&we._fireAndBubble(V.pointerdblclick,Object.assign({},It)))):(this[te+"ClickEndShape"]=null,o.Konva["_"+te+"ListenClick"]&&this._fire(V.pointerclick,{evt:T,target:this,currentTarget:this,pointerId:ln}),on&&this._fire(V.pointerdblclick,{evt:T,target:this,currentTarget:this,pointerId:ln}))}),Ae||this._fire(V.pointerup,{evt:T,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o.Konva["_"+te+"ListenClick"]=!1,T.cancelable&&te!=="touch"&&T.preventDefault()}_contextmenu(T){this.setPointersPositions(T);var V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(Q,{evt:T}):this._fire(Q,{evt:T,target:this,currentTarget:this})}_wheel(T){this.setPointersPositions(T);var V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(Se,{evt:T}):this._fire(Se,{evt:T,target:this,currentTarget:this})}_pointercancel(T){this.setPointersPositions(T);const V=m.getCapturedShape(T.pointerId)||this.getIntersection(this.getPointerPosition());V&&V._fireAndBubble(I,m.createEvent(T)),m.releaseCapture(T.pointerId)}_lostpointercapture(T){m.releaseCapture(T.pointerId)}setPointersPositions(T){var V=this._getContentPosition(),te=null,pe=null;T=T||window.event,T.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(T.touches,oe=>{this._pointerPositions.push({id:oe.identifier,x:(oe.clientX-V.left)/V.scaleX,y:(oe.clientY-V.top)/V.scaleY})}),Array.prototype.forEach.call(T.changedTouches||T.touches,oe=>{this._changedPointerPositions.push({id:oe.identifier,x:(oe.clientX-V.left)/V.scaleX,y:(oe.clientY-V.top)/V.scaleY})})):(te=(T.clientX-V.left)/V.scaleX,pe=(T.clientY-V.top)/V.scaleY,this.pointerPos={x:te,y:pe},this._pointerPositions=[{x:te,y:pe,id:n.Util._getFirstPointerId(T)}],this._changedPointerPositions=[{x:te,y:pe,id:n.Util._getFirstPointerId(T)}])}_setPointerPosition(T){n.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(T)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var T=this.content.getBoundingClientRect();return{top:T.top,left:T.left,scaleX:T.width/this.content.clientWidth||1,scaleY:T.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new c.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new c.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!o.Konva.isBrowser){var T=this.container();if(!T)throw"Stage has no container. A container is required.";T.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),T.appendChild(this.content),this._resizeDOM()}}cache(){return n.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(T){T.batchDraw()}),this}}d.Stage=Ie,Ie.prototype.nodeType=y,(0,v._registerNode)(Ie),a.Factory.addGetterSetter(Ie,"container")})(Ws);var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.Layer=void 0;const Qt=qe,ea=wn,Hn=rn,ta=kt,Ks=xt,k0=ge,x0=_n,I0=De;var A0="#",R0="beforeDraw",L0="draw",Ys=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],N0=Ys.length;class Bn extends ea.Container{constructor(n){super(n),this.canvas=new Ks.SceneCanvas,this.hitCanvas=new Ks.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(n){return this.getContext().clear(n),this.getHitCanvas().getContext().clear(n),this}setZIndex(n){super.setZIndex(n);var a=this.getStage();return a&&a.content&&(a.content.removeChild(this.getNativeCanvasElement()),n<a.children.length-1?a.content.insertBefore(this.getNativeCanvasElement(),a.children[n+1].getCanvas()._canvas):a.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Hn.Node.prototype.moveToTop.call(this);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),n.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var n=Hn.Node.prototype.moveUp.call(this);if(!n)return!1;var a=this.getStage();return!a||!a.content?!1:(a.content.removeChild(this.getNativeCanvasElement()),this.index<a.children.length-1?a.content.insertBefore(this.getNativeCanvasElement(),a.children[this.index+1].getCanvas()._canvas):a.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Hn.Node.prototype.moveDown.call(this)){var n=this.getStage();if(n){var a=n.children;n.content&&(n.content.removeChild(this.getNativeCanvasElement()),n.content.insertBefore(this.getNativeCanvasElement(),a[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Hn.Node.prototype.moveToBottom.call(this)){var n=this.getStage();if(n){var a=n.children;n.content&&(n.content.removeChild(this.getNativeCanvasElement()),n.content.insertBefore(this.getNativeCanvasElement(),a[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var n=this.getNativeCanvasElement();return Hn.Node.prototype.remove.call(this),n&&n.parentNode&&Qt.Util._isInDocument(n)&&n.parentNode.removeChild(n),this}getStage(){return this.parent}setSize({width:n,height:a}){return this.canvas.setSize(n,a),this.hitCanvas.setSize(n,a),this._setSmoothEnabled(),this}_validateAdd(n){var a=n.getType();a!=="Group"&&a!=="Shape"&&Qt.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(n){return n=n||{},n.width=n.width||this.getWidth(),n.height=n.height||this.getHeight(),n.x=n.x!==void 0?n.x:this.x(),n.y=n.y!==void 0?n.y:this.y(),Hn.Node.prototype._toKonvaCanvas.call(this,n)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Qt.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Qt.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Qt.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(n){if(!this.isListening()||!this.isVisible())return null;for(var a=1,l=!1;;){for(let o=0;o<N0;o++){const c=Ys[o],h=this._getIntersection({x:n.x+c.x*a,y:n.y+c.y*a}),v=h.shape;if(v)return v;if(l=!!h.antialiased,!h.antialiased)break}if(l)a+=1;else return null}}_getIntersection(n){const a=this.hitCanvas.pixelRatio,l=this.hitCanvas.context.getImageData(Math.round(n.x*a),Math.round(n.y*a),1,1).data,o=l[3];if(o===255){const c=Qt.Util._rgbToHex(l[0],l[1],l[2]),h=x0.shapes[A0+c];return h?{shape:h}:{antialiased:!0}}else if(o>0)return{antialiased:!0};return{}}drawScene(n,a){var l=this.getLayer(),o=n||l&&l.getCanvas();return this._fire(R0,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),ea.Container.prototype.drawScene.call(this,o,a),this._fire(L0,{node:this}),this}drawHit(n,a){var l=this.getLayer(),o=n||l&&l.hitCanvas;return l&&l.clearBeforeDraw()&&l.getHitCanvas().getContext().clear(),ea.Container.prototype.drawHit.call(this,o,a),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(n){Qt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(n)}getHitGraphEnabled(n){return Qt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var n=this.parent,a=!!this.hitCanvas._canvas.parentNode;a?n.content.removeChild(this.hitCanvas._canvas):n.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Qt.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}or.Layer=Bn,Bn.prototype.nodeType="Layer",(0,I0._registerNode)(Bn),ta.Factory.addGetterSetter(Bn,"imageSmoothingEnabled",!0),ta.Factory.addGetterSetter(Bn,"clearBeforeDraw",!0),ta.Factory.addGetterSetter(Bn,"hitGraphEnabled",!0,(0,k0.getBooleanValidator)());var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.FastLayer=void 0;const D0=qe,O0=or,M0=De;class na extends O0.Layer{constructor(n){super(n),this.listening(!1),D0.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Yr.FastLayer=na,na.prototype.nodeType="FastLayer",(0,M0._registerNode)(na);var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Group=void 0;const F0=qe,U0=wn,G0=De;class ra extends U0.Container{_validateAdd(n){var a=n.getType();a!=="Group"&&a!=="Shape"&&F0.Util.throw("You may only add groups and shapes to groups.")}}Qr.Group=ra,ra.prototype.nodeType="Group",(0,G0._registerNode)(ra);var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.Animation=void 0;const ia=De,Qs=qe;var aa=function(){return ia.glob.performance&&ia.glob.performance.now?function(){return ia.glob.performance.now()}:function(){return new Date().getTime()}}();class Mt{constructor(n,a){this.id=Mt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:aa(),frameRate:0},this.func=n,this.setLayers(a)}setLayers(n){var a=[];return n?n.length>0?a=n:a=[n]:a=[],this.layers=a,this}getLayers(){return this.layers}addLayer(n){var a=this.layers,l=a.length,o;for(o=0;o<l;o++)if(a[o]._id===n._id)return!1;return this.layers.push(n),!0}isRunning(){var n=Mt,a=n.animations,l=a.length,o;for(o=0;o<l;o++)if(a[o].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=aa(),Mt._addAnimation(this),this}stop(){return Mt._removeAnimation(this),this}_updateFrameObject(n){this.frame.timeDiff=n-this.frame.lastTime,this.frame.lastTime=n,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(n){this.animations.push(n),this._handleAnimation()}static _removeAnimation(n){var a=n.id,l=this.animations,o=l.length,c;for(c=0;c<o;c++)if(l[c].id===a){this.animations.splice(c,1);break}}static _runFrames(){var n={},a=this.animations,l,o,c,h,v,m,y,A,M;for(h=0;h<a.length;h++)if(l=a[h],o=l.layers,c=l.func,l._updateFrameObject(aa()),m=o.length,c?M=c.call(l,l.frame)!==!1:M=!0,!!M)for(v=0;v<m;v++)y=o[v],y._id!==void 0&&(n[y._id]=y);for(A in n)n.hasOwnProperty(A)&&n[A].batchDraw()}static _animationLoop(){var n=Mt;n.animations.length?(n._runFrames(),Qs.Util.requestAnimFrame(n._animationLoop)):n.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Qs.Util.requestAnimFrame(this._animationLoop))}}ur.Animation=Mt,Mt.animations=[],Mt.animIdCounter=0,Mt.animRunning=!1;var Xs={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.Easings=d.Tween=void 0;const n=qe,a=ur,l=rn,o=De;var c={node:1,duration:1,easing:1,onFinish:1,yoyo:1},h=1,v=2,m=3,y=0,A=["fill","stroke","shadowColor"];class M{constructor(p,C,k,N,U,f,_){this.prop=p,this.propFunc=C,this.begin=N,this._pos=N,this.duration=f,this._change=0,this.prevPos=0,this.yoyo=_,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=k,this._change=U-this.begin,this.pause()}fire(p){var C=this[p];C&&C()}setTime(p){p>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():p<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=p,this.update())}getTime(){return this._time}setPosition(p){this.prevPos=this._pos,this.propFunc(p),this._pos=p}getPosition(p){return p===void 0&&(p=this._time),this.func(p,this.begin,this._change,this.duration)}play(){this.state=v,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=m,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(p){this.pause(),this._time=p,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var p=this.getTimer()-this._startTime;this.state===v?this.setTime(p):this.state===m&&this.setTime(this.duration-p)}pause(){this.state=h,this.fire("onPause")}getTimer(){return new Date().getTime()}}class E{constructor(p){var C=this,k=p.node,N=k._id,U,f=p.easing||d.Easings.Linear,_=!!p.yoyo,I;typeof p.duration>"u"?U=.3:p.duration===0?U=.001:U=p.duration,this.node=k,this._id=y++;var D=k.getLayer()||(k instanceof o.Konva.Stage?k.getLayers():null);D||n.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new a.Animation(function(){C.tween.onEnterFrame()},D),this.tween=new M(I,function(H){C._tweenFunc(H)},f,0,1,U*1e3,_),this._addListeners(),E.attrs[N]||(E.attrs[N]={}),E.attrs[N][this._id]||(E.attrs[N][this._id]={}),E.tweens[N]||(E.tweens[N]={});for(I in p)c[I]===void 0&&this._addAttr(I,p[I]);this.reset(),this.onFinish=p.onFinish,this.onReset=p.onReset,this.onUpdate=p.onUpdate}_addAttr(p,C){var k=this.node,N=k._id,U,f,_,I,D,H,w,z;if(_=E.tweens[N][p],_&&delete E.attrs[N][_][p],U=k.getAttr(p),n.Util._isArray(C))if(f=[],D=Math.max(C.length,U.length),p==="points"&&C.length!==U.length&&(C.length>U.length?(w=U,U=n.Util._prepareArrayForTween(U,C,k.closed())):(H=C,C=n.Util._prepareArrayForTween(C,U,k.closed()))),p.indexOf("fill")===0)for(I=0;I<D;I++)if(I%2===0)f.push(C[I]-U[I]);else{var R=n.Util.colorToRGBA(U[I]);z=n.Util.colorToRGBA(C[I]),U[I]=R,f.push({r:z.r-R.r,g:z.g-R.g,b:z.b-R.b,a:z.a-R.a})}else for(I=0;I<D;I++)f.push(C[I]-U[I]);else A.indexOf(p)!==-1?(U=n.Util.colorToRGBA(U),z=n.Util.colorToRGBA(C),f={r:z.r-U.r,g:z.g-U.g,b:z.b-U.b,a:z.a-U.a}):f=C-U;E.attrs[N][this._id][p]={start:U,diff:f,end:C,trueEnd:H,trueStart:w},E.tweens[N][p]=this._id}_tweenFunc(p){var C=this.node,k=E.attrs[C._id][this._id],N,U,f,_,I,D,H,w;for(N in k){if(U=k[N],f=U.start,_=U.diff,w=U.end,n.Util._isArray(f))if(I=[],H=Math.max(f.length,w.length),N.indexOf("fill")===0)for(D=0;D<H;D++)D%2===0?I.push((f[D]||0)+_[D]*p):I.push("rgba("+Math.round(f[D].r+_[D].r*p)+","+Math.round(f[D].g+_[D].g*p)+","+Math.round(f[D].b+_[D].b*p)+","+(f[D].a+_[D].a*p)+")");else for(D=0;D<H;D++)I.push((f[D]||0)+_[D]*p);else A.indexOf(N)!==-1?I="rgba("+Math.round(f.r+_.r*p)+","+Math.round(f.g+_.g*p)+","+Math.round(f.b+_.b*p)+","+(f.a+_.a*p)+")":I=f+_*p;C.setAttr(N,I)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var p=this.node,C=E.attrs[p._id][this._id];C.points&&C.points.trueEnd&&p.setAttr("points",C.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var p=this.node,C=E.attrs[p._id][this._id];C.points&&C.points.trueStart&&p.points(C.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(p){return this.tween.seek(p*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var p=this.node._id,C=this._id,k=E.tweens[p],N;this.pause();for(N in k)delete E.tweens[p][N];delete E.attrs[p][C]}}d.Tween=E,E.attrs={},E.tweens={},l.Node.prototype.to=function(S){var p=S.onFinish;S.node=this,S.onFinish=function(){this.destroy(),p&&p()};var C=new E(S);C.play()},d.Easings={BackEaseIn(S,p,C,k){var N=1.70158;return C*(S/=k)*S*((N+1)*S-N)+p},BackEaseOut(S,p,C,k){var N=1.70158;return C*((S=S/k-1)*S*((N+1)*S+N)+1)+p},BackEaseInOut(S,p,C,k){var N=1.70158;return(S/=k/2)<1?C/2*(S*S*(((N*=1.525)+1)*S-N))+p:C/2*((S-=2)*S*(((N*=1.525)+1)*S+N)+2)+p},ElasticEaseIn(S,p,C,k,N,U){var f=0;return S===0?p:(S/=k)===1?p+C:(U||(U=k*.3),!N||N<Math.abs(C)?(N=C,f=U/4):f=U/(2*Math.PI)*Math.asin(C/N),-(N*Math.pow(2,10*(S-=1))*Math.sin((S*k-f)*(2*Math.PI)/U))+p)},ElasticEaseOut(S,p,C,k,N,U){var f=0;return S===0?p:(S/=k)===1?p+C:(U||(U=k*.3),!N||N<Math.abs(C)?(N=C,f=U/4):f=U/(2*Math.PI)*Math.asin(C/N),N*Math.pow(2,-10*S)*Math.sin((S*k-f)*(2*Math.PI)/U)+C+p)},ElasticEaseInOut(S,p,C,k,N,U){var f=0;return S===0?p:(S/=k/2)===2?p+C:(U||(U=k*(.3*1.5)),!N||N<Math.abs(C)?(N=C,f=U/4):f=U/(2*Math.PI)*Math.asin(C/N),S<1?-.5*(N*Math.pow(2,10*(S-=1))*Math.sin((S*k-f)*(2*Math.PI)/U))+p:N*Math.pow(2,-10*(S-=1))*Math.sin((S*k-f)*(2*Math.PI)/U)*.5+C+p)},BounceEaseOut(S,p,C,k){return(S/=k)<1/2.75?C*(7.5625*S*S)+p:S<2/2.75?C*(7.5625*(S-=1.5/2.75)*S+.75)+p:S<2.5/2.75?C*(7.5625*(S-=2.25/2.75)*S+.9375)+p:C*(7.5625*(S-=2.625/2.75)*S+.984375)+p},BounceEaseIn(S,p,C,k){return C-d.Easings.BounceEaseOut(k-S,0,C,k)+p},BounceEaseInOut(S,p,C,k){return S<k/2?d.Easings.BounceEaseIn(S*2,0,C,k)*.5+p:d.Easings.BounceEaseOut(S*2-k,0,C,k)*.5+C*.5+p},EaseIn(S,p,C,k){return C*(S/=k)*S+p},EaseOut(S,p,C,k){return-C*(S/=k)*(S-2)+p},EaseInOut(S,p,C,k){return(S/=k/2)<1?C/2*S*S+p:-C/2*(--S*(S-2)-1)+p},StrongEaseIn(S,p,C,k){return C*(S/=k)*S*S*S*S+p},StrongEaseOut(S,p,C,k){return C*((S=S/k-1)*S*S*S*S+1)+p},StrongEaseInOut(S,p,C,k){return(S/=k/2)<1?C/2*S*S*S*S*S+p:C/2*((S-=2)*S*S*S*S+2)+p},Linear(S,p,C,k){return C*S/k+p}}})(Xs),function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.Konva=void 0;const n=De,a=qe,l=rn,o=wn,c=Ws,h=or,v=Yr,m=Qr,y=Gr,A=_n,M=ur,E=Xs,S=Kt,p=xt;d.Konva=a.Util._assign(n.Konva,{Util:a.Util,Transform:a.Transform,Node:l.Node,Container:o.Container,Stage:c.Stage,stages:c.stages,Layer:h.Layer,FastLayer:v.FastLayer,Group:m.Group,DD:y.DD,Shape:A.Shape,shapes:A.shapes,Animation:M.Animation,Tween:E.Tween,Easings:E.Easings,Context:S.Context,Canvas:p.Canvas}),d.default=d.Konva}(Ji),function(d,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;var a=Ji;Object.defineProperty(n,"Konva",{enumerable:!0,get:function(){return a.Konva}});const l=Ji;d.exports=l.Konva}(Zi,Zi.exports);var qs=Zi.exports,Zs={exports:{}},Js={exports:{}},$s={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(d){function n(B,X){var ee=B.length;B.push(X);e:for(;0<ee;){var ne=ee-1>>>1,b=B[ne];if(0<o(b,X))B[ne]=X,B[ee]=b,ee=ne;else break e}}function a(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var X=B[0],ee=B.pop();if(ee!==X){B[0]=ee;e:for(var ne=0,b=B.length,Z=b>>>1;ne<Z;){var ue=2*(ne+1)-1,Ie=B[ue],_e=ue+1,T=B[_e];if(0>o(Ie,ee))_e<b&&0>o(T,Ie)?(B[ne]=T,B[_e]=ee,ne=_e):(B[ne]=Ie,B[ue]=ee,ne=ue);else if(_e<b&&0>o(T,ee))B[ne]=T,B[_e]=ee,ne=_e;else break e}}return X}function o(B,X){var ee=B.sortIndex-X.sortIndex;return ee!==0?ee:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;d.unstable_now=function(){return c.now()}}else{var h=Date,v=h.now();d.unstable_now=function(){return h.now()-v}}var m=[],y=[],A=1,M=null,E=3,S=!1,p=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(B){for(var X=a(y);X!==null;){if(X.callback===null)l(y);else if(X.startTime<=B)l(y),X.sortIndex=X.expirationTime,n(m,X);else break;X=a(y)}}function _(B){if(C=!1,f(B),!p)if(a(m)!==null)p=!0,fe(I);else{var X=a(y);X!==null&&Se(_,X.startTime-B)}}function I(B,X){p=!1,C&&(C=!1,N(w),w=-1),S=!0;var ee=E;try{for(f(X),M=a(m);M!==null&&(!(M.expirationTime>X)||B&&!G());){var ne=M.callback;if(typeof ne=="function"){M.callback=null,E=M.priorityLevel;var b=ne(M.expirationTime<=X);X=d.unstable_now(),typeof b=="function"?M.callback=b:M===a(m)&&l(m),f(X)}else l(m);M=a(m)}if(M!==null)var Z=!0;else{var ue=a(y);ue!==null&&Se(_,ue.startTime-X),Z=!1}return Z}finally{M=null,E=ee,S=!1}}var D=!1,H=null,w=-1,z=5,R=-1;function G(){return!(d.unstable_now()-R<z)}function Q(){if(H!==null){var B=d.unstable_now();R=B;var X=!0;try{X=H(!0,B)}finally{X?W():(D=!1,H=null)}}else D=!1}var W;if(typeof U=="function")W=function(){U(Q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ie=$.port2;$.port1.onmessage=Q,W=function(){ie.postMessage(null)}}else W=function(){k(Q,0)};function fe(B){H=B,D||(D=!0,W())}function Se(B,X){w=k(function(){B(d.unstable_now())},X)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(B){B.callback=null},d.unstable_continueExecution=function(){p||S||(p=!0,fe(I))},d.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},d.unstable_getCurrentPriorityLevel=function(){return E},d.unstable_getFirstCallbackNode=function(){return a(m)},d.unstable_next=function(B){switch(E){case 1:case 2:case 3:var X=3;break;default:X=E}var ee=E;E=X;try{return B()}finally{E=ee}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ee=E;E=B;try{return X()}finally{E=ee}},d.unstable_scheduleCallback=function(B,X,ee){var ne=d.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,B){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ee+b,B={id:A++,callback:X,priorityLevel:B,startTime:ee,expirationTime:b,sortIndex:-1},ee>ne?(B.sortIndex=ee,n(y,B),a(m)===null&&B===a(y)&&(C?(N(w),w=-1):C=!0,Se(_,ee-ne))):(B.sortIndex=b,n(m,B),p||S||(p=!0,fe(I))),B},d.unstable_shouldYield=G,d.unstable_wrapCallback=function(B){var X=E;return function(){var ee=E;E=X;try{return B.apply(this,arguments)}finally{E=ee}}}})($s),Js.exports=$s;var el=Js.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0=function(n){var a={},l=Ne,o=el,c=Object.assign;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),y=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),p=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),I=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}function H(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case y:return"Portal";case E:return"Profiler";case M:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case U:return t=e.displayName||null,t!==null?t:H(e.type)||"Memo";case f:t=e._payload,e=e._init;try{return H(e(t))}catch{}}return null}function w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function z(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function R(e){if(z(e)!==e)throw Error(h(188))}function G(e){var t=e.alternate;if(!t){if(t=z(e),t===null)throw Error(h(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var u=s.alternate;if(u===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===r)return R(s),e;if(u===i)return R(s),t;u=u.sibling}throw Error(h(188))}if(r.return!==i.return)r=s,i=u;else{for(var g=!1,P=s.child;P;){if(P===r){g=!0,r=s,i=u;break}if(P===i){g=!0,i=s,r=u;break}P=P.sibling}if(!g){for(P=u.child;P;){if(P===r){g=!0,r=u,i=s;break}if(P===i){g=!0,i=u,r=s;break}P=P.sibling}if(!g)throw Error(h(189))}}if(r.alternate!==i)throw Error(h(190))}if(r.tag!==3)throw Error(h(188));return r.stateNode.current===r?e:t}function Q(e){return e=G(e),e!==null?W(e):null}function W(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=W(e);if(t!==null)return t;e=e.sibling}return null}function $(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var t=$(e);if(t!==null)return t}e=e.sibling}return null}var ie=Array.isArray,fe=n.getPublicInstance,Se=n.getRootHostContext,B=n.getChildHostContext,X=n.prepareForCommit,ee=n.resetAfterCommit,ne=n.createInstance,b=n.appendInitialChild,Z=n.finalizeInitialChildren,ue=n.prepareUpdate,Ie=n.shouldSetTextContent,_e=n.createTextInstance,T=n.scheduleTimeout,V=n.cancelTimeout,te=n.noTimeout,pe=n.isPrimaryRenderer,oe=n.supportsMutation,Ee=n.supportsPersistence,Ae=n.supportsHydration,mt=n.getInstanceFromNode,we=n.preparePortalMount,ln=n.getCurrentEventPriority,It=n.detachDeletedInstance,on=n.supportsMicrotasks,r1=n.scheduleMicrotask,hr=n.supportsTestSelectors,i1=n.findFiberRoot,a1=n.getBoundingRect,s1=n.getTextContent,cr=n.isHiddenSubtree,l1=n.matchAccessibilityRole,o1=n.setFocusIfFocusable,u1=n.setupIntersectionObserver,d1=n.appendChild,h1=n.appendChildToContainer,c1=n.commitTextUpdate,f1=n.commitMount,g1=n.commitUpdate,p1=n.insertBefore,v1=n.insertInContainerBefore,m1=n.removeChild,y1=n.removeChildFromContainer,fl=n.resetTextContent,_1=n.hideInstance,S1=n.hideTextInstance,C1=n.unhideInstance,w1=n.unhideTextInstance,P1=n.clearContainer,E1=n.cloneInstance,gl=n.createContainerChildSet,pl=n.appendChildToContainerChildSet,T1=n.finalizeContainerChildren,oa=n.replaceContainerChildren,vl=n.cloneHiddenInstance,ml=n.cloneHiddenTextInstance,k1=n.canHydrateInstance,x1=n.canHydrateTextInstance,I1=n.canHydrateSuspenseInstance,yl=n.isSuspenseInstancePending,ua=n.isSuspenseInstanceFallback,A1=n.getSuspenseInstanceFallbackErrorDetails,R1=n.registerSuspenseInstanceRetry,Xr=n.getNextHydratableSibling,L1=n.getFirstHydratableChild,N1=n.getFirstHydratableChildWithinContainer,D1=n.getFirstHydratableChildWithinSuspenseInstance,O1=n.hydrateInstance,M1=n.hydrateTextInstance,F1=n.hydrateSuspenseInstance,U1=n.getNextHydratableInstanceAfterSuspenseInstance,G1=n.commitHydratedContainer,z1=n.commitHydratedSuspenseInstance,H1=n.clearSuspenseBoundary,B1=n.clearSuspenseBoundaryFromContainer,V1=n.shouldDeleteUnhydratedTailInstances,j1=n.didNotMatchHydratedContainerTextInstance,b1=n.didNotMatchHydratedTextInstance,da;function fr(e){if(da===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);da=t&&t[1]||""}return`
`+da+e}var ha=!1;function ca(e,t){if(!e||ha)return"";ha=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(j){var i=j}Reflect.construct(e,[],t)}else{try{t.call()}catch(j){i=j}e.call(t.prototype)}else{try{throw Error()}catch(j){i=j}e()}}catch(j){if(j&&i&&typeof j.stack=="string"){for(var s=j.stack.split(`
`),u=i.stack.split(`
`),g=s.length-1,P=u.length-1;1<=g&&0<=P&&s[g]!==u[P];)P--;for(;1<=g&&0<=P;g--,P--)if(s[g]!==u[P]){if(g!==1||P!==1)do if(g--,P--,0>P||s[g]!==u[P]){var O=`
`+s[g].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=g&&0<=P);break}}}finally{ha=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fr(e):""}var W1=Object.prototype.hasOwnProperty,fa=[],jn=-1;function un(e){return{current:e}}function ke(e){0>jn||(e.current=fa[jn],fa[jn]=null,jn--)}function Te(e,t){jn++,fa[jn]=e.current,e.current=t}var dn={},$e=un(dn),st=un(!1),Tn=dn;function bn(e,t){var r=e.type.contextTypes;if(!r)return dn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in r)s[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function qr(){ke(st),ke($e)}function _l(e,t,r){if($e.current!==dn)throw Error(h(168));Te($e,t),Te(st,r)}function Sl(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(h(108,w(e)||"Unknown",s));return c({},r,i)}function Zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Tn=$e.current,Te($e,e),Te(st,st.current),!0}function Cl(e,t,r){var i=e.stateNode;if(!i)throw Error(h(169));r?(e=Sl(e,t,Tn),i.__reactInternalMemoizedMergedChildContext=e,ke(st),ke($e),Te($e,e)):ke(st),Te(st,r)}var At=Math.clz32?Math.clz32:Q1,K1=Math.log,Y1=Math.LN2;function Q1(e){return e>>>=0,e===0?32:31-(K1(e)/Y1|0)|0}var Jr=64,$r=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,u=e.pingedLanes,g=r&268435455;if(g!==0){var P=g&~s;P!==0?i=gr(P):(u&=g,u!==0&&(i=gr(u)))}else g=r&~s,g!==0?i=gr(g):u!==0&&(i=gr(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,u=t&-t,s>=u||s===16&&(u&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-At(t),s=1<<r,i|=e[r],t&=~s;return i}function X1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q1(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,u=e.pendingLanes;0<u;){var g=31-At(u),P=1<<g,O=s[g];O===-1?(!(P&r)||P&i)&&(s[g]=X1(P,t)):O<=t&&(e.expiredLanes|=P),u&=~P}}function ga(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wl(){var e=Jr;return Jr<<=1,!(Jr&4194240)&&(Jr=64),e}function pa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=r}function Z1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-At(r),u=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~u}}function va(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-At(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var ve=0;function Pl(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ma=o.unstable_scheduleCallback,El=o.unstable_cancelCallback,J1=o.unstable_shouldYield,$1=o.unstable_requestPaint,We=o.unstable_now,ya=o.unstable_ImmediatePriority,ed=o.unstable_UserBlockingPriority,_a=o.unstable_NormalPriority,td=o.unstable_IdlePriority,ti=null,Ft=null;function nd(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ti,e,void 0,(e.current.flags&128)===128)}catch{}}function rd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:rd,Xt=null,ni=!1,Sa=!1;function Tl(e){Xt===null?Xt=[e]:Xt.push(e)}function id(e){ni=!0,Tl(e)}function Ut(){if(!Sa&&Xt!==null){Sa=!0;var e=0,t=ve;try{var r=Xt;for(ve=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Xt=null,ni=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(e+1)),ma(ya,Ut),s}finally{ve=t,Sa=!1}}return null}var Wn=[],Kn=0,ri=null,ii=0,yt=[],_t=0,kn=null,qt=1,Zt="";function xn(e,t){Wn[Kn++]=ii,Wn[Kn++]=ri,ri=e,ii=t}function kl(e,t,r){yt[_t++]=qt,yt[_t++]=Zt,yt[_t++]=kn,kn=e;var i=qt;e=Zt;var s=32-At(i)-1;i&=~(1<<s),r+=1;var u=32-At(t)+s;if(30<u){var g=s-s%5;u=(i&(1<<g)-1).toString(32),i>>=g,s-=g,qt=1<<32-At(t)+s|r<<s|i,Zt=u+e}else qt=1<<u|r<<s|i,Zt=e}function Ca(e){e.return!==null&&(xn(e,1),kl(e,1,0))}function wa(e){for(;e===ri;)ri=Wn[--Kn],Wn[Kn]=null,ii=Wn[--Kn],Wn[Kn]=null;for(;e===kn;)kn=yt[--_t],yt[_t]=null,Zt=yt[--_t],yt[_t]=null,qt=yt[--_t],yt[_t]=null}var ft=null,St=null,Re=!1,vr=!1,Lt=null;function xl(e,t){var r=Tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Il(e,t){switch(e.tag){case 5:return t=k1(t,e.type,e.pendingProps),t!==null?(e.stateNode=t,ft=e,St=L1(t),!0):!1;case 6:return t=x1(t,e.pendingProps),t!==null?(e.stateNode=t,ft=e,St=null,!0):!1;case 13:if(t=I1(t),t!==null){var r=kn!==null?{id:qt,overflow:Zt}:null;return e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ft=e,St=null,!0}return!1;default:return!1}}function Pa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ea(e){if(Re){var t=St;if(t){var r=t;if(!Il(e,t)){if(Pa(e))throw Error(h(418));t=Xr(r);var i=ft;t&&Il(e,t)?xl(i,r):(e.flags=e.flags&-4097|2,Re=!1,ft=e)}}else{if(Pa(e))throw Error(h(418));e.flags=e.flags&-4097|2,Re=!1,ft=e}}}function Al(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function ai(e){if(!Ae||e!==ft)return!1;if(!Re)return Al(e),Re=!0,!1;if(e.tag!==3&&(e.tag!==5||V1(e.type)&&!Ie(e.type,e.memoizedProps))){var t=St;if(t){if(Pa(e))throw Rl(),Error(h(418));for(;t;)xl(e,t),t=Xr(t)}}if(Al(e),e.tag===13){if(!Ae)throw Error(h(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));St=U1(e)}else St=ft?Xr(e.stateNode):null;return!0}function Rl(){for(var e=St;e;)e=Xr(e)}function Yn(){Ae&&(St=ft=null,vr=Re=!1)}function Ta(e){Lt===null?Lt=[e]:Lt.push(e)}var ad=v.ReactCurrentBatchConfig;function si(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!W1.call(t,s)||!Rt(e[s],t[s]))return!1}return!0}function sd(e){switch(e.tag){case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return e=ca(e.type,!1),e;case 11:return e=ca(e.type.render,!1),e;case 1:return e=ca(e.type,!0),e;default:return""}}function Nt(e,t){if(e&&e.defaultProps){t=c({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var li=un(null),oi=null,Qn=null,ka=null;function xa(){ka=Qn=oi=null}function Ll(e,t,r){pe?(Te(li,t._currentValue),t._currentValue=r):(Te(li,t._currentValue2),t._currentValue2=r)}function Ia(e){var t=li.current;ke(li),pe?e._currentValue=t:e._currentValue2=t}function Aa(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Xn(e,t){oi=e,ka=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Ct(e){var t=pe?e._currentValue:e._currentValue2;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(oi===null)throw Error(h(308));Qn=e,oi.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var In=null;function Ra(e){In===null?In=[e]:In.push(e)}function Nl(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,Ra(t)):(r.next=s.next,s.next=r),t.interleaved=r,Gt(e,i)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hn=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,Gt(e,r)}return s=i.interleaved,s===null?(t.next=t,Ra(i)):(t.next=s.next,s.next=t),i.interleaved=t,Gt(e,r)}function ui(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,va(e,r)}}function Ol(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?s=u=g:u=u.next=g,r=r.next}while(r!==null);u===null?s=u=t:u=u.next=t}else s=u=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function di(e,t,r,i){var s=e.updateQueue;hn=!1;var u=s.firstBaseUpdate,g=s.lastBaseUpdate,P=s.shared.pending;if(P!==null){s.shared.pending=null;var O=P,j=O.next;O.next=null,g===null?u=j:g.next=j,g=O;var J=e.alternate;J!==null&&(J=J.updateQueue,P=J.lastBaseUpdate,P!==g&&(P===null?J.firstBaseUpdate=j:P.next=j,J.lastBaseUpdate=O))}if(u!==null){var se=s.baseState;g=0,J=j=O=null,P=u;do{var K=P.lane,xe=P.eventTime;if((i&K)===K){J!==null&&(J=J.next={eventTime:xe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var Pe=e,ht=P;switch(K=t,xe=r,ht.tag){case 1:if(Pe=ht.payload,typeof Pe=="function"){se=Pe.call(xe,se,K);break e}se=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=ht.payload,K=typeof Pe=="function"?Pe.call(xe,se,K):Pe,K==null)break e;se=c({},se,K);break e;case 2:hn=!0}}P.callback!==null&&P.lane!==0&&(e.flags|=64,K=s.effects,K===null?s.effects=[P]:K.push(P))}else xe={eventTime:xe,lane:K,tag:P.tag,payload:P.payload,callback:P.callback,next:null},J===null?(j=J=xe,O=se):J=J.next=xe,g|=K;if(P=P.next,P===null){if(P=s.shared.pending,P===null)break;K=P,P=K.next,K.next=null,s.lastBaseUpdate=K,s.shared.pending=null}}while(1);if(J===null&&(O=se),s.baseState=O,s.firstBaseUpdate=j,s.lastBaseUpdate=J,t=s.shared.interleaved,t!==null){s=t;do g|=s.lane,s=s.next;while(s!==t)}else u===null&&(s.shared.lanes=0);Rn|=g,e.lanes=g,e.memoizedState=se}}function Ml(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(h(191,s));s.call(i)}}}var Fl=new l.Component().refs;function Na(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:c({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hi={isMounted:function(e){return(e=e._reactInternals)?z(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=rt(),s=pn(e),u=Jt(i,s);u.payload=t,r!=null&&(u.callback=r),t=cn(e,u,s),t!==null&&(Et(t,e,s,i),ui(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=rt(),s=pn(e),u=Jt(i,s);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=cn(e,u,s),t!==null&&(Et(t,e,s,i),ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),i=pn(e),s=Jt(r,i);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,i),t!==null&&(Et(t,e,i,r),ui(t,e,i))}};function Ul(e,t,r,i,s,u,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,g):t.prototype&&t.prototype.isPureReactComponent?!si(r,i)||!si(s,u):!0}function Gl(e,t,r){var i=!1,s=dn,u=t.contextType;return typeof u=="object"&&u!==null?u=Ct(u):(s=lt(t)?Tn:$e.current,i=t.contextTypes,u=(i=i!=null)?bn(e,s):dn),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),t}function zl(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function Da(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=Fl,La(e);var u=t.contextType;typeof u=="object"&&u!==null?s.context=Ct(u):(u=lt(t)?Tn:$e.current,s.context=bn(e,u)),s.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Na(e,t,u,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hi.enqueueReplaceState(s,s.state,null),di(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(h(309));var i=r.stateNode}if(!i)throw Error(h(147,e));var s=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(g){var P=s.refs;P===Fl&&(P=s.refs={}),g===null?delete P[u]:P[u]=g},t._stringRef=u,t)}if(typeof e!="string")throw Error(h(284));if(!r._owner)throw Error(h(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hl(e){var t=e._init;return t(e._payload)}function Bl(e){function t(L,x){if(e){var F=L.deletions;F===null?(L.deletions=[x],L.flags|=16):F.push(x)}}function r(L,x){if(!e)return null;for(;x!==null;)t(L,x),x=x.sibling;return null}function i(L,x){for(L=new Map;x!==null;)x.key!==null?L.set(x.key,x):L.set(x.index,x),x=x.sibling;return L}function s(L,x){return L=mn(L,x),L.index=0,L.sibling=null,L}function u(L,x,F){return L.index=F,e?(F=L.alternate,F!==null?(F=F.index,F<x?(L.flags|=2,x):F):(L.flags|=2,x)):(L.flags|=1048576,x)}function g(L){return e&&L.alternate===null&&(L.flags|=2),L}function P(L,x,F,Y){return x===null||x.tag!==6?(x=Ss(F,L.mode,Y),x.return=L,x):(x=s(x,F),x.return=L,x)}function O(L,x,F,Y){var re=F.type;return re===A?J(L,x,F.props.children,Y,F.key):x!==null&&(x.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===f&&Hl(re)===x.type)?(Y=s(x,F.props),Y.ref=mr(L,x,F),Y.return=L,Y):(Y=Gi(F.type,F.key,F.props,null,L.mode,Y),Y.ref=mr(L,x,F),Y.return=L,Y)}function j(L,x,F,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==F.containerInfo||x.stateNode.implementation!==F.implementation?(x=Cs(F,L.mode,Y),x.return=L,x):(x=s(x,F.children||[]),x.return=L,x)}function J(L,x,F,Y,re){return x===null||x.tag!==7?(x=On(F,L.mode,Y,re),x.return=L,x):(x=s(x,F),x.return=L,x)}function se(L,x,F){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ss(""+x,L.mode,F),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case m:return F=Gi(x.type,x.key,x.props,null,L.mode,F),F.ref=mr(L,null,x),F.return=L,F;case y:return x=Cs(x,L.mode,F),x.return=L,x;case f:var Y=x._init;return se(L,Y(x._payload),F)}if(ie(x)||D(x))return x=On(x,L.mode,F,null),x.return=L,x;ci(L,x)}return null}function K(L,x,F,Y){var re=x!==null?x.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return re!==null?null:P(L,x,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case m:return F.key===re?O(L,x,F,Y):null;case y:return F.key===re?j(L,x,F,Y):null;case f:return re=F._init,K(L,x,re(F._payload),Y)}if(ie(F)||D(F))return re!==null?null:J(L,x,F,Y,null);ci(L,F)}return null}function xe(L,x,F,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return L=L.get(F)||null,P(x,L,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case m:return L=L.get(Y.key===null?F:Y.key)||null,O(x,L,Y,re);case y:return L=L.get(Y.key===null?F:Y.key)||null,j(x,L,Y,re);case f:var de=Y._init;return xe(L,x,F,de(Y._payload),re)}if(ie(Y)||D(Y))return L=L.get(F)||null,J(x,L,Y,re,null);ci(x,Y)}return null}function Pe(L,x,F,Y){for(var re=null,de=null,le=x,me=x=0,Qe=null;le!==null&&me<F.length;me++){le.index>me?(Qe=le,le=null):Qe=le.sibling;var ye=K(L,le,F[me],Y);if(ye===null){le===null&&(le=Qe);break}e&&le&&ye.alternate===null&&t(L,le),x=u(ye,x,me),de===null?re=ye:de.sibling=ye,de=ye,le=Qe}if(me===F.length)return r(L,le),Re&&xn(L,me),re;if(le===null){for(;me<F.length;me++)le=se(L,F[me],Y),le!==null&&(x=u(le,x,me),de===null?re=le:de.sibling=le,de=le);return Re&&xn(L,me),re}for(le=i(L,le);me<F.length;me++)Qe=xe(le,L,me,F[me],Y),Qe!==null&&(e&&Qe.alternate!==null&&le.delete(Qe.key===null?me:Qe.key),x=u(Qe,x,me),de===null?re=Qe:de.sibling=Qe,de=Qe);return e&&le.forEach(function(yn){return t(L,yn)}),Re&&xn(L,me),re}function ht(L,x,F,Y){var re=D(F);if(typeof re!="function")throw Error(h(150));if(F=re.call(F),F==null)throw Error(h(151));for(var de=re=null,le=x,me=x=0,Qe=null,ye=F.next();le!==null&&!ye.done;me++,ye=F.next()){le.index>me?(Qe=le,le=null):Qe=le.sibling;var yn=K(L,le,ye.value,Y);if(yn===null){le===null&&(le=Qe);break}e&&le&&yn.alternate===null&&t(L,le),x=u(yn,x,me),de===null?re=yn:de.sibling=yn,de=yn,le=Qe}if(ye.done)return r(L,le),Re&&xn(L,me),re;if(le===null){for(;!ye.done;me++,ye=F.next())ye=se(L,ye.value,Y),ye!==null&&(x=u(ye,x,me),de===null?re=ye:de.sibling=ye,de=ye);return Re&&xn(L,me),re}for(le=i(L,le);!ye.done;me++,ye=F.next())ye=xe(le,L,me,ye.value,Y),ye!==null&&(e&&ye.alternate!==null&&le.delete(ye.key===null?me:ye.key),x=u(ye,x,me),de===null?re=ye:de.sibling=ye,de=ye);return e&&le.forEach(function(Fd){return t(L,Fd)}),Re&&xn(L,me),re}function tn(L,x,F,Y){if(typeof F=="object"&&F!==null&&F.type===A&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case m:e:{for(var re=F.key,de=x;de!==null;){if(de.key===re){if(re=F.type,re===A){if(de.tag===7){r(L,de.sibling),x=s(de,F.props.children),x.return=L,L=x;break e}}else if(de.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===f&&Hl(re)===de.type){r(L,de.sibling),x=s(de,F.props),x.ref=mr(L,de,F),x.return=L,L=x;break e}r(L,de);break}else t(L,de);de=de.sibling}F.type===A?(x=On(F.props.children,L.mode,Y,F.key),x.return=L,L=x):(Y=Gi(F.type,F.key,F.props,null,L.mode,Y),Y.ref=mr(L,x,F),Y.return=L,L=Y)}return g(L);case y:e:{for(de=F.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===F.containerInfo&&x.stateNode.implementation===F.implementation){r(L,x.sibling),x=s(x,F.children||[]),x.return=L,L=x;break e}else{r(L,x);break}else t(L,x);x=x.sibling}x=Cs(F,L.mode,Y),x.return=L,L=x}return g(L);case f:return de=F._init,tn(L,x,de(F._payload),Y)}if(ie(F))return Pe(L,x,F,Y);if(D(F))return ht(L,x,F,Y);ci(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,x!==null&&x.tag===6?(r(L,x.sibling),x=s(x,F),x.return=L,L=x):(r(L,x),x=Ss(F,L.mode,Y),x.return=L,L=x),g(L)):r(L,x)}return tn}var qn=Bl(!0),Vl=Bl(!1),yr={},wt=un(yr),_r=un(yr),Zn=un(yr);function zt(e){if(e===yr)throw Error(h(174));return e}function Oa(e,t){Te(Zn,t),Te(_r,e),Te(wt,yr),e=Se(t),ke(wt),Te(wt,e)}function Jn(){ke(wt),ke(_r),ke(Zn)}function jl(e){var t=zt(Zn.current),r=zt(wt.current);t=B(r,e.type,t),r!==t&&(Te(_r,e),Te(wt,t))}function Ma(e){_r.current===e&&(ke(wt),ke(_r))}var Oe=un(0);function fi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||yl(r)||ua(r)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=[];function Ua(){for(var e=0;e<Fa.length;e++){var t=Fa[e];pe?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Fa.length=0}var gi=v.ReactCurrentDispatcher,Ga=v.ReactCurrentBatchConfig,An=0,Me=null,Ve=null,Ke=null,pi=!1,Sr=!1,Cr=0,ld=0;function et(){throw Error(h(321))}function za(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function Ha(e,t,r,i,s,u){if(An=u,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gi.current=e===null||e.memoizedState===null?hd:cd,e=r(i,s),Sr){u=0;do{if(Sr=!1,Cr=0,25<=u)throw Error(h(301));u+=1,Ke=Ve=null,t.updateQueue=null,gi.current=fd,e=r(i,s)}while(Sr)}if(gi.current=yi,t=Ve!==null&&Ve.next!==null,An=0,Ke=Ve=Me=null,pi=!1,t)throw Error(h(300));return e}function Ba(){var e=Cr!==0;return Cr=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Me.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Pt(){if(Ve===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Ke===null?Me.memoizedState:Ke.next;if(t!==null)Ke=t,Ve=e;else{if(e===null)throw Error(h(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Ke===null?Me.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function wr(e,t){return typeof t=="function"?t(e):t}function Va(e){var t=Pt(),r=t.queue;if(r===null)throw Error(h(311));r.lastRenderedReducer=e;var i=Ve,s=i.baseQueue,u=r.pending;if(u!==null){if(s!==null){var g=s.next;s.next=u.next,u.next=g}i.baseQueue=s=u,r.pending=null}if(s!==null){u=s.next,i=i.baseState;var P=g=null,O=null,j=u;do{var J=j.lane;if((An&J)===J)O!==null&&(O=O.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),i=j.hasEagerState?j.eagerState:e(i,j.action);else{var se={lane:J,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};O===null?(P=O=se,g=i):O=O.next=se,Me.lanes|=J,Rn|=J}j=j.next}while(j!==null&&j!==u);O===null?g=i:O.next=P,Rt(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseState=g,t.baseQueue=O,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do u=s.lane,Me.lanes|=u,Rn|=u,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ja(e){var t=Pt(),r=t.queue;if(r===null)throw Error(h(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,u=t.memoizedState;if(s!==null){r.pending=null;var g=s=s.next;do u=e(u,g.action),g=g.next;while(g!==s);Rt(u,t.memoizedState)||(ot=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,i]}function bl(){}function Wl(e,t){var r=Me,i=Pt(),s=t(),u=!Rt(i.memoizedState,s);if(u&&(i.memoizedState=s,ot=!0),i=i.queue,ba(Ql.bind(null,r,i,e),[e]),i.getSnapshot!==t||u||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,Pr(9,Yl.bind(null,r,i,s,t),void 0,null),Ye===null)throw Error(h(349));An&30||Kl(r,t,s)}return s}function Kl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yl(e,t,r,i){t.value=r,t.getSnapshot=i,Xl(t)&&ql(e)}function Ql(e,t,r){return r(function(){Xl(t)&&ql(e)})}function Xl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function ql(e){var t=Gt(e,1);t!==null&&Et(t,e,1,-1)}function Zl(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:e},t.queue=e,e=e.dispatch=dd.bind(null,Me,e),[t.memoizedState,e]}function Pr(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Jl(){return Pt().memoizedState}function vi(e,t,r,i){var s=Ht();Me.flags|=e,s.memoizedState=Pr(1|t,r,void 0,i===void 0?null:i)}function mi(e,t,r,i){var s=Pt();i=i===void 0?null:i;var u=void 0;if(Ve!==null){var g=Ve.memoizedState;if(u=g.destroy,i!==null&&za(i,g.deps)){s.memoizedState=Pr(t,r,u,i);return}}Me.flags|=e,s.memoizedState=Pr(1|t,r,u,i)}function $l(e,t){return vi(8390656,8,e,t)}function ba(e,t){return mi(2048,8,e,t)}function eo(e,t){return mi(4,2,e,t)}function to(e,t){return mi(4,4,e,t)}function no(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ro(e,t,r){return r=r!=null?r.concat([e]):null,mi(4,4,no.bind(null,t,e),r)}function Wa(){}function io(e,t){var r=Pt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&za(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function ao(e,t){var r=Pt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&za(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function so(e,t,r){return An&21?(Rt(r,t)||(r=wl(),Me.lanes|=r,Rn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function od(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var i=Ga.transition;Ga.transition={};try{e(!1),t()}finally{ve=r,Ga.transition=i}}function lo(){return Pt().memoizedState}function ud(e,t,r){var i=pn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},oo(e))uo(t,r);else if(r=Nl(e,t,r,i),r!==null){var s=rt();Et(r,e,i,s),ho(r,t,i)}}function dd(e,t,r){var i=pn(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(oo(e))uo(t,s);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var g=t.lastRenderedState,P=u(g,r);if(s.hasEagerState=!0,s.eagerState=P,Rt(P,g)){var O=t.interleaved;O===null?(s.next=s,Ra(t)):(s.next=O.next,O.next=s),t.interleaved=s;return}}catch{}finally{}r=Nl(e,t,s,i),r!==null&&(s=rt(),Et(r,e,i,s),ho(r,t,i))}}function oo(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function uo(e,t){Sr=pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ho(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,va(e,r)}}var yi={readContext:Ct,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},hd={readContext:Ct,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:$l,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vi(4194308,4,no.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var r=Ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Ht();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ud.bind(null,Me,e),[i.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Zl,useDebugValue:Wa,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Zl(!1),t=e[0];return e=od.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Me,s=Ht();if(Re){if(r===void 0)throw Error(h(407));r=r()}else{if(r=t(),Ye===null)throw Error(h(349));An&30||Kl(i,t,r)}s.memoizedState=r;var u={value:r,getSnapshot:t};return s.queue=u,$l(Ql.bind(null,i,u,e),[e]),i.flags|=2048,Pr(9,Yl.bind(null,i,u,r,t),void 0,null),r},useId:function(){var e=Ht(),t=Ye.identifierPrefix;if(Re){var r=Zt,i=qt;r=(i&~(1<<32-At(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Cr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ld++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cd={readContext:Ct,useCallback:io,useContext:Ct,useEffect:ba,useImperativeHandle:ro,useInsertionEffect:eo,useLayoutEffect:to,useMemo:ao,useReducer:Va,useRef:Jl,useState:function(){return Va(wr)},useDebugValue:Wa,useDeferredValue:function(e){var t=Pt();return so(t,Ve.memoizedState,e)},useTransition:function(){var e=Va(wr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:bl,useSyncExternalStore:Wl,useId:lo,unstable_isNewReconciler:!1},fd={readContext:Ct,useCallback:io,useContext:Ct,useEffect:ba,useImperativeHandle:ro,useInsertionEffect:eo,useLayoutEffect:to,useMemo:ao,useReducer:ja,useRef:Jl,useState:function(){return ja(wr)},useDebugValue:Wa,useDeferredValue:function(e){var t=Pt();return Ve===null?t.memoizedState=e:so(t,Ve.memoizedState,e)},useTransition:function(){var e=ja(wr)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:bl,useSyncExternalStore:Wl,useId:lo,unstable_isNewReconciler:!1};function $n(e,t){try{var r="",i=t;do r+=sd(i),i=i.return;while(i);var s=r}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:s,digest:null}}function Ka(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ya(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gd=typeof WeakMap=="function"?WeakMap:Map;function co(e,t,r){r=Jt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Ni||(Ni=!0,fs=i),Ya(e,t)},r}function fo(e,t,r){r=Jt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){Ya(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Ya(e,t),typeof i!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function go(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new gd;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=Id.bind(null,e,t,r),t.then(e,e))}function po(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vo(e,t,r,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jt(-1,1),t.tag=2,cn(r,t,1))),r.lanes|=1),e)}var pd=v.ReactCurrentOwner,ot=!1;function at(e,t,r,i){t.child=e===null?Vl(t,null,r,i):qn(t,e.child,r,i)}function mo(e,t,r,i,s){r=r.render;var u=t.ref;return Xn(t,s),i=Ha(e,t,r,i,u,s),r=Ba(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(Re&&r&&Ca(t),t.flags|=1,at(e,t,i,s),t.child)}function yo(e,t,r,i,s){if(e===null){var u=r.type;return typeof u=="function"&&!_s(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,_o(e,t,u,i,s)):(e=Gi(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&s)){var g=u.memoizedProps;if(r=r.compare,r=r!==null?r:si,r(g,i)&&e.ref===t.ref)return $t(e,t,s)}return t.flags|=1,e=mn(u,i),e.ref=t.ref,e.return=t,t.child=e}function _o(e,t,r,i,s){if(e!==null){var u=e.memoizedProps;if(si(u,i)&&e.ref===t.ref)if(ot=!1,t.pendingProps=i=u,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,$t(e,t,s)}return Qa(e,t,r,i,s)}function So(e,t,r){var i=t.pendingProps,s=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(tr,gt),gt|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(tr,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:r,Te(tr,gt),gt|=i}else u!==null?(i=u.baseLanes|r,t.memoizedState=null):i=r,Te(tr,gt),gt|=i;return at(e,t,s,r),t.child}function Co(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Qa(e,t,r,i,s){var u=lt(r)?Tn:$e.current;return u=bn(t,u),Xn(t,s),r=Ha(e,t,r,i,u,s),i=Ba(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(Re&&i&&Ca(t),t.flags|=1,at(e,t,r,s),t.child)}function wo(e,t,r,i,s){if(lt(r)){var u=!0;Zr(t)}else u=!1;if(Xn(t,s),t.stateNode===null)Si(e,t),Gl(t,r,i),Da(t,r,i,s),i=!0;else if(e===null){var g=t.stateNode,P=t.memoizedProps;g.props=P;var O=g.context,j=r.contextType;typeof j=="object"&&j!==null?j=Ct(j):(j=lt(r)?Tn:$e.current,j=bn(t,j));var J=r.getDerivedStateFromProps,se=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function";se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(P!==i||O!==j)&&zl(t,g,i,j),hn=!1;var K=t.memoizedState;g.state=K,di(t,i,g,s),O=t.memoizedState,P!==i||K!==O||st.current||hn?(typeof J=="function"&&(Na(t,r,J,i),O=t.memoizedState),(P=hn||Ul(t,r,P,i,K,O,j))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=O),g.props=i,g.state=O,g.context=j,i=P):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{g=t.stateNode,Dl(e,t),P=t.memoizedProps,j=t.type===t.elementType?P:Nt(t.type,P),g.props=j,se=t.pendingProps,K=g.context,O=r.contextType,typeof O=="object"&&O!==null?O=Ct(O):(O=lt(r)?Tn:$e.current,O=bn(t,O));var xe=r.getDerivedStateFromProps;(J=typeof xe=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(P!==se||K!==O)&&zl(t,g,i,O),hn=!1,K=t.memoizedState,g.state=K,di(t,i,g,s);var Pe=t.memoizedState;P!==se||K!==Pe||st.current||hn?(typeof xe=="function"&&(Na(t,r,xe,i),Pe=t.memoizedState),(j=hn||Ul(t,r,j,i,K,Pe,O)||!1)?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(i,Pe,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(i,Pe,O)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||P===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=Pe),g.props=i,g.state=Pe,g.context=O,i=j):(typeof g.componentDidUpdate!="function"||P===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||P===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),i=!1)}return Xa(e,t,r,i,u,s)}function Xa(e,t,r,i,s,u){Co(e,t);var g=(t.flags&128)!==0;if(!i&&!g)return s&&Cl(t,r,!1),$t(e,t,u);i=t.stateNode,pd.current=t;var P=g&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&g?(t.child=qn(t,e.child,null,u),t.child=qn(t,null,P,u)):at(e,t,P,u),t.memoizedState=i.state,s&&Cl(t,r,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?_l(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_l(e,t.context,!1),Oa(e,t.containerInfo)}function Eo(e,t,r,i,s){return Yn(),Ta(s),t.flags|=256,at(e,t,r,i),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Za(e){return{baseLanes:e,cachePool:null,transitions:null}}function To(e,t,r){var i=t.pendingProps,s=Oe.current,u=!1,g=(t.flags&128)!==0,P;if((P=g)||(P=e!==null&&e.memoizedState===null?!1:(s&2)!==0),P?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(Oe,s&1),e===null)return Ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?ua(e)?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=i.children,e=i.fallback,u?(i=t.mode,u=t.child,g={mode:"hidden",children:g},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=g):u=zi(g,i,0,null),e=On(e,i,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Za(r),t.memoizedState=qa,e):Ja(t,g));if(s=e.memoizedState,s!==null&&(P=s.dehydrated,P!==null))return vd(e,t,g,i,P,s,r);if(u){u=i.fallback,g=t.mode,s=e.child,P=s.sibling;var O={mode:"hidden",children:i.children};return!(g&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=O,t.deletions=null):(i=mn(s,O),i.subtreeFlags=s.subtreeFlags&14680064),P!==null?u=mn(P,u):(u=On(u,g,r,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,g=e.child.memoizedState,g=g===null?Za(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},u.memoizedState=g,u.childLanes=e.childLanes&~r,t.memoizedState=qa,i}return u=e.child,e=u.sibling,i=mn(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Ja(e,t){return t=zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _i(e,t,r,i){return i!==null&&Ta(i),qn(t,e.child,null,r),e=Ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vd(e,t,r,i,s,u,g){if(r)return t.flags&256?(t.flags&=-257,i=Ka(Error(h(422))),_i(e,t,g,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,s=t.mode,i=zi({mode:"visible",children:i.children},s,0,null),u=On(u,s,g,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&qn(t,e.child,null,g),t.child.memoizedState=Za(g),t.memoizedState=qa,u);if(!(t.mode&1))return _i(e,t,g,null);if(ua(s))return i=A1(s).digest,u=Error(h(419)),i=Ka(u,i,void 0),_i(e,t,g,i);if(r=(g&e.childLanes)!==0,ot||r){if(i=Ye,i!==null){switch(g&-g){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|g)?0:s,s!==0&&s!==u.retryLane&&(u.retryLane=s,Gt(e,s),Et(i,e,s,-1))}return ys(),i=Ka(Error(h(421))),_i(e,t,g,i)}return yl(s)?(t.flags|=128,t.child=e.child,t=Ad.bind(null,e),R1(s,t),null):(e=u.treeContext,Ae&&(St=D1(s),ft=t,Re=!0,Lt=null,vr=!1,e!==null&&(yt[_t++]=qt,yt[_t++]=Zt,yt[_t++]=kn,qt=e.id,Zt=e.overflow,kn=t)),t=Ja(t,i.children),t.flags|=4096,t)}function ko(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Aa(e.return,t,r)}function $a(e,t,r,i,s){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=r,u.tailMode=s)}function xo(e,t,r){var i=t.pendingProps,s=i.revealOrder,u=i.tail;if(at(e,t,i.children,r),i=Oe.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ko(e,r,t);else if(e.tag===19)ko(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Te(Oe,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&fi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$a(t,!1,s,r,u);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&fi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$a(t,!0,r,null,u);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(h(153));if(t.child!==null){for(e=t.child,r=mn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function md(e,t,r){switch(t.tag){case 3:Po(t),Yn();break;case 5:jl(t);break;case 1:lt(t.type)&&Zr(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:Ll(t,t.type._context,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Te(Oe,Oe.current&1),t.flags|=128,null):r&t.child.childLanes?To(e,t,r):(Te(Oe,Oe.current&1),e=$t(e,t,r),e!==null?e.sibling:null);Te(Oe,Oe.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return xo(e,t,r);t.flags|=128}var s=t.memoizedState;if(s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Oe,Oe.current),i)break;return null;case 22:case 23:return t.lanes=0,So(e,t,r)}return $t(e,t,r)}function Bt(e){e.flags|=4}function Io(e,t){if(e!==null&&e.child===t.child)return!0;if(t.flags&16)return!1;for(e=t.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var Er,Tr,Ci,wi;if(oe)Er=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)b(e,r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Tr=function(){},Ci=function(e,t,r,i,s){if(e=e.memoizedProps,e!==i){var u=t.stateNode,g=zt(wt.current);r=ue(u,r,e,i,s,g),(t.updateQueue=r)&&Bt(t)}},wi=function(e,t,r,i){r!==i&&Bt(t)};else if(Ee){Er=function(e,t,r,i){for(var s=t.child;s!==null;){if(s.tag===5){var u=s.stateNode;r&&i&&(u=vl(u,s.type,s.memoizedProps,s)),b(e,u)}else if(s.tag===6)u=s.stateNode,r&&i&&(u=ml(u,s.memoizedProps,s)),b(e,u);else if(s.tag!==4){if(s.tag===22&&s.memoizedState!==null)u=s.child,u!==null&&(u.return=s),Er(e,s,!0,!0);else if(s.child!==null){s.child.return=s,s=s.child;continue}}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};var Ao=function(e,t,r,i){for(var s=t.child;s!==null;){if(s.tag===5){var u=s.stateNode;r&&i&&(u=vl(u,s.type,s.memoizedProps,s)),pl(e,u)}else if(s.tag===6)u=s.stateNode,r&&i&&(u=ml(u,s.memoizedProps,s)),pl(e,u);else if(s.tag!==4){if(s.tag===22&&s.memoizedState!==null)u=s.child,u!==null&&(u.return=s),Ao(e,s,!0,!0);else if(s.child!==null){s.child.return=s,s=s.child;continue}}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Tr=function(e,t){var r=t.stateNode;if(!Io(e,t)){e=r.containerInfo;var i=gl(e);Ao(i,t,!1,!1),r.pendingChildren=i,Bt(t),T1(e,i)}},Ci=function(e,t,r,i,s){var u=e.stateNode,g=e.memoizedProps;if((e=Io(e,t))&&g===i)t.stateNode=u;else{var P=t.stateNode,O=zt(wt.current),j=null;g!==i&&(j=ue(P,r,g,i,s,O)),e&&j===null?t.stateNode=u:(u=E1(u,j,r,g,i,t,e,P),Z(u,r,i,s,O)&&Bt(t),t.stateNode=u,e?Bt(t):Er(u,t,!1,!1))}},wi=function(e,t,r,i){r!==i?(e=zt(Zn.current),r=zt(wt.current),t.stateNode=_e(i,e,r,t),Bt(t)):t.stateNode=e.stateNode}}else Tr=function(){},Ci=function(){},wi=function(){};function kr(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function yd(e,t,r){var i=t.pendingProps;switch(wa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return lt(t.type)&&qr(),tt(t),null;case 3:return r=t.stateNode,Jn(),ke(st),ke($e),Ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ai(t)?Bt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(vs(Lt),Lt=null))),Tr(e,t),tt(t),null;case 5:Ma(t),r=zt(Zn.current);var s=t.type;if(e!==null&&t.stateNode!=null)Ci(e,t,s,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(h(166));return tt(t),null}if(e=zt(wt.current),ai(t)){if(!Ae)throw Error(h(175));e=O1(t.stateNode,t.type,t.memoizedProps,r,e,t,!vr),t.updateQueue=e,e!==null&&Bt(t)}else{var u=ne(s,i,r,e,t);Er(u,t,!1,!1),t.stateNode=u,Z(u,s,i,r,e)&&Bt(t)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)wi(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(h(166));if(e=zt(Zn.current),r=zt(wt.current),ai(t)){if(!Ae)throw Error(h(176));if(e=t.stateNode,r=t.memoizedProps,(i=M1(e,r,t,!vr))&&(s=ft,s!==null))switch(s.tag){case 3:j1(s.stateNode.containerInfo,e,r,(s.mode&1)!==0);break;case 5:b1(s.type,s.memoizedProps,s.stateNode,e,r,(s.mode&1)!==0)}i&&Bt(t)}else t.stateNode=_e(i,e,r,t)}return tt(t),null;case 13:if(ke(Oe),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&St!==null&&t.mode&1&&!(t.flags&128))Rl(),Yn(),t.flags|=98560,s=!1;else if(s=ai(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(h(318));if(!Ae)throw Error(h(344));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(h(317));F1(s,t)}else Yn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),s=!1}else Lt!==null&&(vs(Lt),Lt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(r=i!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?je===0&&(je=3):ys())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Jn(),Tr(e,t),e===null&&we(t.stateNode.containerInfo),tt(t),null;case 10:return Ia(t.type._context),tt(t),null;case 17:return lt(t.type)&&qr(),tt(t),null;case 19:if(ke(Oe),s=t.memoizedState,s===null)return tt(t),null;if(i=(t.flags&128)!==0,u=s.rendering,u===null)if(i)kr(s,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=fi(e),u!==null){for(t.flags|=128,kr(s,!1),e=u.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=r,r=t.child;r!==null;)i=r,s=e,i.flags&=14680066,u=i.alternate,u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r=r.sibling;return Te(Oe,Oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&We()>cs&&(t.flags|=128,i=!0,kr(s,!1),t.lanes=4194304)}else{if(!i)if(e=fi(u),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),kr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Re)return tt(t),null}else 2*We()-s.renderingStartTime>cs&&r!==1073741824&&(t.flags|=128,i=!0,kr(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=We(),t.sibling=null,e=Oe.current,Te(Oe,i?e&1|2:e&1),t):(tt(t),null);case 22:case 23:return ms(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gt&1073741824&&(tt(t),oe&&t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(h(156,t.tag))}function _d(e,t){switch(wa(t),t.tag){case 1:return lt(t.type)&&qr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jn(),ke(st),ke($e),Ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ma(t),null;case 13:if(ke(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(h(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Oe),null;case 4:return Jn(),null;case 10:return Ia(t.type._context),null;case 22:case 23:return ms(),null;case 24:return null;default:return null}}var Pi=!1,nt=!1,Sd=typeof WeakSet=="function"?WeakSet:Set,q=null;function er(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Le(e,t,i)}else r.current=null}function es(e,t,r){try{r()}catch(i){Le(e,t,i)}}var Ro=!1;function Cd(e,t){for(X(e.containerInfo),q=t;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var r=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(r!==null){var i=r.memoizedProps,s=r.memoizedState,u=e.stateNode,g=u.getSnapshotBeforeUpdate(e.elementType===e.type?i:Nt(e.type,i),s);u.__reactInternalSnapshotBeforeUpdate=g}break;case 3:oe&&P1(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(P){Le(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return r=Ro,Ro=!1,r}function xr(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var u=s.destroy;s.destroy=void 0,u!==void 0&&es(t,r,u)}s=s.next}while(s!==i)}}function Ei(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function ts(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=fe(r);break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lo(e){var t=e.alternate;t!==null&&(e.alternate=null,Lo(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&It(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function No(e){return e.tag===5||e.tag===3||e.tag===4}function Do(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||No(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ns(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?v1(r,e,t):h1(r,e);else if(i!==4&&(e=e.child,e!==null))for(ns(e,t,r),e=e.sibling;e!==null;)ns(e,t,r),e=e.sibling}function rs(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?p1(r,e,t):d1(r,e);else if(i!==4&&(e=e.child,e!==null))for(rs(e,t,r),e=e.sibling;e!==null;)rs(e,t,r),e=e.sibling}var Ze=null,Dt=!1;function Vt(e,t,r){for(r=r.child;r!==null;)is(e,t,r),r=r.sibling}function is(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ti,r)}catch{}switch(r.tag){case 5:nt||er(r,t);case 6:if(oe){var i=Ze,s=Dt;Ze=null,Vt(e,t,r),Ze=i,Dt=s,Ze!==null&&(Dt?y1(Ze,r.stateNode):m1(Ze,r.stateNode))}else Vt(e,t,r);break;case 18:oe&&Ze!==null&&(Dt?B1(Ze,r.stateNode):H1(Ze,r.stateNode));break;case 4:oe?(i=Ze,s=Dt,Ze=r.stateNode.containerInfo,Dt=!0,Vt(e,t,r),Ze=i,Dt=s):(Ee&&(i=r.stateNode.containerInfo,s=gl(i),oa(i,s)),Vt(e,t,r));break;case 0:case 11:case 14:case 15:if(!nt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var u=s,g=u.destroy;u=u.tag,g!==void 0&&(u&2||u&4)&&es(r,t,g),s=s.next}while(s!==i)}Vt(e,t,r);break;case 1:if(!nt&&(er(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(P){Le(r,t,P)}Vt(e,t,r);break;case 21:Vt(e,t,r);break;case 22:r.mode&1?(nt=(i=nt)||r.memoizedState!==null,Vt(e,t,r),nt=i):Vt(e,t,r);break;default:Vt(e,t,r)}}function Oo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sd),t.forEach(function(i){var s=Rd.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function Ot(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var u=e,g=t;if(oe){var P=g;e:for(;P!==null;){switch(P.tag){case 5:Ze=P.stateNode,Dt=!1;break e;case 3:Ze=P.stateNode.containerInfo,Dt=!0;break e;case 4:Ze=P.stateNode.containerInfo,Dt=!0;break e}P=P.return}if(Ze===null)throw Error(h(160));is(u,g,s),Ze=null,Dt=!1}else is(u,g,s);var O=s.alternate;O!==null&&(O.return=null),s.return=null}catch(j){Le(s,t,j)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mo(t,e),t=t.sibling}function Mo(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),jt(e),i&4){try{xr(3,e,e.return),Ei(3,e)}catch(K){Le(e,e.return,K)}try{xr(5,e,e.return)}catch(K){Le(e,e.return,K)}}break;case 1:Ot(t,e),jt(e),i&512&&r!==null&&er(r,r.return);break;case 5:if(Ot(t,e),jt(e),i&512&&r!==null&&er(r,r.return),oe){if(e.flags&32){var s=e.stateNode;try{fl(s)}catch(K){Le(e,e.return,K)}}if(i&4&&(s=e.stateNode,s!=null)){var u=e.memoizedProps;if(r=r!==null?r.memoizedProps:u,i=e.type,t=e.updateQueue,e.updateQueue=null,t!==null)try{g1(s,t,i,r,u,e)}catch(K){Le(e,e.return,K)}}}break;case 6:if(Ot(t,e),jt(e),i&4&&oe){if(e.stateNode===null)throw Error(h(162));s=e.stateNode,u=e.memoizedProps,r=r!==null?r.memoizedProps:u;try{c1(s,r,u)}catch(K){Le(e,e.return,K)}}break;case 3:if(Ot(t,e),jt(e),i&4){if(oe&&Ae&&r!==null&&r.memoizedState.isDehydrated)try{G1(t.containerInfo)}catch(K){Le(e,e.return,K)}if(Ee){s=t.containerInfo,u=t.pendingChildren;try{oa(s,u)}catch(K){Le(e,e.return,K)}}}break;case 4:if(Ot(t,e),jt(e),i&4&&Ee){u=e.stateNode,s=u.containerInfo,u=u.pendingChildren;try{oa(s,u)}catch(K){Le(e,e.return,K)}}break;case 13:Ot(t,e),jt(e),s=e.child,s.flags&8192&&(u=s.memoizedState!==null,s.stateNode.isHidden=u,!u||s.alternate!==null&&s.alternate.memoizedState!==null||(hs=We())),i&4&&Oo(e);break;case 22:var g=r!==null&&r.memoizedState!==null;if(e.mode&1?(nt=(r=nt)||g,Ot(t,e),nt=r):Ot(t,e),jt(e),i&8192){if(r=e.memoizedState!==null,(e.stateNode.isHidden=r)&&!g&&e.mode&1)for(q=e,i=e.child;i!==null;){for(t=q=i;q!==null;){g=q;var P=g.child;switch(g.tag){case 0:case 11:case 14:case 15:xr(4,g,g.return);break;case 1:er(g,g.return);var O=g.stateNode;if(typeof O.componentWillUnmount=="function"){var j=g,J=g.return;try{var se=j;O.props=se.memoizedProps,O.state=se.memoizedState,O.componentWillUnmount()}catch(K){Le(j,J,K)}}break;case 5:er(g,g.return);break;case 22:if(g.memoizedState!==null){Go(t);continue}}P!==null?(P.return=g,q=P):Go(t)}i=i.sibling}if(oe){e:if(i=null,oe)for(t=e;;){if(t.tag===5){if(i===null){i=t;try{s=t.stateNode,r?_1(s):C1(t.stateNode,t.memoizedProps)}catch(K){Le(e,e.return,K)}}}else if(t.tag===6){if(i===null)try{u=t.stateNode,r?S1(u):w1(u,t.memoizedProps)}catch(K){Le(e,e.return,K)}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}}}break;case 19:Ot(t,e),jt(e),i&4&&Oo(e);break;case 21:break;default:Ot(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{if(oe){e:{for(var r=e.return;r!==null;){if(No(r)){var i=r;break e}r=r.return}throw Error(h(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(fl(s),i.flags&=-33);var u=Do(e);rs(e,u,s);break;case 3:case 4:var g=i.stateNode.containerInfo,P=Do(e);ns(e,P,g);break;default:throw Error(h(161))}}}catch(O){Le(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wd(e,t,r){q=e,Fo(e)}function Fo(e,t,r){for(var i=(e.mode&1)!==0;q!==null;){var s=q,u=s.child;if(s.tag===22&&i){var g=s.memoizedState!==null||Pi;if(!g){var P=s.alternate,O=P!==null&&P.memoizedState!==null||nt;P=Pi;var j=nt;if(Pi=g,(nt=O)&&!j)for(q=s;q!==null;)g=q,O=g.child,g.tag===22&&g.memoizedState!==null?zo(s):O!==null?(O.return=g,q=O):zo(s);for(;u!==null;)q=u,Fo(u),u=u.sibling;q=s,Pi=P,nt=j}Uo(e)}else s.subtreeFlags&8772&&u!==null?(u.return=s,q=u):Uo(e)}}function Uo(e){for(;q!==null;){var t=q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nt||Ei(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!nt)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Ml(t,u,i);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=fe(t.child.stateNode);break;case 1:r=t.child.stateNode}Ml(t,g,r)}break;case 5:var P=t.stateNode;r===null&&t.flags&4&&f1(P,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;case 12:break;case 13:if(Ae&&t.memoizedState===null){var O=t.alternate;if(O!==null){var j=O.memoizedState;if(j!==null){var J=j.dehydrated;J!==null&&z1(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}nt||t.flags&512&&ts(t)}catch(se){Le(t,t.return,se)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function Go(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function zo(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ei(4,t)}catch(O){Le(t,r,O)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(O){Le(t,s,O)}}var u=t.return;try{ts(t)}catch(O){Le(t,u,O)}break;case 5:var g=t.return;try{ts(t)}catch(O){Le(t,g,O)}}}catch(O){Le(t,t.return,O)}if(t===e){q=null;break}var P=t.sibling;if(P!==null){P.return=t.return,q=P;break}q=t.return}}var Ti=0,ki=1,xi=2,Ii=3,Ai=4;if(typeof Symbol=="function"&&Symbol.for){var Ir=Symbol.for;Ti=Ir("selector.component"),ki=Ir("selector.has_pseudo_class"),xi=Ir("selector.role"),Ii=Ir("selector.test_id"),Ai=Ir("selector.text")}function as(e){var t=mt(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(h(364));return t}if(e=i1(e),e===null)throw Error(h(362));return e.stateNode.current}function ss(e,t){switch(t.$$typeof){case Ti:if(e.type===t.value)return!0;break;case ki:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var i=e[r++],s=e[r++],u=t[s];if(i.tag!==5||!cr(i)){for(;u!=null&&ss(i,u);)s++,u=t[s];if(s===t.length){t=!0;break e}else for(i=i.child;i!==null;)e.push(i,s),i=i.sibling}}t=!1}return t;case xi:if(e.tag===5&&l1(e.stateNode,t.value))return!0;break;case Ai:if((e.tag===5||e.tag===6)&&(e=s1(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case Ii:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(h(365))}return!1}function ls(e){switch(e.$$typeof){case Ti:return"<"+(H(e.value)||"Unknown")+">";case ki:return":has("+(ls(e)||"")+")";case xi:return'[role="'+e.value+'"]';case Ai:return'"'+e.value+'"';case Ii:return'[data-testname="'+e.value+'"]';default:throw Error(h(365))}}function Ho(e,t){var r=[];e=[e,0];for(var i=0;i<e.length;){var s=e[i++],u=e[i++],g=t[u];if(s.tag!==5||!cr(s)){for(;g!=null&&ss(s,g);)u++,g=t[u];if(u===t.length)r.push(s);else for(s=s.child;s!==null;)e.push(s,u),s=s.sibling}}return r}function os(e,t){if(!hr)throw Error(h(363));e=as(e),e=Ho(e,t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var i=e[r++];if(i.tag===5)cr(i)||t.push(i.stateNode);else for(i=i.child;i!==null;)e.push(i),i=i.sibling}return t}var Pd=Math.ceil,Ri=v.ReactCurrentDispatcher,us=v.ReactCurrentOwner,ze=v.ReactCurrentBatchConfig,he=0,Ye=null,He=null,Je=0,gt=0,tr=un(0),je=0,Ar=null,Rn=0,Li=0,ds=0,Rr=null,ut=null,hs=0,cs=1/0,en=null;function nr(){cs=We()+500}var Ni=!1,fs=null,fn=null,Di=!1,gn=null,Oi=0,Lr=0,gs=null,Mi=-1,Fi=0;function rt(){return he&6?We():Mi!==-1?Mi:Mi=We()}function pn(e){return e.mode&1?he&2&&Je!==0?Je&-Je:ad.transition!==null?(Fi===0&&(Fi=wl()),Fi):(e=ve,e!==0?e:ln()):1}function Et(e,t,r,i){if(50<Lr)throw Lr=0,gs=null,Error(h(185));pr(e,r,i),(!(he&2)||e!==Ye)&&(e===Ye&&(!(he&2)&&(Li|=r),je===4&&vn(e,Je)),dt(e,i),r===1&&he===0&&!(t.mode&1)&&(nr(),ni&&Ut()))}function dt(e,t){var r=e.callbackNode;q1(e,t);var i=ei(e,e===Ye?Je:0);if(i===0)r!==null&&El(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&El(r),t===1)e.tag===0?id(Vo.bind(null,e)):Tl(Vo.bind(null,e)),on?r1(function(){!(he&6)&&Ut()}):ma(ya,Ut),r=null;else{switch(Pl(i)){case 1:r=ya;break;case 4:r=ed;break;case 16:r=_a;break;case 536870912:r=td;break;default:r=_a}r=Zo(r,Bo.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Bo(e,t){if(Mi=-1,Fi=0,he&6)throw Error(h(327));var r=e.callbackNode;if(Dn()&&e.callbackNode!==r)return null;var i=ei(e,e===Ye?Je:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ui(e,i);else{t=i;var s=he;he|=2;var u=Wo();(Ye!==e||Je!==t)&&(en=null,nr(),Ln(e,t));do try{kd();break}catch(P){bo(e,P)}while(1);xa(),Ri.current=u,he=s,He!==null?t=0:(Ye=null,Je=0,t=je)}if(t!==0){if(t===2&&(s=ga(e),s!==0&&(i=s,t=ps(e,s))),t===1)throw r=Ar,Ln(e,0),vn(e,i),dt(e,We()),r;if(t===6)vn(e,i);else{if(s=e.current.alternate,!(i&30)&&!Ed(s)&&(t=Ui(e,i),t===2&&(u=ga(e),u!==0&&(i=u,t=ps(e,u))),t===1))throw r=Ar,Ln(e,0),vn(e,i),dt(e,We()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(h(345));case 2:Nn(e,ut,en);break;case 3:if(vn(e,i),(i&130023424)===i&&(t=hs+500-We(),10<t)){if(ei(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=T(Nn.bind(null,e,ut,en),t);break}Nn(e,ut,en);break;case 4:if(vn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var g=31-At(i);u=1<<g,g=t[g],g>s&&(s=g),i&=~u}if(i=s,i=We()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Pd(i/1960))-i,10<i){e.timeoutHandle=T(Nn.bind(null,e,ut,en),i);break}Nn(e,ut,en);break;case 5:Nn(e,ut,en);break;default:throw Error(h(329))}}}return dt(e,We()),e.callbackNode===r?Bo.bind(null,e):null}function ps(e,t){var r=Rr;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=ut,ut=r,t!==null&&vs(t)),e}function vs(e){ut===null?ut=e:ut.push.apply(ut,e)}function Ed(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],u=s.getSnapshot;s=s.value;try{if(!Rt(u(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vn(e,t){for(t&=~ds,t&=~Li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-At(t),i=1<<r;e[r]=-1,t&=~i}}function Vo(e){if(he&6)throw Error(h(327));Dn();var t=ei(e,0);if(!(t&1))return dt(e,We()),null;var r=Ui(e,t);if(e.tag!==0&&r===2){var i=ga(e);i!==0&&(t=i,r=ps(e,i))}if(r===1)throw r=Ar,Ln(e,0),vn(e,t),dt(e,We()),r;if(r===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,ut,en),dt(e,We()),null}function jo(e){gn!==null&&gn.tag===0&&!(he&6)&&Dn();var t=he;he|=1;var r=ze.transition,i=ve;try{if(ze.transition=null,ve=1,e)return e()}finally{ve=i,ze.transition=r,he=t,!(he&6)&&Ut()}}function ms(){gt=tr.current,ke(tr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==te&&(e.timeoutHandle=te,V(r)),He!==null)for(r=He.return;r!==null;){var i=r;switch(wa(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&qr();break;case 3:Jn(),ke(st),ke($e),Ua();break;case 5:Ma(i);break;case 4:Jn();break;case 13:ke(Oe);break;case 19:ke(Oe);break;case 10:Ia(i.type._context);break;case 22:case 23:ms()}r=r.return}if(Ye=e,He=e=mn(e.current,null),Je=gt=t,je=0,Ar=null,ds=Li=Rn=0,ut=Rr=null,In!==null){for(t=0;t<In.length;t++)if(r=In[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,u=r.pending;if(u!==null){var g=u.next;u.next=s,i.next=g}r.pending=i}In=null}return e}function bo(e,t){do{var r=He;try{if(xa(),gi.current=yi,pi){for(var i=Me.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}pi=!1}if(An=0,Ke=Ve=Me=null,Sr=!1,Cr=0,us.current=null,r===null||r.return===null){je=1,Ar=t,He=null;break}e:{var u=e,g=r.return,P=r,O=t;if(t=Je,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var j=O,J=P,se=J.tag;if(!(J.mode&1)&&(se===0||se===11||se===15)){var K=J.alternate;K?(J.updateQueue=K.updateQueue,J.memoizedState=K.memoizedState,J.lanes=K.lanes):(J.updateQueue=null,J.memoizedState=null)}var xe=po(g);if(xe!==null){xe.flags&=-257,vo(xe,g,P,u,t),xe.mode&1&&go(u,j,t),t=xe,O=j;var Pe=t.updateQueue;if(Pe===null){var ht=new Set;ht.add(O),t.updateQueue=ht}else Pe.add(O);break e}else{if(!(t&1)){go(u,j,t),ys();break e}O=Error(h(426))}}else if(Re&&P.mode&1){var tn=po(g);if(tn!==null){!(tn.flags&65536)&&(tn.flags|=256),vo(tn,g,P,u,t),Ta($n(O,P));break e}}u=O=$n(O,P),je!==4&&(je=2),Rr===null?Rr=[u]:Rr.push(u),u=g;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var L=co(u,O,t);Ol(u,L);break e;case 1:P=O;var x=u.type,F=u.stateNode;if(!(u.flags&128)&&(typeof x.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(fn===null||!fn.has(F)))){u.flags|=65536,t&=-t,u.lanes|=t;var Y=fo(u,P,t);Ol(u,Y);break e}}u=u.return}while(u!==null)}Yo(r)}catch(re){t=re,He===r&&r!==null&&(He=r=r.return);continue}break}while(1)}function Wo(){var e=Ri.current;return Ri.current=yi,e===null?yi:e}function ys(){(je===0||je===3||je===2)&&(je=4),Ye===null||!(Rn&268435455)&&!(Li&268435455)||vn(Ye,Je)}function Ui(e,t){var r=he;he|=2;var i=Wo();(Ye!==e||Je!==t)&&(en=null,Ln(e,t));do try{Td();break}catch(s){bo(e,s)}while(1);if(xa(),he=r,Ri.current=i,He!==null)throw Error(h(261));return Ye=null,Je=0,je}function Td(){for(;He!==null;)Ko(He)}function kd(){for(;He!==null&&!J1();)Ko(He)}function Ko(e){var t=qo(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?Yo(e):He=t,us.current=null}function Yo(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_d(r,t),r!==null){r.flags&=32767,He=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,He=null;return}}else if(r=yd(r,t,gt),r!==null){He=r;return}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);je===0&&(je=5)}function Nn(e,t,r){var i=ve,s=ze.transition;try{ze.transition=null,ve=1,xd(e,t,r,i)}finally{ze.transition=s,ve=i}return null}function xd(e,t,r,i){do Dn();while(gn!==null);if(he&6)throw Error(h(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(Z1(e,u),e===Ye&&(He=Ye=null,Je=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Di||(Di=!0,Zo(_a,function(){return Dn(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=ze.transition,ze.transition=null;var g=ve;ve=1;var P=he;he|=4,us.current=null,Cd(e,r),Mo(r,e),ee(e.containerInfo),e.current=r,wd(r),$1(),he=P,ve=g,ze.transition=u}else e.current=r;if(Di&&(Di=!1,gn=e,Oi=s),u=e.pendingLanes,u===0&&(fn=null),nd(r.stateNode),dt(e,We()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ni)throw Ni=!1,e=fs,fs=null,e;return Oi&1&&e.tag!==0&&Dn(),u=e.pendingLanes,u&1?e===gs?Lr++:(Lr=0,gs=e):Lr=0,Ut(),null}function Dn(){if(gn!==null){var e=Pl(Oi),t=ze.transition,r=ve;try{if(ze.transition=null,ve=16>e?16:e,gn===null)var i=!1;else{if(e=gn,gn=null,Oi=0,he&6)throw Error(h(331));var s=he;for(he|=4,q=e.current;q!==null;){var u=q,g=u.child;if(q.flags&16){var P=u.deletions;if(P!==null){for(var O=0;O<P.length;O++){var j=P[O];for(q=j;q!==null;){var J=q;switch(J.tag){case 0:case 11:case 15:xr(8,J,u)}var se=J.child;if(se!==null)se.return=J,q=se;else for(;q!==null;){J=q;var K=J.sibling,xe=J.return;if(Lo(J),J===j){q=null;break}if(K!==null){K.return=xe,q=K;break}q=xe}}}var Pe=u.alternate;if(Pe!==null){var ht=Pe.child;if(ht!==null){Pe.child=null;do{var tn=ht.sibling;ht.sibling=null,ht=tn}while(ht!==null)}}q=u}}if(u.subtreeFlags&2064&&g!==null)g.return=u,q=g;else e:for(;q!==null;){if(u=q,u.flags&2048)switch(u.tag){case 0:case 11:case 15:xr(9,u,u.return)}var L=u.sibling;if(L!==null){L.return=u.return,q=L;break e}q=u.return}}var x=e.current;for(q=x;q!==null;){g=q;var F=g.child;if(g.subtreeFlags&2064&&F!==null)F.return=g,q=F;else e:for(g=x;q!==null;){if(P=q,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Ei(9,P)}}catch(re){Le(P,P.return,re)}if(P===g){q=null;break e}var Y=P.sibling;if(Y!==null){Y.return=P.return,q=Y;break e}q=P.return}}if(he=s,Ut(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ti,e)}catch{}i=!0}return i}finally{ve=r,ze.transition=t}}return!1}function Qo(e,t,r){t=$n(r,t),t=co(e,t,1),e=cn(e,t,1),t=rt(),e!==null&&(pr(e,1,t),dt(e,t))}function Le(e,t,r){if(e.tag===3)Qo(e,e,r);else for(;t!==null;){if(t.tag===3){Qo(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(fn===null||!fn.has(i))){e=$n(r,e),e=fo(t,e,1),t=cn(t,e,1),e=rt(),t!==null&&(pr(t,1,e),dt(t,e));break}}t=t.return}}function Id(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,Ye===e&&(Je&r)===r&&(je===4||je===3&&(Je&130023424)===Je&&500>We()-hs?Ln(e,0):ds|=r),dt(e,t)}function Xo(e,t){t===0&&(e.mode&1?(t=$r,$r<<=1,!($r&130023424)&&($r=4194304)):t=1);var r=rt();e=Gt(e,t),e!==null&&(pr(e,t,r),dt(e,r))}function Ad(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xo(e,r)}function Rd(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(h(314))}i!==null&&i.delete(t),Xo(e,r)}var qo;qo=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,md(e,t,r);ot=!!(e.flags&131072)}else ot=!1,Re&&t.flags&1048576&&kl(t,ii,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Si(e,t),e=t.pendingProps;var s=bn(t,$e.current);Xn(t,r),s=Ha(null,t,i,e,s,r);var u=Ba();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(i)?(u=!0,Zr(t)):u=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,La(t),s.updater=hi,t.stateNode=s,s._reactInternals=t,Da(t,i,e,r),t=Xa(null,t,i,!0,u,r)):(t.tag=0,Re&&u&&Ca(t),at(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=Nd(i),e=Nt(i,e),s){case 0:t=Qa(null,t,i,e,r);break e;case 1:t=wo(null,t,i,e,r);break e;case 11:t=mo(null,t,i,e,r);break e;case 14:t=yo(null,t,i,Nt(i.type,e),r);break e}throw Error(h(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Nt(i,s),Qa(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Nt(i,s),wo(e,t,i,s,r);case 3:e:{if(Po(t),e===null)throw Error(h(387));i=t.pendingProps,u=t.memoizedState,s=u.element,Dl(e,t),di(t,i,null,r);var g=t.memoizedState;if(i=g.element,Ae&&u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){s=$n(Error(h(423)),t),t=Eo(e,t,i,r,s);break e}else if(i!==s){s=$n(Error(h(424)),t),t=Eo(e,t,i,r,s);break e}else for(Ae&&(St=N1(t.stateNode.containerInfo),ft=t,Re=!0,Lt=null,vr=!1),r=Vl(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yn(),i===s){t=$t(e,t,r);break e}at(e,t,i,r)}t=t.child}return t;case 5:return jl(t),e===null&&Ea(t),i=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,g=s.children,Ie(i,s)?g=null:u!==null&&Ie(i,u)&&(t.flags|=32),Co(e,t),at(e,t,g,r),t.child;case 6:return e===null&&Ea(t),null;case 13:return To(e,t,r);case 4:return Oa(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=qn(t,null,i,r):at(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Nt(i,s),mo(e,t,i,s,r);case 7:return at(e,t,t.pendingProps,r),t.child;case 8:return at(e,t,t.pendingProps.children,r),t.child;case 12:return at(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,u=t.memoizedProps,g=s.value,Ll(t,i,g),u!==null)if(Rt(u.value,g)){if(u.children===s.children&&!st.current){t=$t(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var P=u.dependencies;if(P!==null){g=u.child;for(var O=P.firstContext;O!==null;){if(O.context===i){if(u.tag===1){O=Jt(-1,r&-r),O.tag=2;var j=u.updateQueue;if(j!==null){j=j.shared;var J=j.pending;J===null?O.next=O:(O.next=J.next,J.next=O),j.pending=O}}u.lanes|=r,O=u.alternate,O!==null&&(O.lanes|=r),Aa(u.return,r,t),P.lanes|=r;break}O=O.next}}else if(u.tag===10)g=u.type===t.type?null:u.child;else if(u.tag===18){if(g=u.return,g===null)throw Error(h(341));g.lanes|=r,P=g.alternate,P!==null&&(P.lanes|=r),Aa(g,r,t),g=u.sibling}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}at(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Xn(t,r),s=Ct(s),i=i(s),t.flags|=1,at(e,t,i,r),t.child;case 14:return i=t.type,s=Nt(i,t.pendingProps),s=Nt(i.type,s),yo(e,t,i,s,r);case 15:return _o(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Nt(i,s),Si(e,t),t.tag=1,lt(i)?(e=!0,Zr(t)):e=!1,Xn(t,r),Gl(t,i,s),Da(t,i,s,r),Xa(null,t,i,!0,e,r);case 19:return xo(e,t,r);case 22:return So(e,t,r)}throw Error(h(156,t.tag))};function Zo(e,t){return ma(e,t)}function Ld(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,r,i){return new Ld(e,t,r,i)}function _s(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nd(e){if(typeof e=="function")return _s(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C)return 11;if(e===U)return 14}return 2}function mn(e,t){var r=e.alternate;return r===null?(r=Tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gi(e,t,r,i,s,u){var g=2;if(i=e,typeof e=="function")_s(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case A:return On(r.children,s,u,t);case M:g=8,s|=8;break;case E:return e=Tt(12,r,t,s|2),e.elementType=E,e.lanes=u,e;case k:return e=Tt(13,r,t,s),e.elementType=k,e.lanes=u,e;case N:return e=Tt(19,r,t,s),e.elementType=N,e.lanes=u,e;case _:return zi(r,s,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:g=10;break e;case p:g=9;break e;case C:g=11;break e;case U:g=14;break e;case f:g=16,i=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return t=Tt(g,r,t,s),t.elementType=e,t.type=i,t.lanes=u,t}function On(e,t,r,i){return e=Tt(7,e,i,t),e.lanes=r,e}function zi(e,t,r,i){return e=Tt(22,e,i,t),e.elementType=_,e.lanes=r,e.stateNode={isHidden:!1},e}function Ss(e,t,r){return e=Tt(6,e,null,t),e.lanes=r,e}function Cs(e,t,r){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dd(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=i,this.onRecoverableError=s,Ae&&(this.mutableSourceEagerHydrationData=null)}function Jo(e,t,r,i,s,u,g,P,O){return e=new Dd(e,t,r,P,O),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Tt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(u),e}function $o(e){if(!e)return dn;e=e._reactInternals;e:{if(z(e)!==e||e.tag!==1)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(h(171))}if(e.tag===1){var r=e.type;if(lt(r))return Sl(e,r,t)}return t}function eu(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=Q(t),e===null?null:e.stateNode}function tu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hi(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function Od(e){return e=Q(e),e===null?null:e.stateNode}function Md(){return null}return a.attemptContinuousHydration=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=rt();Et(t,e,134217728,r)}Hi(e,134217728)}},a.attemptDiscreteHydration=function(e){if(e.tag===13){var t=Gt(e,1);if(t!==null){var r=rt();Et(t,e,1,r)}Hi(e,1)}},a.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var t=pn(e),r=Gt(e,t);if(r!==null){var i=rt();Et(r,e,t,i)}Hi(e,t)}},a.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gr(t.pendingLanes);r!==0&&(va(t,r|1),dt(t,We()),!(he&6)&&(nr(),Ut()))}break;case 13:jo(function(){var i=Gt(e,1);if(i!==null){var s=rt();Et(i,e,1,s)}}),Hi(e,1)}},a.batchedUpdates=function(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(nr(),ni&&Ut())}},a.createComponentSelector=function(e){return{$$typeof:Ti,value:e}},a.createContainer=function(e,t,r,i,s,u,g){return Jo(e,t,!1,null,r,i,s,u,g)},a.createHasPseudoClassSelector=function(e){return{$$typeof:ki,value:e}},a.createHydrationContainer=function(e,t,r,i,s,u,g,P,O){return e=Jo(r,i,!0,e,s,u,g,P,O),e.context=$o(null),r=e.current,i=rt(),s=pn(r),u=Jt(i,s),u.callback=t??null,cn(r,u,s),e.current.lanes=s,pr(e,s,i),dt(e,i),e},a.createPortal=function(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}},a.createRoleSelector=function(e){return{$$typeof:xi,value:e}},a.createTestNameSelector=function(e){return{$$typeof:Ii,value:e}},a.createTextSelector=function(e){return{$$typeof:Ai,value:e}},a.deferredUpdates=function(e){var t=ve,r=ze.transition;try{return ze.transition=null,ve=16,e()}finally{ve=t,ze.transition=r}},a.discreteUpdates=function(e,t,r,i,s){var u=ve,g=ze.transition;try{return ze.transition=null,ve=1,e(t,r,i,s)}finally{ve=u,ze.transition=g,he===0&&nr()}},a.findAllNodes=os,a.findBoundingRects=function(e,t){if(!hr)throw Error(h(363));t=os(e,t),e=[];for(var r=0;r<t.length;r++)e.push(a1(t[r]));for(t=e.length-1;0<t;t--){r=e[t];for(var i=r.x,s=i+r.width,u=r.y,g=u+r.height,P=t-1;0<=P;P--)if(t!==P){var O=e[P],j=O.x,J=j+O.width,se=O.y,K=se+O.height;if(i>=j&&u>=se&&s<=J&&g<=K){e.splice(t,1);break}else if(i!==j||r.width!==O.width||K<u||se>g){if(!(u!==se||r.height!==O.height||J<i||j>s)){j>i&&(O.width+=j-i,O.x=i),J<s&&(O.width=s-j),e.splice(t,1);break}}else{se>u&&(O.height+=se-u,O.y=u),K<g&&(O.height=g-se),e.splice(t,1);break}}}return e},a.findHostInstance=eu,a.findHostInstanceWithNoPortals=function(e){return e=G(e),e=e!==null?$(e):null,e===null?null:e.stateNode},a.findHostInstanceWithWarning=function(e){return eu(e)},a.flushControlled=function(e){var t=he;he|=1;var r=ze.transition,i=ve;try{ze.transition=null,ve=1,e()}finally{ve=i,ze.transition=r,he=t,he===0&&(nr(),Ut())}},a.flushPassiveEffects=Dn,a.flushSync=jo,a.focusWithin=function(e,t){if(!hr)throw Error(h(363));for(e=as(e),t=Ho(e,t),t=Array.from(t),e=0;e<t.length;){var r=t[e++];if(!cr(r)){if(r.tag===5&&o1(r.stateNode))return!0;for(r=r.child;r!==null;)t.push(r),r=r.sibling}}return!1},a.getCurrentUpdatePriority=function(){return ve},a.getFindAllNodesFailureDescription=function(e,t){if(!hr)throw Error(h(363));var r=0,i=[];e=[as(e),0];for(var s=0;s<e.length;){var u=e[s++],g=e[s++],P=t[g];if((u.tag!==5||!cr(u))&&(ss(u,P)&&(i.push(ls(P)),g++,g>r&&(r=g)),g<t.length))for(u=u.child;u!==null;)e.push(u,g),u=u.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(ls(t[r]));return`findAllNodes was able to match part of the selector:
  `+(i.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},a.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return fe(e.child.stateNode);default:return e.child.stateNode}},a.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:Od,findFiberByHostInstance:e.findFiberByHostInstance||Md,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{ti=t.inject(e),Ft=t}catch{}e=!!t.checkDCE}}return e},a.isAlreadyRendering=function(){return!1},a.observeVisibleRects=function(e,t,r,i){if(!hr)throw Error(h(363));e=os(e,t);var s=u1(e,r,i).disconnect;return{disconnect:function(){s()}}},a.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},a.runWithPriority=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}},a.shouldError=function(){return null},a.shouldSuspend=function(){return!1},a.updateContainer=function(e,t,r,i){var s=t.current,u=rt(),g=pn(s);return r=$o(r),t.context===null?t.context=r:t.pendingContext=r,t=Jt(u,g),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=cn(s,t,g),e!==null&&(Et(e,s,g,u),ui(e,s,g)),g},a};Zs.exports=z0;var H0=Zs.exports,tl={exports:{}},En={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */En.ConcurrentRoot=1,En.ContinuousEventPriority=4,En.DefaultEventPriority=16,En.DiscreteEventPriority=1,En.IdleEventPriority=536870912,En.LegacyRoot=0,tl.exports=En;var nl=tl.exports,rl={},sa={};(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.updatePicture=d.applyNodeProps=d.toggleStrictMode=d.EVENTS_NAMESPACE=void 0;const n=De,a={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let l=!1,o=!1;d.EVENTS_NAMESPACE=".react-konva-event";let c=!1;function h(E){c=E}d.toggleStrictMode=h;const v=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,m=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,y={};function A(E,S,p=y){if(!l&&"zIndex"in S&&(console.warn(m),l=!0),!o&&S.draggable){var C=S.x!==void 0||S.y!==void 0,k=S.onDragEnd||S.onDragMove;C&&!k&&(console.warn(v),o=!0)}for(var N in p)if(!a[N]){var U=N.slice(0,2)==="on",f=p[N]!==S[N];if(U&&f){var _=N.substr(2).toLowerCase();_.substr(0,7)==="content"&&(_="content"+_.substr(7,1).toUpperCase()+_.substr(8)),E.off(_,p[N])}var I=!S.hasOwnProperty(N);I&&E.setAttr(N,void 0)}var D=c||S._useStrictMode,H={},w=!1;const z={};for(var N in S)if(!a[N]){var U=N.slice(0,2)==="on",R=p[N]!==S[N];if(U&&R){var _=N.substr(2).toLowerCase();_.substr(0,7)==="content"&&(_="content"+_.substr(7,1).toUpperCase()+_.substr(8)),S[N]&&(z[_]=S[N])}!U&&(S[N]!==p[N]||D&&S[N]!==E.getAttr(N))&&(w=!0,H[N]=S[N])}w&&(E.setAttrs(H),M(E));for(var _ in z)E.on(_+d.EVENTS_NAMESPACE,z[_])}d.applyNodeProps=A;function M(E){if(!n.Konva.autoDrawEnabled){var S=E.getLayer()||E.getStage();S&&S.batchDraw()}}d.updatePicture=M})(sa),function(d){var n=pt&&pt.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(d,"__esModule",{value:!0}),d.getCurrentEventPriority=d.detachDeletedInstance=d.clearContainer=d.unhideTextInstance=d.unhideInstance=d.hideTextInstance=d.hideInstance=d.commitUpdate=d.commitMount=d.commitTextUpdate=d.removeChildFromContainer=d.removeChild=d.insertInContainerBefore=d.insertBefore=d.appendChildToContainer=d.appendChild=d.supportsMutation=d.warnsIfNotActing=d.isPrimaryRenderer=d.shouldSetTextContent=d.noTimeout=d.cancelTimeout=d.scheduleTimeout=d.getChildHostContext=d.getRootHostContext=d.shouldDeprioritizeSubtree=d.resetTextContent=d.resetAfterCommit=d.prepareUpdate=d.preparePortalMount=d.prepareForCommit=d.getPublicInstance=d.finalizeInitialChildren=d.createTextInstance=d.createInstance=d.appendInitialChild=d.run=d.idlePriority=d.now=void 0;const a=n(qs),l=sa;var o=el;Object.defineProperty(d,"now",{enumerable:!0,get:function(){return o.unstable_now}}),Object.defineProperty(d,"idlePriority",{enumerable:!0,get:function(){return o.unstable_IdlePriority}}),Object.defineProperty(d,"run",{enumerable:!0,get:function(){return o.unstable_runWithPriority}});const c=nl,h={},v={};a.default.Node.prototype._applyProps=l.applyNodeProps;function m(b,Z){if(typeof Z=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${Z}`);return}b.add(Z),(0,l.updatePicture)(b)}d.appendInitialChild=m;function y(b,Z,ue){let Ie=a.default[b];Ie||(console.error(`Konva has no node with the type ${b}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${b}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),Ie=a.default.Group);const _e={},T={};for(var V in Z){var te=V.slice(0,2)==="on";te?T[V]=Z[V]:_e[V]=Z[V]}const pe=new Ie(_e);return(0,l.applyNodeProps)(pe,T),pe}d.createInstance=y;function A(b,Z,ue){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${b}"`)}d.createTextInstance=A;function M(b,Z,ue){return!1}d.finalizeInitialChildren=M;function E(b){return b}d.getPublicInstance=E;function S(){return null}d.prepareForCommit=S;function p(){return null}d.preparePortalMount=p;function C(b,Z,ue,Ie){return v}d.prepareUpdate=C;function k(){}d.resetAfterCommit=k;function N(b){}d.resetTextContent=N;function U(b,Z){return!1}d.shouldDeprioritizeSubtree=U;function f(){return h}d.getRootHostContext=f;function _(){return h}d.getChildHostContext=_,d.scheduleTimeout=setTimeout,d.cancelTimeout=clearTimeout,d.noTimeout=-1;function I(b,Z){return!1}d.shouldSetTextContent=I,d.isPrimaryRenderer=!1,d.warnsIfNotActing=!0,d.supportsMutation=!0;function D(b,Z){Z.parent===b?Z.moveToTop():b.add(Z),(0,l.updatePicture)(b)}d.appendChild=D;function H(b,Z){Z.parent===b?Z.moveToTop():b.add(Z),(0,l.updatePicture)(b)}d.appendChildToContainer=H;function w(b,Z,ue){Z._remove(),b.add(Z),Z.setZIndex(ue.getZIndex()),(0,l.updatePicture)(b)}d.insertBefore=w;function z(b,Z,ue){w(b,Z,ue)}d.insertInContainerBefore=z;function R(b,Z){Z.destroy(),Z.off(l.EVENTS_NAMESPACE),(0,l.updatePicture)(b)}d.removeChild=R;function G(b,Z){Z.destroy(),Z.off(l.EVENTS_NAMESPACE),(0,l.updatePicture)(b)}d.removeChildFromContainer=G;function Q(b,Z,ue){console.error(`Text components are not yet supported in ReactKonva. You text is: "${ue}"`)}d.commitTextUpdate=Q;function W(b,Z,ue){}d.commitMount=W;function $(b,Z,ue,Ie,_e){(0,l.applyNodeProps)(b,_e,Ie)}d.commitUpdate=$;function ie(b){b.hide(),(0,l.updatePicture)(b)}d.hideInstance=ie;function fe(b){}d.hideTextInstance=fe;function Se(b,Z){(Z.visible==null||Z.visible)&&b.show()}d.unhideInstance=Se;function B(b,Z){}d.unhideTextInstance=B;function X(b){}d.clearContainer=X;function ee(){}d.detachDeletedInstance=ee;const ne=()=>c.DefaultEventPriority;d.getCurrentEventPriority=ne}(rl);var B0=Object.defineProperty,V0=Object.defineProperties,j0=Object.getOwnPropertyDescriptors,il=Object.getOwnPropertySymbols,b0=Object.prototype.hasOwnProperty,W0=Object.prototype.propertyIsEnumerable,al=(d,n,a)=>n in d?B0(d,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):d[n]=a,sl=(d,n)=>{for(var a in n||(n={}))b0.call(n,a)&&al(d,a,n[a]);if(il)for(var a of il(n))W0.call(n,a)&&al(d,a,n[a]);return d},K0=(d,n)=>V0(d,j0(n));function Vn(d,n,a){if(!d)return;if(a(d)===!0)return d;let l=n?d.return:d.child;for(;l;){const o=Vn(l,n,a);if(o)return o;l=n?null:l.sibling}}function ll(d){try{return Object.defineProperties(d,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return d}}const la=ll(Xe.createContext(null));class ol extends Xe.Component{render(){return Xe.createElement(la.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:ul,ReactCurrentDispatcher:dl}=Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function dr(){const d=Xe.useContext(la);if(d===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=Xe.useId();return Xe.useMemo(()=>{for(const l of[ul==null?void 0:ul.current,d,d==null?void 0:d.alternate]){if(!l)continue;const o=Vn(l,!1,c=>{let h=c.memoizedState;for(;h;){if(h.memoizedState===n)return!0;h=h.next}});if(o)return o}},[d,n])}function Y0(){const d=dr(),n=Xe.useMemo(()=>Vn(d,!0,a=>{var l;return((l=a.stateNode)==null?void 0:l.containerInfo)!=null}),[d]);return n==null?void 0:n.stateNode.containerInfo}function Q0(d){const n=dr(),a=Xe.useRef();return Xe.useLayoutEffect(()=>{var l;a.current=(l=Vn(n,!1,o=>typeof o.type=="string"&&(d===void 0||o.type===d)))==null?void 0:l.stateNode},[n]),a}function X0(d){const n=dr(),a=Xe.useRef();return Xe.useLayoutEffect(()=>{var l;a.current=(l=Vn(n,!0,o=>typeof o.type=="string"&&(d===void 0||o.type===d)))==null?void 0:l.stateNode},[n]),a}function hl(){var d,n;const a=dr(),[l]=Xe.useState(()=>new Map);l.clear();let o=a;for(;o;){const c=(d=o.type)==null?void 0:d._context;c&&c!==la&&!l.has(c)&&l.set(c,(n=dl==null?void 0:dl.current)==null?void 0:n.readContext(ll(c))),o=o.return}return l}function q0(){const d=hl();return Xe.useMemo(()=>Array.from(d.keys()).reduce((n,a)=>l=>Xe.createElement(n,null,Xe.createElement(a.Provider,K0(sl({},l),{value:d.get(a)}))),n=>Xe.createElement(ol,sl({},n))),[d])}const Z0=ru(Object.freeze(Object.defineProperty({__proto__:null,FiberProvider:ol,traverseFiber:Vn,useContainer:Y0,useContextBridge:q0,useContextMap:hl,useFiber:dr,useNearestChild:Q0,useNearestParent:X0},Symbol.toStringTag,{value:"Module"})));(function(d){var n=pt&&pt.__createBinding||(Object.create?function(p,C,k,N){N===void 0&&(N=k);var U=Object.getOwnPropertyDescriptor(C,k);(!U||("get"in U?!C.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return C[k]}}),Object.defineProperty(p,N,U)}:function(p,C,k,N){N===void 0&&(N=k),p[N]=C[k]}),a=pt&&pt.__setModuleDefault||(Object.create?function(p,C){Object.defineProperty(p,"default",{enumerable:!0,value:C})}:function(p,C){p.default=C}),l=pt&&pt.__importStar||function(p){if(p&&p.__esModule)return p;var C={};if(p!=null)for(var k in p)k!=="default"&&Object.prototype.hasOwnProperty.call(p,k)&&n(C,p,k);return a(C,p),C},o=pt&&pt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(d,"__esModule",{value:!0}),d.useStrictMode=d.Stage=d.KonvaRenderer=d.Transformer=d.Shape=d.Arrow=d.RegularPolygon=d.Path=d.Tag=d.Arc=d.Ring=d.Star=d.TextPath=d.Text=d.Image=d.Sprite=d.Line=d.Wedge=d.Ellipse=d.Circle=d.Rect=d.Label=d.Group=d.FastLayer=d.Layer=void 0;const c=o(Ne),h=o(qs),v=o(H0),m=nl,y=l(rl),A=sa,M=Z0;function E(p){const C=c.default.useRef({});return c.default.useLayoutEffect(()=>{C.current=p}),c.default.useLayoutEffect(()=>()=>{C.current={}},[]),C.current}const S=p=>{const C=c.default.useRef(),k=c.default.useRef(),N=c.default.useRef(),U=E(p),f=(0,M.useContextBridge)(),_=I=>{const{forwardedRef:D}=p;D&&(typeof D=="function"?D(I):D.current=I)};return c.default.useLayoutEffect(()=>(k.current=new h.default.Stage({width:p.width,height:p.height,container:C.current}),_(k.current),N.current=d.KonvaRenderer.createContainer(k.current,m.LegacyRoot,!1,null),d.KonvaRenderer.updateContainer(c.default.createElement(f,{},p.children),N.current),()=>{h.default.isBrowser&&(_(null),d.KonvaRenderer.updateContainer(null,N.current,null),k.current.destroy())}),[]),c.default.useLayoutEffect(()=>{_(k.current),(0,A.applyNodeProps)(k.current,p,U),d.KonvaRenderer.updateContainer(c.default.createElement(f,{},p.children),N.current,null)}),c.default.createElement("div",{ref:C,id:p.id,accessKey:p.accessKey,className:p.className,role:p.role,style:p.style,tabIndex:p.tabIndex,title:p.title})};d.Layer="Layer",d.FastLayer="FastLayer",d.Group="Group",d.Label="Label",d.Rect="Rect",d.Circle="Circle",d.Ellipse="Ellipse",d.Wedge="Wedge",d.Line="Line",d.Sprite="Sprite",d.Image="Image",d.Text="Text",d.TextPath="TextPath",d.Star="Star",d.Ring="Ring",d.Arc="Arc",d.Tag="Tag",d.Path="Path",d.RegularPolygon="RegularPolygon",d.Arrow="Arrow",d.Shape="Shape",d.Transformer="Transformer",d.KonvaRenderer=(0,v.default)(y),d.KonvaRenderer.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:c.default.version,rendererPackageName:"react-konva"}),d.Stage=c.default.forwardRef((p,C)=>c.default.createElement(M.FiberProvider,{},c.default.createElement(S,{...p,forwardedRef:C}))),d.useStrictMode=A.toggleStrictMode})(Gn);const cl=5;function J0(d,n){return n?"red":d?"lightgrey":"#1b728d"}const $0=d=>{const n=d.data.status==="booked",{onHover:a,onDeselect:l,onSelect:o,isSelected:c}=d;return be.jsx(Gn.Circle,{x:d.x,y:d.y,radius:cl/2,fill:J0(n,c),strokeWidth:1,onMouseEnter:h=>{var m,y;h.target._clearCache(),a(d.data.name,h.target.getAbsolutePosition());const v=(y=(m=h.target)==null?void 0:m.getStage())==null?void 0:y.container();n?v.style.cursor="not-allowed":v.style.cursor="pointer"},onMouseLeave:h=>{var m,y;a("",null);const v=(y=(m=h.target)==null?void 0:m.getStage())==null?void 0:y.container();v.style.cursor=""},onClick:h=>{console.log(h),!n&&(c?l(d.data.name):o(d.data.name))},onTap:h=>{console.log(h),!n&&(d.isSelected?d.onDeselect(d.data.name):d.onSelect(d.data.name))}})},e1=({x:d,y:n,dataSection:a,onHoverSeat:l,onSelectSeat:o,onDeselectSeat:c})=>be.jsx(Gn.Group,{children:Object.keys(a.rows).map((h,v)=>{const m=a.rows[h].seats;return be.jsxs(Ne.Fragment,{children:[m.map((y,A)=>be.jsx($0,{x:y.x,y:y.y,data:y,onHover:l,onSelect:o,onDeselect:c,isSelected:!1},y.name)),be.jsx(Gn.Text,{text:a.rows[v].name,x:a.rows[0].seats[0].x-10,y:a.rows[v].seats[0].y,fontSize:cl},"label-left"+h)]},h)})}),t1=()=>{console.log(Bi);const d=Ne.useRef(null),n=Ne.useRef(null),[a,l]=Ne.useState(1),[o,c]=Ne.useState(1),[h,v]=Ne.useState({width:1e3,height:1e3,virtualWidth:1e3}),[m,y]=Ne.useState(1e3);return Ne.useState([]),Ne.useState({seat:null}),Ne.useEffect(()=>{var M,E;const A={width:(M=d==null?void 0:d.current)==null?void 0:M.offsetWidth,height:(E=d==null?void 0:d.current)==null?void 0:E.offsetHeight};(A.width!==h.width||A.height!==h.height)&&v(A)}),Ne.useEffect(()=>{if(!n.current)return;const A=n.current,M=A==null?void 0:A.getClientRect({skipTransform:!0}),E=h.width/M.width;l(E),c(E),y(M.width)},[Bi,h]),be.jsx("div",{style:{position:"relative",backgroundColor:"lightgrey",width:"100vw",height:"100vh"},ref:d,children:be.jsx(Gn.Stage,{ref:n,width:h.width,height:h.height,draggable:!1,scaleX:a,scaleY:a,children:be.jsx(Gn.Layer,{children:be.jsx(e1,{dataSection:Bi})})})})},n1=Object.freeze(Object.defineProperty({__proto__:null,SeatMapComponent:Object.freeze(Object.defineProperty({__proto__:null,SeatMapComponent:d=>{const{viewType:n}=d;return be.jsxs(be.Fragment,{children:[n==="miniMap"&&be.jsx(du,{}),n==="section"&&be.jsx(t1,{})]})}},Symbol.toStringTag,{value:"Module"}))},Symbol.toStringTag,{value:"Module"}));nn.SeatMap=n1,Object.defineProperty(nn,Symbol.toStringTag,{value:"Module"})});
